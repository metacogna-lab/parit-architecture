(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function i(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=i(r);fetch(r.href,l)}})();var Sl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ed={exports:{}},Vr={};var N0;function aE(){if(N0)return Vr;N0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(o,r,l){var u=null;if(l!==void 0&&(u=""+l),r.key!==void 0&&(u=""+r.key),"key"in r){l={};for(var d in r)d!=="key"&&(l[d]=r[d])}else l=r;return r=l.ref,{$$typeof:t,type:o,key:u,ref:r!==void 0?r:null,props:l}}return Vr.Fragment=e,Vr.jsx=i,Vr.jsxs=i,Vr}var R0;function lE(){return R0||(R0=1,Ed.exports=aE()),Ed.exports}var _=lE(),Ad={exports:{}},Ve={};var M0;function uE(){if(M0)return Ve;M0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),S=Symbol.iterator;function T(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,A={};function w(D,L,se){this.props=D,this.context=L,this.refs=A,this.updater=se||C}w.prototype.isReactComponent={},w.prototype.setState=function(D,L){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,L,"setState")},w.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function M(){}M.prototype=w.prototype;function k(D,L,se){this.props=D,this.context=L,this.refs=A,this.updater=se||C}var P=k.prototype=new M;P.constructor=k,b(P,w.prototype),P.isPureReactComponent=!0;var z=Array.isArray;function q(){}var O={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function F(D,L,se){var ne=se.ref;return{$$typeof:t,type:D,key:L,ref:ne!==void 0?ne:null,props:se}}function ie(D,L){return F(D.type,L,D.props)}function ve(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function B(D){var L={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(se){return L[se]})}var $=/\/+/g;function R(D,L){return typeof D=="object"&&D!==null&&D.key!=null?B(""+D.key):L.toString(36)}function oe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(q,q):(D.status="pending",D.then(function(L){D.status==="pending"&&(D.status="fulfilled",D.value=L)},function(L){D.status==="pending"&&(D.status="rejected",D.reason=L)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function J(D,L,se,ne,ue){var Ae=typeof D;(Ae==="undefined"||Ae==="boolean")&&(D=null);var Ee=!1;if(D===null)Ee=!0;else switch(Ae){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(D.$$typeof){case t:case e:Ee=!0;break;case g:return Ee=D._init,J(Ee(D._payload),L,se,ne,ue)}}if(Ee)return ue=ue(D),Ee=ne===""?"."+R(D,0):ne,z(ue)?(se="",Ee!=null&&(se=Ee.replace($,"$&/")+"/"),J(ue,L,se,"",function(Xe){return Xe})):ue!=null&&(ve(ue)&&(ue=ie(ue,se+(ue.key==null||D&&D.key===ue.key?"":(""+ue.key).replace($,"$&/")+"/")+Ee)),L.push(ue)),1;Ee=0;var De=ne===""?".":ne+":";if(z(D))for(var Ie=0;Ie<D.length;Ie++)ne=D[Ie],Ae=De+R(ne,Ie),Ee+=J(ne,L,se,Ae,ue);else if(Ie=T(D),typeof Ie=="function")for(D=Ie.call(D),Ie=0;!(ne=D.next()).done;)ne=ne.value,Ae=De+R(ne,Ie++),Ee+=J(ne,L,se,Ae,ue);else if(Ae==="object"){if(typeof D.then=="function")return J(oe(D),L,se,ne,ue);throw L=String(D),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function Y(D,L,se){if(D==null)return D;var ne=[],ue=0;return J(D,ne,"","",function(Ae){return L.call(se,Ae,ue++)}),ne}function ee(D){if(D._status===-1){var L=D._result;L=L(),L.then(function(se){(D._status===0||D._status===-1)&&(D._status=1,D._result=se)},function(se){(D._status===0||D._status===-1)&&(D._status=2,D._result=se)}),D._status===-1&&(D._status=0,D._result=L)}if(D._status===1)return D._result.default;throw D._result}var ae=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Se={map:Y,forEach:function(D,L,se){Y(D,function(){L.apply(this,arguments)},se)},count:function(D){var L=0;return Y(D,function(){L++}),L},toArray:function(D){return Y(D,function(L){return L})||[]},only:function(D){if(!ve(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ve.Activity=x,Ve.Children=Se,Ve.Component=w,Ve.Fragment=i,Ve.Profiler=r,Ve.PureComponent=k,Ve.StrictMode=o,Ve.Suspense=p,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(D){return O.H.useMemoCache(D)}},Ve.cache=function(D){return function(){return D.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(D,L,se){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ne=b({},D.props),ue=D.key;if(L!=null)for(Ae in L.key!==void 0&&(ue=""+L.key),L)!G.call(L,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&L.ref===void 0||(ne[Ae]=L[Ae]);var Ae=arguments.length-2;if(Ae===1)ne.children=se;else if(1<Ae){for(var Ee=Array(Ae),De=0;De<Ae;De++)Ee[De]=arguments[De+2];ne.children=Ee}return F(D.type,ue,ne)},Ve.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},Ve.createElement=function(D,L,se){var ne,ue={},Ae=null;if(L!=null)for(ne in L.key!==void 0&&(Ae=""+L.key),L)G.call(L,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ue[ne]=L[ne]);var Ee=arguments.length-2;if(Ee===1)ue.children=se;else if(1<Ee){for(var De=Array(Ee),Ie=0;Ie<Ee;Ie++)De[Ie]=arguments[Ie+2];ue.children=De}if(D&&D.defaultProps)for(ne in Ee=D.defaultProps,Ee)ue[ne]===void 0&&(ue[ne]=Ee[ne]);return F(D,Ae,ue)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(D){return{$$typeof:d,render:D}},Ve.isValidElement=ve,Ve.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:ee}},Ve.memo=function(D,L){return{$$typeof:h,type:D,compare:L===void 0?null:L}},Ve.startTransition=function(D){var L=O.T,se={};O.T=se;try{var ne=D(),ue=O.S;ue!==null&&ue(se,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(q,ae)}catch(Ae){ae(Ae)}finally{L!==null&&se.types!==null&&(L.types=se.types),O.T=L}},Ve.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ve.use=function(D){return O.H.use(D)},Ve.useActionState=function(D,L,se){return O.H.useActionState(D,L,se)},Ve.useCallback=function(D,L){return O.H.useCallback(D,L)},Ve.useContext=function(D){return O.H.useContext(D)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(D,L){return O.H.useDeferredValue(D,L)},Ve.useEffect=function(D,L){return O.H.useEffect(D,L)},Ve.useEffectEvent=function(D){return O.H.useEffectEvent(D)},Ve.useId=function(){return O.H.useId()},Ve.useImperativeHandle=function(D,L,se){return O.H.useImperativeHandle(D,L,se)},Ve.useInsertionEffect=function(D,L){return O.H.useInsertionEffect(D,L)},Ve.useLayoutEffect=function(D,L){return O.H.useLayoutEffect(D,L)},Ve.useMemo=function(D,L){return O.H.useMemo(D,L)},Ve.useOptimistic=function(D,L){return O.H.useOptimistic(D,L)},Ve.useReducer=function(D,L,se){return O.H.useReducer(D,L,se)},Ve.useRef=function(D){return O.H.useRef(D)},Ve.useState=function(D){return O.H.useState(D)},Ve.useSyncExternalStore=function(D,L,se){return O.H.useSyncExternalStore(D,L,se)},Ve.useTransition=function(){return O.H.useTransition()},Ve.version="19.2.3",Ve}var k0;function Gf(){return k0||(k0=1,Ad.exports=uE()),Ad.exports}var ye=Gf();const bo=qx(ye);var Cd={exports:{}},Or={},wd={exports:{}},Nd={};var I0;function cE(){return I0||(I0=1,(function(t){function e(J,Y){var ee=J.length;J.push(Y);e:for(;0<ee;){var ae=ee-1>>>1,Se=J[ae];if(0<r(Se,Y))J[ae]=Y,J[ee]=Se,ee=ae;else break e}}function i(J){return J.length===0?null:J[0]}function o(J){if(J.length===0)return null;var Y=J[0],ee=J.pop();if(ee!==Y){J[0]=ee;e:for(var ae=0,Se=J.length,D=Se>>>1;ae<D;){var L=2*(ae+1)-1,se=J[L],ne=L+1,ue=J[ne];if(0>r(se,ee))ne<Se&&0>r(ue,se)?(J[ae]=ue,J[ne]=ee,ae=ne):(J[ae]=se,J[L]=ee,ae=L);else if(ne<Se&&0>r(ue,ee))J[ae]=ue,J[ne]=ee,ae=ne;else break e}}return Y}function r(J,Y){var ee=J.sortIndex-Y.sortIndex;return ee!==0?ee:J.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var p=[],h=[],g=1,x=null,S=3,T=!1,C=!1,b=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function P(J){for(var Y=i(h);Y!==null;){if(Y.callback===null)o(h);else if(Y.startTime<=J)o(h),Y.sortIndex=Y.expirationTime,e(p,Y);else break;Y=i(h)}}function z(J){if(b=!1,P(J),!C)if(i(p)!==null)C=!0,q||(q=!0,B());else{var Y=i(h);Y!==null&&oe(z,Y.startTime-J)}}var q=!1,O=-1,G=5,F=-1;function ie(){return A?!0:!(t.unstable_now()-F<G)}function ve(){if(A=!1,q){var J=t.unstable_now();F=J;var Y=!0;try{e:{C=!1,b&&(b=!1,M(O),O=-1),T=!0;var ee=S;try{t:{for(P(J),x=i(p);x!==null&&!(x.expirationTime>J&&ie());){var ae=x.callback;if(typeof ae=="function"){x.callback=null,S=x.priorityLevel;var Se=ae(x.expirationTime<=J);if(J=t.unstable_now(),typeof Se=="function"){x.callback=Se,P(J),Y=!0;break t}x===i(p)&&o(p),P(J)}else o(p);x=i(p)}if(x!==null)Y=!0;else{var D=i(h);D!==null&&oe(z,D.startTime-J),Y=!1}}break e}finally{x=null,S=ee,T=!1}Y=void 0}}finally{Y?B():q=!1}}}var B;if(typeof k=="function")B=function(){k(ve)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,R=$.port2;$.port1.onmessage=ve,B=function(){R.postMessage(null)}}else B=function(){w(ve,0)};function oe(J,Y){O=w(function(){J(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(J){switch(S){case 1:case 2:case 3:var Y=3;break;default:Y=S}var ee=S;S=Y;try{return J()}finally{S=ee}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(J,Y){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ee=S;S=J;try{return Y()}finally{S=ee}},t.unstable_scheduleCallback=function(J,Y,ee){var ae=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ae+ee:ae):ee=ae,J){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ee+Se,J={id:g++,callback:Y,priorityLevel:J,startTime:ee,expirationTime:Se,sortIndex:-1},ee>ae?(J.sortIndex=ee,e(h,J),i(p)===null&&J===i(h)&&(b?(M(O),O=-1):b=!0,oe(z,ee-ae))):(J.sortIndex=Se,e(p,J),C||T||(C=!0,q||(q=!0,B()))),J},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(J){var Y=S;return function(){var ee=S;S=Y;try{return J.apply(this,arguments)}finally{S=ee}}}})(Nd)),Nd}var D0;function dE(){return D0||(D0=1,wd.exports=cE()),wd.exports}var Rd={exports:{}},$t={};var z0;function fE(){if(z0)return $t;z0=1;var t=Gf();function e(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(p,h,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:p,containerInfo:h,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,$t.createPortal=function(p,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return l(p,h,null,g)},$t.flushSync=function(p){var h=u.T,g=o.p;try{if(u.T=null,o.p=2,p)return p()}finally{u.T=h,o.p=g,o.d.f()}},$t.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,o.d.C(p,h))},$t.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},$t.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var g=h.as,x=d(g,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,T=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?o.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:T}):g==="script"&&o.d.X(p,{crossOrigin:x,integrity:S,fetchPriority:T,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},$t.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=d(h.as,h.crossOrigin);o.d.M(p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&o.d.M(p)},$t.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,x=d(g,h.crossOrigin);o.d.L(p,g,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},$t.preloadModule=function(p,h){if(typeof p=="string")if(h){var g=d(h.as,h.crossOrigin);o.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else o.d.m(p)},$t.requestFormReset=function(p){o.d.r(p)},$t.unstable_batchedUpdates=function(p,h){return p(h)},$t.useFormState=function(p,h,g){return u.H.useFormState(p,h,g)},$t.useFormStatus=function(){return u.H.useHostTransitionStatus()},$t.version="19.2.3",$t}var P0;function jx(){if(P0)return Rd.exports;P0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rd.exports=fE(),Rd.exports}var U0;function hE(){if(U0)return Or;U0=1;var t=dE(),e=Gf(),i=jx();function o(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(o(188))}function h(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(o(188));return s!==n?null:n}for(var a=n,c=s;;){var y=a.return;if(y===null)break;var v=y.alternate;if(v===null){if(c=y.return,c!==null){a=c;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===a)return p(y),n;if(v===c)return p(y),s;v=v.sibling}throw Error(o(188))}if(a.return!==c.return)a=y,c=v;else{for(var E=!1,I=y.child;I;){if(I===a){E=!0,a=y,c=v;break}if(I===c){E=!0,c=y,a=v;break}I=I.sibling}if(!E){for(I=v.child;I;){if(I===a){E=!0,a=v,c=y;break}if(I===c){E=!0,c=v,a=y;break}I=I.sibling}if(!E)throw Error(o(189))}}if(a.alternate!==c)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?n:s}function g(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=g(n),s!==null)return s;n=n.sibling}return null}var x=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),k=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=ve&&n[ve]||n["@@iterator"],typeof n=="function"?n:null)}var $=Symbol.for("react.client.reference");function R(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===$?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case b:return"Fragment";case w:return"Profiler";case A:return"StrictMode";case z:return"Suspense";case q:return"SuspenseList";case F:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case k:return n.displayName||"Context";case M:return(n._context.displayName||"Context")+".Consumer";case P:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case O:return s=n.displayName||null,s!==null?s:R(n.type)||"Memo";case G:s=n._payload,n=n._init;try{return R(n(s))}catch{}}return null}var oe=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ae=[],Se=-1;function D(n){return{current:n}}function L(n){0>Se||(n.current=ae[Se],ae[Se]=null,Se--)}function se(n,s){Se++,ae[Se]=n.current,n.current=s}var ne=D(null),ue=D(null),Ae=D(null),Ee=D(null);function De(n,s){switch(se(Ae,s),se(ue,n),se(ne,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Zg(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Zg(s),n=Wg(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}L(ne),se(ne,n)}function Ie(){L(ne),L(ue),L(Ae)}function Xe(n){n.memoizedState!==null&&se(Ee,n);var s=ne.current,a=Wg(s,n.type);s!==a&&(se(ue,n),se(ne,a))}function Ze(n){ue.current===n&&(L(ne),L(ue)),Ee.current===n&&(L(Ee),zr._currentValue=ee)}var Tt,Jt;function N(n){if(Tt===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Tt=s&&s[1]||"",Jt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tt+n+Jt}var de=!1;function le(n,s){if(!n||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(re){var te=re}Reflect.construct(n,[],he)}else{try{he.call()}catch(re){te=re}n.call(he.prototype)}}else{try{throw Error()}catch(re){te=re}(he=n())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(re){if(re&&te&&typeof re.stack=="string")return[re.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),E=v[0],I=v[1];if(E&&I){var H=E.split(`
`),W=I.split(`
`);for(y=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;y<W.length&&!W[y].includes("DetermineComponentFrameRoot");)y++;if(c===H.length||y===W.length)for(c=H.length-1,y=W.length-1;1<=c&&0<=y&&H[c]!==W[y];)y--;for(;1<=c&&0<=y;c--,y--)if(H[c]!==W[y]){if(c!==1||y!==1)do if(c--,y--,0>y||H[c]!==W[y]){var ce=`
`+H[c].replace(" at new "," at ");return n.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",n.displayName)),ce}while(1<=c&&0<=y);break}}}finally{de=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?N(a):""}function V(n,s){switch(n.tag){case 26:case 27:case 5:return N(n.type);case 16:return N("Lazy");case 13:return n.child!==s&&s!==null?N("Suspense Fallback"):N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return le(n.type,!1);case 11:return le(n.type.render,!1);case 1:return le(n.type,!0);case 31:return N("Activity");default:return""}}function U(n){try{var s="",a=null;do s+=V(n,a),a=n,n=n.return;while(n);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var K=Object.prototype.hasOwnProperty,pe=t.unstable_scheduleCallback,me=t.unstable_cancelCallback,Q=t.unstable_shouldYield,xe=t.unstable_requestPaint,Te=t.unstable_now,_e=t.unstable_getCurrentPriorityLevel,ke=t.unstable_ImmediatePriority,tt=t.unstable_UserBlockingPriority,Oe=t.unstable_NormalPriority,Kt=t.unstable_LowPriority,Ln=t.unstable_IdlePriority,Bt=t.log,Wn=t.unstable_setDisableYieldValue,it=null,bt=null;function sn(n){if(typeof Bt=="function"&&Wn(n),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(it,n)}catch{}}var ft=Math.clz32?Math.clz32:Yo,zs=Math.log,jo=Math.LN2;function Yo(n){return n>>>=0,n===0?32:31-(zs(n)/jo|0)|0}var Qn=256,ei=262144,_n=4194304;function on(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ps(n,s,a){var c=n.pendingLanes;if(c===0)return 0;var y=0,v=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var I=c&134217727;return I!==0?(c=I&~v,c!==0?y=on(c):(E&=I,E!==0?y=on(E):a||(a=I&~n,a!==0&&(y=on(a))))):(I=c&~v,I!==0?y=on(I):E!==0?y=on(E):a||(a=c&~n,a!==0&&(y=on(a)))),y===0?0:s!==0&&s!==y&&(s&v)===0&&(v=y&-y,a=s&-s,v>=a||v===32&&(a&4194048)!==0)?s:y}function ut(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function ge(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Et(){var n=_n;return _n<<=1,(_n&62914560)===0&&(_n=4194304),n}function dt(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function It(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Xt(n,s,a,c,y,v){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var I=n.entanglements,H=n.expirationTimes,W=n.hiddenUpdates;for(a=E&~a;0<a;){var ce=31-ft(a),he=1<<ce;I[ce]=0,H[ce]=-1;var te=W[ce];if(te!==null)for(W[ce]=null,ce=0;ce<te.length;ce++){var re=te[ce];re!==null&&(re.lane&=-536870913)}a&=~he}c!==0&&ti(n,c,0),v!==0&&y===0&&n.tag!==0&&(n.suspendedLanes|=v&~(E&~s))}function ti(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var c=31-ft(s);n.entangledLanes|=s,n.entanglements[c]=n.entanglements[c]|1073741824|a&261930}function ni(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-ft(a),y=1<<c;y&s|n[c]&s&&(n[c]|=s),a&=~y}}function rs(n,s){var a=s&-s;return a=(a&42)!==0?1:Jo(a),(a&(n.suspendedLanes|s))!==0?0:a}function Jo(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ko(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Uh(){var n=Y.p;return n!==0?n:(n=window.event,n===void 0?32:_0(n.type))}function Lh(n,s){var a=Y.p;try{return Y.p=n,s()}finally{Y.p=a}}var Ri=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Ri,rn="__reactProps$"+Ri,Us="__reactContainer$"+Ri,mu="__reactEvents$"+Ri,$_="__reactListeners$"+Ri,Z_="__reactHandles$"+Ri,Vh="__reactResources$"+Ri,Xo="__reactMarker$"+Ri;function gu(n){delete n[Gt],delete n[rn],delete n[mu],delete n[$_],delete n[Z_]}function Ls(n){var s=n[Gt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Us]||a[Gt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=o0(n);n!==null;){if(a=n[Gt])return a;n=o0(n)}return s}n=a,a=n.parentNode}return null}function Vs(n){if(n=n[Gt]||n[Us]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function $o(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(o(33))}function Os(n){var s=n[Vh];return s||(s=n[Vh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ut(n){n[Xo]=!0}var Oh=new Set,Bh={};function as(n,s){Bs(n,s),Bs(n+"Capture",s)}function Bs(n,s){for(Bh[n]=s,n=0;n<s.length;n++)Oh.add(s[n])}var W_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gh={},Hh={};function Q_(n){return K.call(Hh,n)?!0:K.call(Gh,n)?!1:W_.test(n)?Hh[n]=!0:(Gh[n]=!0,!1)}function la(n,s,a){if(Q_(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function ua(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function ii(n,s,a,c){if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+c)}}function Tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Fh(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function eT(n,s,a){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,v=c.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return y.call(this)},set:function(E){a=""+E,v.call(this,E)}}),Object.defineProperty(n,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function yu(n){if(!n._valueTracker){var s=Fh(n)?"checked":"value";n._valueTracker=eT(n,s,""+n[s])}}function qh(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=Fh(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function ca(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var tT=/[\n"\\]/g;function bn(n){return n.replace(tT,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function vu(n,s,a,c,y,v,E,I){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Tn(s)):n.value!==""+Tn(s)&&(n.value=""+Tn(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?xu(n,E,Tn(s)):a!=null?xu(n,E,Tn(a)):c!=null&&n.removeAttribute("value"),y==null&&v!=null&&(n.defaultChecked=!!v),y!=null&&(n.checked=y&&typeof y!="function"&&typeof y!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?n.name=""+Tn(I):n.removeAttribute("name")}function jh(n,s,a,c,y,v,E,I){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),s!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){yu(n);return}a=a!=null?""+Tn(a):"",s=s!=null?""+Tn(s):a,I||s===n.value||(n.value=s),n.defaultValue=s}c=c??y,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=I?n.checked:!!c,n.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),yu(n)}function xu(n,s,a){s==="number"&&ca(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Gs(n,s,a,c){if(n=n.options,s){s={};for(var y=0;y<a.length;y++)s["$"+a[y]]=!0;for(a=0;a<n.length;a++)y=s.hasOwnProperty("$"+n[a].value),n[a].selected!==y&&(n[a].selected=y),y&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Tn(a),s=null,y=0;y<n.length;y++){if(n[y].value===a){n[y].selected=!0,c&&(n[y].defaultSelected=!0);return}s!==null||n[y].disabled||(s=n[y])}s!==null&&(s.selected=!0)}}function Yh(n,s,a){if(s!=null&&(s=""+Tn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+Tn(a):""}function Jh(n,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(o(92));if(oe(c)){if(1<c.length)throw Error(o(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=Tn(s),n.defaultValue=a,c=n.textContent,c===a&&c!==""&&c!==null&&(n.value=c),yu(n)}function Hs(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var nT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kh(n,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":c?n.setProperty(s,a):typeof a!="number"||a===0||nT.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function Xh(n,s,a){if(s!=null&&typeof s!="object")throw Error(o(62));if(n=n.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var y in s)c=s[y],s.hasOwnProperty(y)&&a[y]!==c&&Kh(n,y,c)}else for(var v in s)s.hasOwnProperty(v)&&Kh(n,v,s[v])}function Su(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(n){return sT.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function si(){}var _u=null;function Tu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Fs=null,qs=null;function $h(n){var s=Vs(n);if(s&&(n=s.stateNode)){var a=n[rn]||null;e:switch(n=s.stateNode,s.type){case"input":if(vu(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var y=c[rn]||null;if(!y)throw Error(o(90));vu(c,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===n.form&&qh(c)}break e;case"textarea":Yh(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Gs(n,!!a.multiple,s,!1)}}}var bu=!1;function Zh(n,s,a){if(bu)return n(s,a);bu=!0;try{var c=n(s);return c}finally{if(bu=!1,(Fs!==null||qs!==null)&&(Wa(),Fs&&(s=Fs,n=qs,qs=Fs=null,$h(s),n)))for(s=0;s<n.length;s++)$h(n[s])}}function Zo(n,s){var a=n.stateNode;if(a===null)return null;var c=a[rn]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(o(231,s,typeof a));return a}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eu=!1;if(oi)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){Eu=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{Eu=!1}var Mi=null,Au=null,fa=null;function Wh(){if(fa)return fa;var n,s=Au,a=s.length,c,y="value"in Mi?Mi.value:Mi.textContent,v=y.length;for(n=0;n<a&&s[n]===y[n];n++);var E=a-n;for(c=1;c<=E&&s[a-c]===y[v-c];c++);return fa=y.slice(n,1<c?1-c:void 0)}function ha(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function pa(){return!0}function Qh(){return!1}function an(n){function s(a,c,y,v,E){this._reactName=a,this._targetInst=y,this.type=c,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(a=n[I],this[I]=a?a(v):v[I]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?pa:Qh,this.isPropagationStopped=Qh,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pa)},persist:function(){},isPersistent:pa}),s}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ma=an(ls),Qo=x({},ls,{view:0,detail:0}),oT=an(Qo),Cu,wu,er,ga=x({},Qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ru,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==er&&(er&&n.type==="mousemove"?(Cu=n.screenX-er.screenX,wu=n.screenY-er.screenY):wu=Cu=0,er=n),Cu)},movementY:function(n){return"movementY"in n?n.movementY:wu}}),ep=an(ga),rT=x({},ga,{dataTransfer:0}),aT=an(rT),lT=x({},Qo,{relatedTarget:0}),Nu=an(lT),uT=x({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),cT=an(uT),dT=x({},ls,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),fT=an(dT),hT=x({},ls,{data:0}),tp=an(hT),pT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yT(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=gT[n])?!!s[n]:!1}function Ru(){return yT}var vT=x({},Qo,{key:function(n){if(n.key){var s=pT[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ha(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?mT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ru,charCode:function(n){return n.type==="keypress"?ha(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ha(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),xT=an(vT),ST=x({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),np=an(ST),_T=x({},Qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ru}),TT=an(_T),bT=x({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),ET=an(bT),AT=x({},ga,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),CT=an(AT),wT=x({},ls,{newState:0,oldState:0}),NT=an(wT),RT=[9,13,27,32],Mu=oi&&"CompositionEvent"in window,tr=null;oi&&"documentMode"in document&&(tr=document.documentMode);var MT=oi&&"TextEvent"in window&&!tr,ip=oi&&(!Mu||tr&&8<tr&&11>=tr),sp=" ",op=!1;function rp(n,s){switch(n){case"keyup":return RT.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ap(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var js=!1;function kT(n,s){switch(n){case"compositionend":return ap(s);case"keypress":return s.which!==32?null:(op=!0,sp);case"textInput":return n=s.data,n===sp&&op?null:n;default:return null}}function IT(n,s){if(js)return n==="compositionend"||!Mu&&rp(n,s)?(n=Wh(),fa=Au=Mi=null,js=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ip&&s.locale!=="ko"?null:s.data;default:return null}}var DT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lp(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!DT[n.type]:s==="textarea"}function up(n,s,a,c){Fs?qs?qs.push(c):qs=[c]:Fs=c,s=ol(s,"onChange"),0<s.length&&(a=new ma("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var nr=null,ir=null;function zT(n){jg(n,0)}function ya(n){var s=$o(n);if(qh(s))return n}function cp(n,s){if(n==="change")return s}var dp=!1;if(oi){var ku;if(oi){var Iu="oninput"in document;if(!Iu){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),Iu=typeof fp.oninput=="function"}ku=Iu}else ku=!1;dp=ku&&(!document.documentMode||9<document.documentMode)}function hp(){nr&&(nr.detachEvent("onpropertychange",pp),ir=nr=null)}function pp(n){if(n.propertyName==="value"&&ya(ir)){var s=[];up(s,ir,n,Tu(n)),Zh(zT,s)}}function PT(n,s,a){n==="focusin"?(hp(),nr=s,ir=a,nr.attachEvent("onpropertychange",pp)):n==="focusout"&&hp()}function UT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ya(ir)}function LT(n,s){if(n==="click")return ya(s)}function VT(n,s){if(n==="input"||n==="change")return ya(s)}function OT(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var pn=typeof Object.is=="function"?Object.is:OT;function sr(n,s){if(pn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var y=a[c];if(!K.call(s,y)||!pn(n[y],s[y]))return!1}return!0}function mp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gp(n,s){var a=mp(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=mp(a)}}function yp(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?yp(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function vp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=ca(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=ca(n.document)}return s}function Du(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var BT=oi&&"documentMode"in document&&11>=document.documentMode,Ys=null,zu=null,or=null,Pu=!1;function xp(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pu||Ys==null||Ys!==ca(c)||(c=Ys,"selectionStart"in c&&Du(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),or&&sr(or,c)||(or=c,c=ol(zu,"onSelect"),0<c.length&&(s=new ma("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=Ys)))}function us(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Js={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionrun:us("Transition","TransitionRun"),transitionstart:us("Transition","TransitionStart"),transitioncancel:us("Transition","TransitionCancel"),transitionend:us("Transition","TransitionEnd")},Uu={},Sp={};oi&&(Sp=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function cs(n){if(Uu[n])return Uu[n];if(!Js[n])return n;var s=Js[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Sp)return Uu[n]=s[a];return n}var _p=cs("animationend"),Tp=cs("animationiteration"),bp=cs("animationstart"),GT=cs("transitionrun"),HT=cs("transitionstart"),FT=cs("transitioncancel"),Ep=cs("transitionend"),Ap=new Map,Lu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lu.push("scrollEnd");function Vn(n,s){Ap.set(n,s),as(s,[n])}var va=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},En=[],Ks=0,Vu=0;function xa(){for(var n=Ks,s=Vu=Ks=0;s<n;){var a=En[s];En[s++]=null;var c=En[s];En[s++]=null;var y=En[s];En[s++]=null;var v=En[s];if(En[s++]=null,c!==null&&y!==null){var E=c.pending;E===null?y.next=y:(y.next=E.next,E.next=y),c.pending=y}v!==0&&Cp(a,y,v)}}function Sa(n,s,a,c){En[Ks++]=n,En[Ks++]=s,En[Ks++]=a,En[Ks++]=c,Vu|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Ou(n,s,a,c){return Sa(n,s,a,c),_a(n)}function ds(n,s){return Sa(n,null,null,s),_a(n)}function Cp(n,s,a){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a);for(var y=!1,v=n.return;v!==null;)v.childLanes|=a,c=v.alternate,c!==null&&(c.childLanes|=a),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(y=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,y&&s!==null&&(y=31-ft(a),n=v.hiddenUpdates,c=n[y],c===null?n[y]=[s]:c.push(s),s.lane=a|536870912),v):null}function _a(n){if(50<wr)throw wr=0,Kc=null,Error(o(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Xs={};function qT(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(n,s,a,c){return new qT(n,s,a,c)}function Bu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ri(n,s){var a=n.alternate;return a===null?(a=mn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function wp(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Ta(n,s,a,c,y,v){var E=0;if(c=n,typeof n=="function")Bu(n)&&(E=1);else if(typeof n=="string")E=Xb(n,a,ne.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case F:return n=mn(31,a,s,y),n.elementType=F,n.lanes=v,n;case b:return fs(a.children,y,v,s);case A:E=8,y|=24;break;case w:return n=mn(12,a,s,y|2),n.elementType=w,n.lanes=v,n;case z:return n=mn(13,a,s,y),n.elementType=z,n.lanes=v,n;case q:return n=mn(19,a,s,y),n.elementType=q,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k:E=10;break e;case M:E=9;break e;case P:E=11;break e;case O:E=14;break e;case G:E=16,c=null;break e}E=29,a=Error(o(130,n===null?"null":typeof n,"")),c=null}return s=mn(E,a,s,y),s.elementType=n,s.type=c,s.lanes=v,s}function fs(n,s,a,c){return n=mn(7,n,c,s),n.lanes=a,n}function Gu(n,s,a){return n=mn(6,n,null,s),n.lanes=a,n}function Np(n){var s=mn(18,null,null,0);return s.stateNode=n,s}function Hu(n,s,a){return s=mn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Rp=new WeakMap;function An(n,s){if(typeof n=="object"&&n!==null){var a=Rp.get(n);return a!==void 0?a:(s={value:n,source:s,stack:U(s)},Rp.set(n,s),s)}return{value:n,source:s,stack:U(s)}}var $s=[],Zs=0,ba=null,rr=0,Cn=[],wn=0,ki=null,Yn=1,Jn="";function ai(n,s){$s[Zs++]=rr,$s[Zs++]=ba,ba=n,rr=s}function Mp(n,s,a){Cn[wn++]=Yn,Cn[wn++]=Jn,Cn[wn++]=ki,ki=n;var c=Yn;n=Jn;var y=32-ft(c)-1;c&=~(1<<y),a+=1;var v=32-ft(s)+y;if(30<v){var E=y-y%5;v=(c&(1<<E)-1).toString(32),c>>=E,y-=E,Yn=1<<32-ft(s)+y|a<<y|c,Jn=v+n}else Yn=1<<v|a<<y|c,Jn=n}function Fu(n){n.return!==null&&(ai(n,1),Mp(n,1,0))}function qu(n){for(;n===ba;)ba=$s[--Zs],$s[Zs]=null,rr=$s[--Zs],$s[Zs]=null;for(;n===ki;)ki=Cn[--wn],Cn[wn]=null,Jn=Cn[--wn],Cn[wn]=null,Yn=Cn[--wn],Cn[wn]=null}function kp(n,s){Cn[wn++]=Yn,Cn[wn++]=Jn,Cn[wn++]=ki,Yn=s.id,Jn=s.overflow,ki=n}var Ht=null,ht=null,Ke=!1,Ii=null,Nn=!1,ju=Error(o(519));function Di(n){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ar(An(s,n)),ju}function Ip(n){var s=n.stateNode,a=n.type,c=n.memoizedProps;switch(s[Gt]=n,s[rn]=c,a){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(a=0;a<Rr.length;a++)qe(Rr[a],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":qe("invalid",s),jh(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":qe("invalid",s);break;case"textarea":qe("invalid",s),Jh(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||Xg(s.textContent,a)?(c.popover!=null&&(qe("beforetoggle",s),qe("toggle",s)),c.onScroll!=null&&qe("scroll",s),c.onScrollEnd!=null&&qe("scrollend",s),c.onClick!=null&&(s.onclick=si),s=!0):s=!1,s||Di(n,!0)}function Dp(n){for(Ht=n.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Ht=Ht.return}}function Ws(n){if(n!==Ht)return!1;if(!Ke)return Dp(n),Ke=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||ud(n.type,n.memoizedProps)),a=!a),a&&ht&&Di(n),Dp(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));ht=s0(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));ht=s0(n)}else s===27?(s=ht,Ji(n.type)?(n=pd,pd=null,ht=n):ht=s):ht=Ht?Mn(n.stateNode.nextSibling):null;return!0}function hs(){ht=Ht=null,Ke=!1}function Yu(){var n=Ii;return n!==null&&(dn===null?dn=n:dn.push.apply(dn,n),Ii=null),n}function ar(n){Ii===null?Ii=[n]:Ii.push(n)}var Ju=D(null),ps=null,li=null;function zi(n,s,a){se(Ju,s._currentValue),s._currentValue=a}function ui(n){n._currentValue=Ju.current,L(Ju)}function Ku(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function Xu(n,s,a,c){var y=n.child;for(y!==null&&(y.return=n);y!==null;){var v=y.dependencies;if(v!==null){var E=y.child;v=v.firstContext;e:for(;v!==null;){var I=v;v=y;for(var H=0;H<s.length;H++)if(I.context===s[H]){v.lanes|=a,I=v.alternate,I!==null&&(I.lanes|=a),Ku(v.return,a,n),c||(E=null);break e}v=I.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(o(341));E.lanes|=a,v=E.alternate,v!==null&&(v.lanes|=a),Ku(E,a,n),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===n){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function Qs(n,s,a,c){n=null;for(var y=s,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(o(387));if(E=E.memoizedProps,E!==null){var I=y.type;pn(y.pendingProps.value,E.value)||(n!==null?n.push(I):n=[I])}}else if(y===Ee.current){if(E=y.alternate,E===null)throw Error(o(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(n!==null?n.push(zr):n=[zr])}y=y.return}n!==null&&Xu(s,n,a,c),s.flags|=262144}function Ea(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ms(n){ps=n,li=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ft(n){return zp(ps,n)}function Aa(n,s){return ps===null&&ms(n),zp(n,s)}function zp(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},li===null){if(n===null)throw Error(o(308));li=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else li=li.next=s;return a}var jT=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,c){n.push(c)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},YT=t.unstable_scheduleCallback,JT=t.unstable_NormalPriority,wt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $u(){return{controller:new jT,data:new Map,refCount:0}}function lr(n){n.refCount--,n.refCount===0&&YT(JT,function(){n.controller.abort()})}var ur=null,Zu=0,eo=0,to=null;function KT(n,s){if(ur===null){var a=ur=[];Zu=0,eo=ed(),to={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Zu++,s.then(Pp,Pp),s}function Pp(){if(--Zu===0&&ur!==null){to!==null&&(to.status="fulfilled");var n=ur;ur=null,eo=0,to=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function XT(n,s){var a=[],c={status:"pending",value:null,reason:null,then:function(y){a.push(y)}};return n.then(function(){c.status="fulfilled",c.value=s;for(var y=0;y<a.length;y++)(0,a[y])(s)},function(y){for(c.status="rejected",c.reason=y,y=0;y<a.length;y++)(0,a[y])(void 0)}),c}var Up=J.S;J.S=function(n,s){xg=Te(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&KT(n,s),Up!==null&&Up(n,s)};var gs=D(null);function Wu(){var n=gs.current;return n!==null?n:ct.pooledCache}function Ca(n,s){s===null?se(gs,gs.current):se(gs,s.pool)}function Lp(){var n=Wu();return n===null?null:{parent:wt._currentValue,pool:n}}var no=Error(o(460)),Qu=Error(o(474)),wa=Error(o(542)),Na={then:function(){}};function Vp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Op(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(si,si),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Gp(n),n;default:if(typeof s.status=="string")s.then(si,si);else{if(n=ct,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=s,n.status="pending",n.then(function(c){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=c}},function(c){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Gp(n),n}throw vs=s,no}}function ys(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(vs=a,no):a}}var vs=null;function Bp(){if(vs===null)throw Error(o(459));var n=vs;return vs=null,n}function Gp(n){if(n===no||n===wa)throw Error(o(483))}var io=null,cr=0;function Ra(n){var s=cr;return cr+=1,io===null&&(io=[]),Op(io,n,s)}function dr(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Ma(n,s){throw s.$$typeof===S?Error(o(525)):(n=Object.prototype.toString.call(s),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Hp(n){function s(X,j){if(n){var Z=X.deletions;Z===null?(X.deletions=[j],X.flags|=16):Z.push(j)}}function a(X,j){if(!n)return null;for(;j!==null;)s(X,j),j=j.sibling;return null}function c(X){for(var j=new Map;X!==null;)X.key!==null?j.set(X.key,X):j.set(X.index,X),X=X.sibling;return j}function y(X,j){return X=ri(X,j),X.index=0,X.sibling=null,X}function v(X,j,Z){return X.index=Z,n?(Z=X.alternate,Z!==null?(Z=Z.index,Z<j?(X.flags|=67108866,j):Z):(X.flags|=67108866,j)):(X.flags|=1048576,j)}function E(X){return n&&X.alternate===null&&(X.flags|=67108866),X}function I(X,j,Z,fe){return j===null||j.tag!==6?(j=Gu(Z,X.mode,fe),j.return=X,j):(j=y(j,Z),j.return=X,j)}function H(X,j,Z,fe){var ze=Z.type;return ze===b?ce(X,j,Z.props.children,fe,Z.key):j!==null&&(j.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===G&&ys(ze)===j.type)?(j=y(j,Z.props),dr(j,Z),j.return=X,j):(j=Ta(Z.type,Z.key,Z.props,null,X.mode,fe),dr(j,Z),j.return=X,j)}function W(X,j,Z,fe){return j===null||j.tag!==4||j.stateNode.containerInfo!==Z.containerInfo||j.stateNode.implementation!==Z.implementation?(j=Hu(Z,X.mode,fe),j.return=X,j):(j=y(j,Z.children||[]),j.return=X,j)}function ce(X,j,Z,fe,ze){return j===null||j.tag!==7?(j=fs(Z,X.mode,fe,ze),j.return=X,j):(j=y(j,Z),j.return=X,j)}function he(X,j,Z){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Gu(""+j,X.mode,Z),j.return=X,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return Z=Ta(j.type,j.key,j.props,null,X.mode,Z),dr(Z,j),Z.return=X,Z;case C:return j=Hu(j,X.mode,Z),j.return=X,j;case G:return j=ys(j),he(X,j,Z)}if(oe(j)||B(j))return j=fs(j,X.mode,Z,null),j.return=X,j;if(typeof j.then=="function")return he(X,Ra(j),Z);if(j.$$typeof===k)return he(X,Aa(X,j),Z);Ma(X,j)}return null}function te(X,j,Z,fe){var ze=j!==null?j.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return ze!==null?null:I(X,j,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return Z.key===ze?H(X,j,Z,fe):null;case C:return Z.key===ze?W(X,j,Z,fe):null;case G:return Z=ys(Z),te(X,j,Z,fe)}if(oe(Z)||B(Z))return ze!==null?null:ce(X,j,Z,fe,null);if(typeof Z.then=="function")return te(X,j,Ra(Z),fe);if(Z.$$typeof===k)return te(X,j,Aa(X,Z),fe);Ma(X,Z)}return null}function re(X,j,Z,fe,ze){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return X=X.get(Z)||null,I(j,X,""+fe,ze);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case T:return X=X.get(fe.key===null?Z:fe.key)||null,H(j,X,fe,ze);case C:return X=X.get(fe.key===null?Z:fe.key)||null,W(j,X,fe,ze);case G:return fe=ys(fe),re(X,j,Z,fe,ze)}if(oe(fe)||B(fe))return X=X.get(Z)||null,ce(j,X,fe,ze,null);if(typeof fe.then=="function")return re(X,j,Z,Ra(fe),ze);if(fe.$$typeof===k)return re(X,j,Z,Aa(j,fe),ze);Ma(j,fe)}return null}function Ce(X,j,Z,fe){for(var ze=null,We=null,Re=j,Ge=j=0,Je=null;Re!==null&&Ge<Z.length;Ge++){Re.index>Ge?(Je=Re,Re=null):Je=Re.sibling;var Qe=te(X,Re,Z[Ge],fe);if(Qe===null){Re===null&&(Re=Je);break}n&&Re&&Qe.alternate===null&&s(X,Re),j=v(Qe,j,Ge),We===null?ze=Qe:We.sibling=Qe,We=Qe,Re=Je}if(Ge===Z.length)return a(X,Re),Ke&&ai(X,Ge),ze;if(Re===null){for(;Ge<Z.length;Ge++)Re=he(X,Z[Ge],fe),Re!==null&&(j=v(Re,j,Ge),We===null?ze=Re:We.sibling=Re,We=Re);return Ke&&ai(X,Ge),ze}for(Re=c(Re);Ge<Z.length;Ge++)Je=re(Re,X,Ge,Z[Ge],fe),Je!==null&&(n&&Je.alternate!==null&&Re.delete(Je.key===null?Ge:Je.key),j=v(Je,j,Ge),We===null?ze=Je:We.sibling=Je,We=Je);return n&&Re.forEach(function(Wi){return s(X,Wi)}),Ke&&ai(X,Ge),ze}function Pe(X,j,Z,fe){if(Z==null)throw Error(o(151));for(var ze=null,We=null,Re=j,Ge=j=0,Je=null,Qe=Z.next();Re!==null&&!Qe.done;Ge++,Qe=Z.next()){Re.index>Ge?(Je=Re,Re=null):Je=Re.sibling;var Wi=te(X,Re,Qe.value,fe);if(Wi===null){Re===null&&(Re=Je);break}n&&Re&&Wi.alternate===null&&s(X,Re),j=v(Wi,j,Ge),We===null?ze=Wi:We.sibling=Wi,We=Wi,Re=Je}if(Qe.done)return a(X,Re),Ke&&ai(X,Ge),ze;if(Re===null){for(;!Qe.done;Ge++,Qe=Z.next())Qe=he(X,Qe.value,fe),Qe!==null&&(j=v(Qe,j,Ge),We===null?ze=Qe:We.sibling=Qe,We=Qe);return Ke&&ai(X,Ge),ze}for(Re=c(Re);!Qe.done;Ge++,Qe=Z.next())Qe=re(Re,X,Ge,Qe.value,fe),Qe!==null&&(n&&Qe.alternate!==null&&Re.delete(Qe.key===null?Ge:Qe.key),j=v(Qe,j,Ge),We===null?ze=Qe:We.sibling=Qe,We=Qe);return n&&Re.forEach(function(rE){return s(X,rE)}),Ke&&ai(X,Ge),ze}function lt(X,j,Z,fe){if(typeof Z=="object"&&Z!==null&&Z.type===b&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:e:{for(var ze=Z.key;j!==null;){if(j.key===ze){if(ze=Z.type,ze===b){if(j.tag===7){a(X,j.sibling),fe=y(j,Z.props.children),fe.return=X,X=fe;break e}}else if(j.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===G&&ys(ze)===j.type){a(X,j.sibling),fe=y(j,Z.props),dr(fe,Z),fe.return=X,X=fe;break e}a(X,j);break}else s(X,j);j=j.sibling}Z.type===b?(fe=fs(Z.props.children,X.mode,fe,Z.key),fe.return=X,X=fe):(fe=Ta(Z.type,Z.key,Z.props,null,X.mode,fe),dr(fe,Z),fe.return=X,X=fe)}return E(X);case C:e:{for(ze=Z.key;j!==null;){if(j.key===ze)if(j.tag===4&&j.stateNode.containerInfo===Z.containerInfo&&j.stateNode.implementation===Z.implementation){a(X,j.sibling),fe=y(j,Z.children||[]),fe.return=X,X=fe;break e}else{a(X,j);break}else s(X,j);j=j.sibling}fe=Hu(Z,X.mode,fe),fe.return=X,X=fe}return E(X);case G:return Z=ys(Z),lt(X,j,Z,fe)}if(oe(Z))return Ce(X,j,Z,fe);if(B(Z)){if(ze=B(Z),typeof ze!="function")throw Error(o(150));return Z=ze.call(Z),Pe(X,j,Z,fe)}if(typeof Z.then=="function")return lt(X,j,Ra(Z),fe);if(Z.$$typeof===k)return lt(X,j,Aa(X,Z),fe);Ma(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,j!==null&&j.tag===6?(a(X,j.sibling),fe=y(j,Z),fe.return=X,X=fe):(a(X,j),fe=Gu(Z,X.mode,fe),fe.return=X,X=fe),E(X)):a(X,j)}return function(X,j,Z,fe){try{cr=0;var ze=lt(X,j,Z,fe);return io=null,ze}catch(Re){if(Re===no||Re===wa)throw Re;var We=mn(29,Re,null,X.mode);return We.lanes=fe,We.return=X,We}}}var xs=Hp(!0),Fp=Hp(!1),Pi=!1;function ec(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tc(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ui(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Li(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(nt&2)!==0){var y=c.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),c.pending=s,s=_a(n),Cp(n,null,a),s}return Sa(n,c,s,a),_a(n)}function fr(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,ni(n,a)}}function nc(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var y=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?y=v=E:v=v.next=E,a=a.next}while(a!==null);v===null?y=v=s:v=v.next=s}else y=v=s;a={baseState:c.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var ic=!1;function hr(){if(ic){var n=to;if(n!==null)throw n}}function pr(n,s,a,c){ic=!1;var y=n.updateQueue;Pi=!1;var v=y.firstBaseUpdate,E=y.lastBaseUpdate,I=y.shared.pending;if(I!==null){y.shared.pending=null;var H=I,W=H.next;H.next=null,E===null?v=W:E.next=W,E=H;var ce=n.alternate;ce!==null&&(ce=ce.updateQueue,I=ce.lastBaseUpdate,I!==E&&(I===null?ce.firstBaseUpdate=W:I.next=W,ce.lastBaseUpdate=H))}if(v!==null){var he=y.baseState;E=0,ce=W=H=null,I=v;do{var te=I.lane&-536870913,re=te!==I.lane;if(re?(Ye&te)===te:(c&te)===te){te!==0&&te===eo&&(ic=!0),ce!==null&&(ce=ce.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ce=n,Pe=I;te=s;var lt=a;switch(Pe.tag){case 1:if(Ce=Pe.payload,typeof Ce=="function"){he=Ce.call(lt,he,te);break e}he=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Pe.payload,te=typeof Ce=="function"?Ce.call(lt,he,te):Ce,te==null)break e;he=x({},he,te);break e;case 2:Pi=!0}}te=I.callback,te!==null&&(n.flags|=64,re&&(n.flags|=8192),re=y.callbacks,re===null?y.callbacks=[te]:re.push(te))}else re={lane:te,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ce===null?(W=ce=re,H=he):ce=ce.next=re,E|=te;if(I=I.next,I===null){if(I=y.shared.pending,I===null)break;re=I,I=re.next,re.next=null,y.lastBaseUpdate=re,y.shared.pending=null}}while(!0);ce===null&&(H=he),y.baseState=H,y.firstBaseUpdate=W,y.lastBaseUpdate=ce,v===null&&(y.shared.lanes=0),Hi|=E,n.lanes=E,n.memoizedState=he}}function qp(n,s){if(typeof n!="function")throw Error(o(191,n));n.call(s)}function jp(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)qp(a[n],s)}var so=D(null),ka=D(0);function Yp(n,s){n=vi,se(ka,n),se(so,s),vi=n|s.baseLanes}function sc(){se(ka,vi),se(so,so.current)}function oc(){vi=ka.current,L(so),L(ka)}var gn=D(null),Rn=null;function Vi(n){var s=n.alternate;se(At,At.current&1),se(gn,n),Rn===null&&(s===null||so.current!==null||s.memoizedState!==null)&&(Rn=n)}function rc(n){se(At,At.current),se(gn,n),Rn===null&&(Rn=n)}function Jp(n){n.tag===22?(se(At,At.current),se(gn,n),Rn===null&&(Rn=n)):Oi()}function Oi(){se(At,At.current),se(gn,gn.current)}function yn(n){L(gn),Rn===n&&(Rn=null),L(At)}var At=D(0);function Ia(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||fd(a)||hd(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ci=0,Be=null,rt=null,Nt=null,Da=!1,oo=!1,Ss=!1,za=0,mr=0,ro=null,$T=0;function vt(){throw Error(o(321))}function ac(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!pn(n[a],s[a]))return!1;return!0}function lc(n,s,a,c,y,v){return ci=v,Be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,J.H=n===null||n.memoizedState===null?Mm:bc,Ss=!1,v=a(c,y),Ss=!1,oo&&(v=Xp(s,a,c,y)),Kp(n),v}function Kp(n){J.H=vr;var s=rt!==null&&rt.next!==null;if(ci=0,Nt=rt=Be=null,Da=!1,mr=0,ro=null,s)throw Error(o(300));n===null||Rt||(n=n.dependencies,n!==null&&Ea(n)&&(Rt=!0))}function Xp(n,s,a,c){Be=n;var y=0;do{if(oo&&(ro=null),mr=0,oo=!1,25<=y)throw Error(o(301));if(y+=1,Nt=rt=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}J.H=km,v=s(a,c)}while(oo);return v}function ZT(){var n=J.H,s=n.useState()[0];return s=typeof s.then=="function"?gr(s):s,n=n.useState()[0],(rt!==null?rt.memoizedState:null)!==n&&(Be.flags|=1024),s}function uc(){var n=za!==0;return za=0,n}function cc(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function dc(n){if(Da){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Da=!1}ci=0,Nt=rt=Be=null,oo=!1,mr=za=0,ro=null}function Qt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Be.memoizedState=Nt=n:Nt=Nt.next=n,Nt}function Ct(){if(rt===null){var n=Be.alternate;n=n!==null?n.memoizedState:null}else n=rt.next;var s=Nt===null?Be.memoizedState:Nt.next;if(s!==null)Nt=s,rt=n;else{if(n===null)throw Be.alternate===null?Error(o(467)):Error(o(310));rt=n,n={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Nt===null?Be.memoizedState=Nt=n:Nt=Nt.next=n}return Nt}function Pa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gr(n){var s=mr;return mr+=1,ro===null&&(ro=[]),n=Op(ro,n,s),s=Be,(Nt===null?s.memoizedState:Nt.next)===null&&(s=s.alternate,J.H=s===null||s.memoizedState===null?Mm:bc),n}function Ua(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return gr(n);if(n.$$typeof===k)return Ft(n)}throw Error(o(438,String(n)))}function fc(n){var s=null,a=Be.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Pa(),Be.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),c=0;c<n;c++)a[c]=ie;return s.index++,a}function di(n,s){return typeof s=="function"?s(n):s}function La(n){var s=Ct();return hc(s,rt,n)}function hc(n,s,a){var c=n.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=a;var y=n.baseQueue,v=c.pending;if(v!==null){if(y!==null){var E=y.next;y.next=v.next,v.next=E}s.baseQueue=y=v,c.pending=null}if(v=n.baseState,y===null)n.memoizedState=v;else{s=y.next;var I=E=null,H=null,W=s,ce=!1;do{var he=W.lane&-536870913;if(he!==W.lane?(Ye&he)===he:(ci&he)===he){var te=W.revertLane;if(te===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),he===eo&&(ce=!0);else if((ci&te)===te){W=W.next,te===eo&&(ce=!0);continue}else he={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},H===null?(I=H=he,E=v):H=H.next=he,Be.lanes|=te,Hi|=te;he=W.action,Ss&&a(v,he),v=W.hasEagerState?W.eagerState:a(v,he)}else te={lane:he,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},H===null?(I=H=te,E=v):H=H.next=te,Be.lanes|=he,Hi|=he;W=W.next}while(W!==null&&W!==s);if(H===null?E=v:H.next=I,!pn(v,n.memoizedState)&&(Rt=!0,ce&&(a=to,a!==null)))throw a;n.memoizedState=v,n.baseState=E,n.baseQueue=H,c.lastRenderedState=v}return y===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function pc(n){var s=Ct(),a=s.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var c=a.dispatch,y=a.pending,v=s.memoizedState;if(y!==null){a.pending=null;var E=y=y.next;do v=n(v,E.action),E=E.next;while(E!==y);pn(v,s.memoizedState)||(Rt=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),a.lastRenderedState=v}return[v,c]}function $p(n,s,a){var c=Be,y=Ct(),v=Ke;if(v){if(a===void 0)throw Error(o(407));a=a()}else a=s();var E=!pn((rt||y).memoizedState,a);if(E&&(y.memoizedState=a,Rt=!0),y=y.queue,yc(Qp.bind(null,c,y,n),[n]),y.getSnapshot!==s||E||Nt!==null&&Nt.memoizedState.tag&1){if(c.flags|=2048,ao(9,{destroy:void 0},Wp.bind(null,c,y,a,s),null),ct===null)throw Error(o(349));v||(ci&127)!==0||Zp(c,s,a)}return a}function Zp(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Be.updateQueue,s===null?(s=Pa(),Be.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Wp(n,s,a,c){s.value=a,s.getSnapshot=c,em(s)&&tm(n)}function Qp(n,s,a){return a(function(){em(s)&&tm(n)})}function em(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!pn(n,a)}catch{return!0}}function tm(n){var s=ds(n,2);s!==null&&fn(s,n,2)}function mc(n){var s=Qt();if(typeof n=="function"){var a=n;if(n=a(),Ss){sn(!0);try{a()}finally{sn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:n},s}function nm(n,s,a,c){return n.baseState=a,hc(n,rt,typeof c=="function"?c:di)}function WT(n,s,a,c,y){if(Ba(n))throw Error(o(485));if(n=s.action,n!==null){var v={payload:y,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};J.T!==null?a(!0):v.isTransition=!1,c(v),a=s.pending,a===null?(v.next=s.pending=v,im(s,v)):(v.next=a.next,s.pending=a.next=v)}}function im(n,s){var a=s.action,c=s.payload,y=n.state;if(s.isTransition){var v=J.T,E={};J.T=E;try{var I=a(y,c),H=J.S;H!==null&&H(E,I),sm(n,s,I)}catch(W){gc(n,s,W)}finally{v!==null&&E.types!==null&&(v.types=E.types),J.T=v}}else try{v=a(y,c),sm(n,s,v)}catch(W){gc(n,s,W)}}function sm(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){om(n,s,c)},function(c){return gc(n,s,c)}):om(n,s,a)}function om(n,s,a){s.status="fulfilled",s.value=a,rm(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,im(n,a)))}function gc(n,s,a){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,rm(s),s=s.next;while(s!==c)}n.action=null}function rm(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function am(n,s){return s}function lm(n,s){if(Ke){var a=ct.formState;if(a!==null){e:{var c=Be;if(Ke){if(ht){t:{for(var y=ht,v=Nn;y.nodeType!==8;){if(!v){y=null;break t}if(y=Mn(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){ht=Mn(y.nextSibling),c=y.data==="F!";break e}}Di(c)}c=!1}c&&(s=a[0])}}return a=Qt(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:am,lastRenderedState:s},a.queue=c,a=wm.bind(null,Be,c),c.dispatch=a,c=mc(!1),v=Tc.bind(null,Be,!1,c.queue),c=Qt(),y={state:s,dispatch:null,action:n,pending:null},c.queue=y,a=WT.bind(null,Be,y,v,a),y.dispatch=a,c.memoizedState=n,[s,a,!1]}function um(n){var s=Ct();return cm(s,rt,n)}function cm(n,s,a){if(s=hc(n,s,am)[0],n=La(di)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=gr(s)}catch(E){throw E===no?wa:E}else c=s;s=Ct();var y=s.queue,v=y.dispatch;return a!==s.memoizedState&&(Be.flags|=2048,ao(9,{destroy:void 0},QT.bind(null,y,a),null)),[c,v,n]}function QT(n,s){n.action=s}function dm(n){var s=Ct(),a=rt;if(a!==null)return cm(s,a,n);Ct(),s=s.memoizedState,a=Ct();var c=a.queue.dispatch;return a.memoizedState=n,[s,c,!1]}function ao(n,s,a,c){return n={tag:n,create:a,deps:c,inst:s,next:null},s=Be.updateQueue,s===null&&(s=Pa(),Be.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n),n}function fm(){return Ct().memoizedState}function Va(n,s,a,c){var y=Qt();Be.flags|=n,y.memoizedState=ao(1|s,{destroy:void 0},a,c===void 0?null:c)}function Oa(n,s,a,c){var y=Ct();c=c===void 0?null:c;var v=y.memoizedState.inst;rt!==null&&c!==null&&ac(c,rt.memoizedState.deps)?y.memoizedState=ao(s,v,a,c):(Be.flags|=n,y.memoizedState=ao(1|s,v,a,c))}function hm(n,s){Va(8390656,8,n,s)}function yc(n,s){Oa(2048,8,n,s)}function eb(n){Be.flags|=4;var s=Be.updateQueue;if(s===null)s=Pa(),Be.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function pm(n){var s=Ct().memoizedState;return eb({ref:s,nextImpl:n}),function(){if((nt&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function mm(n,s){return Oa(4,2,n,s)}function gm(n,s){return Oa(4,4,n,s)}function ym(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function vm(n,s,a){a=a!=null?a.concat([n]):null,Oa(4,4,ym.bind(null,s,n),a)}function vc(){}function xm(n,s){var a=Ct();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&ac(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function Sm(n,s){var a=Ct();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&ac(s,c[1]))return c[0];if(c=n(),Ss){sn(!0);try{n()}finally{sn(!1)}}return a.memoizedState=[c,s],c}function xc(n,s,a){return a===void 0||(ci&1073741824)!==0&&(Ye&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=_g(),Be.lanes|=n,Hi|=n,a)}function _m(n,s,a,c){return pn(a,s)?a:so.current!==null?(n=xc(n,a,c),pn(n,s)||(Rt=!0),n):(ci&42)===0||(ci&1073741824)!==0&&(Ye&261930)===0?(Rt=!0,n.memoizedState=a):(n=_g(),Be.lanes|=n,Hi|=n,s)}function Tm(n,s,a,c,y){var v=Y.p;Y.p=v!==0&&8>v?v:8;var E=J.T,I={};J.T=I,Tc(n,!1,s,a);try{var H=y(),W=J.S;if(W!==null&&W(I,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ce=XT(H,c);yr(n,s,ce,Sn(n))}else yr(n,s,c,Sn(n))}catch(he){yr(n,s,{then:function(){},status:"rejected",reason:he},Sn())}finally{Y.p=v,E!==null&&I.types!==null&&(E.types=I.types),J.T=E}}function tb(){}function Sc(n,s,a,c){if(n.tag!==5)throw Error(o(476));var y=bm(n).queue;Tm(n,y,s,ee,a===null?tb:function(){return Em(n),a(c)})}function bm(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:ee},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Em(n){var s=bm(n);s.next===null&&(s=n.alternate.memoizedState),yr(n,s.next.queue,{},Sn())}function _c(){return Ft(zr)}function Am(){return Ct().memoizedState}function Cm(){return Ct().memoizedState}function nb(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Sn();n=Ui(a);var c=Li(s,n,a);c!==null&&(fn(c,s,a),fr(c,s,a)),s={cache:$u()},n.payload=s;return}s=s.return}}function ib(n,s,a){var c=Sn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ba(n)?Nm(s,a):(a=Ou(n,s,a,c),a!==null&&(fn(a,n,c),Rm(a,s,c)))}function wm(n,s,a){var c=Sn();yr(n,s,a,c)}function yr(n,s,a,c){var y={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ba(n))Nm(s,y);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var E=s.lastRenderedState,I=v(E,a);if(y.hasEagerState=!0,y.eagerState=I,pn(I,E))return Sa(n,s,y,0),ct===null&&xa(),!1}catch{}if(a=Ou(n,s,y,c),a!==null)return fn(a,n,c),Rm(a,s,c),!0}return!1}function Tc(n,s,a,c){if(c={lane:2,revertLane:ed(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ba(n)){if(s)throw Error(o(479))}else s=Ou(n,a,c,2),s!==null&&fn(s,n,2)}function Ba(n){var s=n.alternate;return n===Be||s!==null&&s===Be}function Nm(n,s){oo=Da=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Rm(n,s,a){if((a&4194048)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,ni(n,a)}}var vr={readContext:Ft,use:Ua,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};vr.useEffectEvent=vt;var Mm={readContext:Ft,use:Ua,useCallback:function(n,s){return Qt().memoizedState=[n,s===void 0?null:s],n},useContext:Ft,useEffect:hm,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Va(4194308,4,ym.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Va(4194308,4,n,s)},useInsertionEffect:function(n,s){Va(4,2,n,s)},useMemo:function(n,s){var a=Qt();s=s===void 0?null:s;var c=n();if(Ss){sn(!0);try{n()}finally{sn(!1)}}return a.memoizedState=[c,s],c},useReducer:function(n,s,a){var c=Qt();if(a!==void 0){var y=a(s);if(Ss){sn(!0);try{a(s)}finally{sn(!1)}}}else y=s;return c.memoizedState=c.baseState=y,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:y},c.queue=n,n=n.dispatch=ib.bind(null,Be,n),[c.memoizedState,n]},useRef:function(n){var s=Qt();return n={current:n},s.memoizedState=n},useState:function(n){n=mc(n);var s=n.queue,a=wm.bind(null,Be,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:vc,useDeferredValue:function(n,s){var a=Qt();return xc(a,n,s)},useTransition:function(){var n=mc(!1);return n=Tm.bind(null,Be,n.queue,!0,!1),Qt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var c=Be,y=Qt();if(Ke){if(a===void 0)throw Error(o(407));a=a()}else{if(a=s(),ct===null)throw Error(o(349));(Ye&127)!==0||Zp(c,s,a)}y.memoizedState=a;var v={value:a,getSnapshot:s};return y.queue=v,hm(Qp.bind(null,c,v,n),[n]),c.flags|=2048,ao(9,{destroy:void 0},Wp.bind(null,c,v,a,s),null),a},useId:function(){var n=Qt(),s=ct.identifierPrefix;if(Ke){var a=Jn,c=Yn;a=(c&~(1<<32-ft(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=za++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=$T++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:_c,useFormState:lm,useActionState:lm,useOptimistic:function(n){var s=Qt();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Tc.bind(null,Be,!0,a),a.dispatch=s,[n,s]},useMemoCache:fc,useCacheRefresh:function(){return Qt().memoizedState=nb.bind(null,Be)},useEffectEvent:function(n){var s=Qt(),a={impl:n};return s.memoizedState=a,function(){if((nt&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},bc={readContext:Ft,use:Ua,useCallback:xm,useContext:Ft,useEffect:yc,useImperativeHandle:vm,useInsertionEffect:mm,useLayoutEffect:gm,useMemo:Sm,useReducer:La,useRef:fm,useState:function(){return La(di)},useDebugValue:vc,useDeferredValue:function(n,s){var a=Ct();return _m(a,rt.memoizedState,n,s)},useTransition:function(){var n=La(di)[0],s=Ct().memoizedState;return[typeof n=="boolean"?n:gr(n),s]},useSyncExternalStore:$p,useId:Am,useHostTransitionStatus:_c,useFormState:um,useActionState:um,useOptimistic:function(n,s){var a=Ct();return nm(a,rt,n,s)},useMemoCache:fc,useCacheRefresh:Cm};bc.useEffectEvent=pm;var km={readContext:Ft,use:Ua,useCallback:xm,useContext:Ft,useEffect:yc,useImperativeHandle:vm,useInsertionEffect:mm,useLayoutEffect:gm,useMemo:Sm,useReducer:pc,useRef:fm,useState:function(){return pc(di)},useDebugValue:vc,useDeferredValue:function(n,s){var a=Ct();return rt===null?xc(a,n,s):_m(a,rt.memoizedState,n,s)},useTransition:function(){var n=pc(di)[0],s=Ct().memoizedState;return[typeof n=="boolean"?n:gr(n),s]},useSyncExternalStore:$p,useId:Am,useHostTransitionStatus:_c,useFormState:dm,useActionState:dm,useOptimistic:function(n,s){var a=Ct();return rt!==null?nm(a,rt,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:fc,useCacheRefresh:Cm};km.useEffectEvent=pm;function Ec(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:x({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ac={enqueueSetState:function(n,s,a){n=n._reactInternals;var c=Sn(),y=Ui(c);y.payload=s,a!=null&&(y.callback=a),s=Li(n,y,c),s!==null&&(fn(s,n,c),fr(s,n,c))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=Sn(),y=Ui(c);y.tag=1,y.payload=s,a!=null&&(y.callback=a),s=Li(n,y,c),s!==null&&(fn(s,n,c),fr(s,n,c))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Sn(),c=Ui(a);c.tag=2,s!=null&&(c.callback=s),s=Li(n,c,a),s!==null&&(fn(s,n,a),fr(s,n,a))}};function Im(n,s,a,c,y,v,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,v,E):s.prototype&&s.prototype.isPureReactComponent?!sr(a,c)||!sr(y,v):!0}function Dm(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&Ac.enqueueReplaceState(s,s.state,null)}function _s(n,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(n=n.defaultProps){a===s&&(a=x({},a));for(var y in n)a[y]===void 0&&(a[y]=n[y])}return a}function zm(n){va(n)}function Pm(n){console.error(n)}function Um(n){va(n)}function Ga(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Lm(n,s,a){try{var c=n.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Cc(n,s,a){return a=Ui(a),a.tag=3,a.payload={element:null},a.callback=function(){Ga(n,s)},a}function Vm(n){return n=Ui(n),n.tag=3,n}function Om(n,s,a,c){var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var v=c.value;n.payload=function(){return y(v)},n.callback=function(){Lm(s,a,c)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Lm(s,a,c),typeof y!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function sb(n,s,a,c,y){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&Qs(s,a,y,!0),a=gn.current,a!==null){switch(a.tag){case 31:case 13:return Rn===null?Qa():a.alternate===null&&xt===0&&(xt=3),a.flags&=-257,a.flags|=65536,a.lanes=y,c===Na?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),Zc(n,c,y)),!1;case 22:return a.flags|=65536,c===Na?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),Zc(n,c,y)),!1}throw Error(o(435,a.tag))}return Zc(n,c,y),Qa(),!1}if(Ke)return s=gn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,c!==ju&&(n=Error(o(422),{cause:c}),ar(An(n,a)))):(c!==ju&&(s=Error(o(423),{cause:c}),ar(An(s,a))),n=n.current.alternate,n.flags|=65536,y&=-y,n.lanes|=y,c=An(c,a),y=Cc(n.stateNode,c,y),nc(n,y),xt!==4&&(xt=2)),!1;var v=Error(o(520),{cause:c});if(v=An(v,a),Cr===null?Cr=[v]:Cr.push(v),xt!==4&&(xt=2),s===null)return!0;c=An(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=y&-y,a.lanes|=n,n=Cc(a.stateNode,c,n),nc(a,n),!1;case 1:if(s=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Fi===null||!Fi.has(v))))return a.flags|=65536,y&=-y,a.lanes|=y,y=Vm(y),Om(y,n,a,c),nc(a,y),!1}a=a.return}while(a!==null);return!1}var wc=Error(o(461)),Rt=!1;function qt(n,s,a,c){s.child=n===null?Fp(s,null,a,c):xs(s,n.child,a,c)}function Bm(n,s,a,c,y){a=a.render;var v=s.ref;if("ref"in c){var E={};for(var I in c)I!=="ref"&&(E[I]=c[I])}else E=c;return ms(s),c=lc(n,s,a,E,v,y),I=uc(),n!==null&&!Rt?(cc(n,s,y),fi(n,s,y)):(Ke&&I&&Fu(s),s.flags|=1,qt(n,s,c,y),s.child)}function Gm(n,s,a,c,y){if(n===null){var v=a.type;return typeof v=="function"&&!Bu(v)&&v.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=v,Hm(n,s,v,c,y)):(n=Ta(a.type,null,c,s,s.mode,y),n.ref=s.ref,n.return=s,s.child=n)}if(v=n.child,!Pc(n,y)){var E=v.memoizedProps;if(a=a.compare,a=a!==null?a:sr,a(E,c)&&n.ref===s.ref)return fi(n,s,y)}return s.flags|=1,n=ri(v,c),n.ref=s.ref,n.return=s,s.child=n}function Hm(n,s,a,c,y){if(n!==null){var v=n.memoizedProps;if(sr(v,c)&&n.ref===s.ref)if(Rt=!1,s.pendingProps=c=v,Pc(n,y))(n.flags&131072)!==0&&(Rt=!0);else return s.lanes=n.lanes,fi(n,s,y)}return Nc(n,s,a,c,y)}function Fm(n,s,a,c){var y=c.children,v=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|a:a,n!==null){for(c=s.child=n.child,y=0;c!==null;)y=y|c.lanes|c.childLanes,c=c.sibling;c=y&~v}else c=0,s.child=null;return qm(n,s,v,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ca(s,v!==null?v.cachePool:null),v!==null?Yp(s,v):sc(),Jp(s);else return c=s.lanes=536870912,qm(n,s,v!==null?v.baseLanes|a:a,a,c)}else v!==null?(Ca(s,v.cachePool),Yp(s,v),Oi(),s.memoizedState=null):(n!==null&&Ca(s,null),sc(),Oi());return qt(n,s,y,a),s.child}function xr(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function qm(n,s,a,c,y){var v=Wu();return v=v===null?null:{parent:wt._currentValue,pool:v},s.memoizedState={baseLanes:a,cachePool:v},n!==null&&Ca(s,null),sc(),Jp(s),n!==null&&Qs(n,s,c,!0),s.childLanes=y,null}function Ha(n,s){return s=qa({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function jm(n,s,a){return xs(s,n.child,null,a),n=Ha(s,s.pendingProps),n.flags|=2,yn(s),s.memoizedState=null,n}function ob(n,s,a){var c=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ke){if(c.mode==="hidden")return n=Ha(s,c),s.lanes=536870912,xr(null,n);if(rc(s),(n=ht)?(n=i0(n,Nn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ki!==null?{id:Yn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},a=Np(n),a.return=s,s.child=a,Ht=s,ht=null)):n=null,n===null)throw Di(s);return s.lanes=536870912,null}return Ha(s,c)}var v=n.memoizedState;if(v!==null){var E=v.dehydrated;if(rc(s),y)if(s.flags&256)s.flags&=-257,s=jm(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(o(558));else if(Rt||Qs(n,s,a,!1),y=(a&n.childLanes)!==0,Rt||y){if(c=ct,c!==null&&(E=rs(c,a),E!==0&&E!==v.retryLane))throw v.retryLane=E,ds(n,E),fn(c,n,E),wc;Qa(),s=jm(n,s,a)}else n=v.treeContext,ht=Mn(E.nextSibling),Ht=s,Ke=!0,Ii=null,Nn=!1,n!==null&&kp(s,n),s=Ha(s,c),s.flags|=4096;return s}return n=ri(n.child,{mode:c.mode,children:c.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Fa(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Nc(n,s,a,c,y){return ms(s),a=lc(n,s,a,c,void 0,y),c=uc(),n!==null&&!Rt?(cc(n,s,y),fi(n,s,y)):(Ke&&c&&Fu(s),s.flags|=1,qt(n,s,a,y),s.child)}function Ym(n,s,a,c,y,v){return ms(s),s.updateQueue=null,a=Xp(s,c,a,y),Kp(n),c=uc(),n!==null&&!Rt?(cc(n,s,v),fi(n,s,v)):(Ke&&c&&Fu(s),s.flags|=1,qt(n,s,a,v),s.child)}function Jm(n,s,a,c,y){if(ms(s),s.stateNode===null){var v=Xs,E=a.contextType;typeof E=="object"&&E!==null&&(v=Ft(E)),v=new a(c,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Ac,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=c,v.state=s.memoizedState,v.refs={},ec(s),E=a.contextType,v.context=typeof E=="object"&&E!==null?Ft(E):Xs,v.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Ec(s,a,E,c),v.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&Ac.enqueueReplaceState(v,v.state,null),pr(s,c,v,y),hr(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(n===null){v=s.stateNode;var I=s.memoizedProps,H=_s(a,I);v.props=H;var W=v.context,ce=a.contextType;E=Xs,typeof ce=="object"&&ce!==null&&(E=Ft(ce));var he=a.getDerivedStateFromProps;ce=typeof he=="function"||typeof v.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,ce||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I||W!==E)&&Dm(s,v,c,E),Pi=!1;var te=s.memoizedState;v.state=te,pr(s,c,v,y),hr(),W=s.memoizedState,I||te!==W||Pi?(typeof he=="function"&&(Ec(s,a,he,c),W=s.memoizedState),(H=Pi||Im(s,a,H,c,te,W,E))?(ce||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=W),v.props=c,v.state=W,v.context=E,c=H):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{v=s.stateNode,tc(n,s),E=s.memoizedProps,ce=_s(a,E),v.props=ce,he=s.pendingProps,te=v.context,W=a.contextType,H=Xs,typeof W=="object"&&W!==null&&(H=Ft(W)),I=a.getDerivedStateFromProps,(W=typeof I=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==he||te!==H)&&Dm(s,v,c,H),Pi=!1,te=s.memoizedState,v.state=te,pr(s,c,v,y),hr();var re=s.memoizedState;E!==he||te!==re||Pi||n!==null&&n.dependencies!==null&&Ea(n.dependencies)?(typeof I=="function"&&(Ec(s,a,I,c),re=s.memoizedState),(ce=Pi||Im(s,a,ce,c,te,re,H)||n!==null&&n.dependencies!==null&&Ea(n.dependencies))?(W||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,re,H),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,re,H)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===n.memoizedProps&&te===n.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&te===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=re),v.props=c,v.state=re,v.context=H,c=ce):(typeof v.componentDidUpdate!="function"||E===n.memoizedProps&&te===n.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&te===n.memoizedState||(s.flags|=1024),c=!1)}return v=c,Fa(n,s),c=(s.flags&128)!==0,v||c?(v=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,n!==null&&c?(s.child=xs(s,n.child,null,y),s.child=xs(s,null,a,y)):qt(n,s,a,y),s.memoizedState=v.state,n=s.child):n=fi(n,s,y),n}function Km(n,s,a,c){return hs(),s.flags|=256,qt(n,s,a,c),s.child}var Rc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mc(n){return{baseLanes:n,cachePool:Lp()}}function kc(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=xn),n}function Xm(n,s,a){var c=s.pendingProps,y=!1,v=(s.flags&128)!==0,E;if((E=v)||(E=n!==null&&n.memoizedState===null?!1:(At.current&2)!==0),E&&(y=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ke){if(y?Vi(s):Oi(),(n=ht)?(n=i0(n,Nn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ki!==null?{id:Yn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},a=Np(n),a.return=s,s.child=a,Ht=s,ht=null)):n=null,n===null)throw Di(s);return hd(n)?s.lanes=32:s.lanes=536870912,null}var I=c.children;return c=c.fallback,y?(Oi(),y=s.mode,I=qa({mode:"hidden",children:I},y),c=fs(c,y,a,null),I.return=s,c.return=s,I.sibling=c,s.child=I,c=s.child,c.memoizedState=Mc(a),c.childLanes=kc(n,E,a),s.memoizedState=Rc,xr(null,c)):(Vi(s),Ic(s,I))}var H=n.memoizedState;if(H!==null&&(I=H.dehydrated,I!==null)){if(v)s.flags&256?(Vi(s),s.flags&=-257,s=Dc(n,s,a)):s.memoizedState!==null?(Oi(),s.child=n.child,s.flags|=128,s=null):(Oi(),I=c.fallback,y=s.mode,c=qa({mode:"visible",children:c.children},y),I=fs(I,y,a,null),I.flags|=2,c.return=s,I.return=s,c.sibling=I,s.child=c,xs(s,n.child,null,a),c=s.child,c.memoizedState=Mc(a),c.childLanes=kc(n,E,a),s.memoizedState=Rc,s=xr(null,c));else if(Vi(s),hd(I)){if(E=I.nextSibling&&I.nextSibling.dataset,E)var W=E.dgst;E=W,c=Error(o(419)),c.stack="",c.digest=E,ar({value:c,source:null,stack:null}),s=Dc(n,s,a)}else if(Rt||Qs(n,s,a,!1),E=(a&n.childLanes)!==0,Rt||E){if(E=ct,E!==null&&(c=rs(E,a),c!==0&&c!==H.retryLane))throw H.retryLane=c,ds(n,c),fn(E,n,c),wc;fd(I)||Qa(),s=Dc(n,s,a)}else fd(I)?(s.flags|=192,s.child=n.child,s=null):(n=H.treeContext,ht=Mn(I.nextSibling),Ht=s,Ke=!0,Ii=null,Nn=!1,n!==null&&kp(s,n),s=Ic(s,c.children),s.flags|=4096);return s}return y?(Oi(),I=c.fallback,y=s.mode,H=n.child,W=H.sibling,c=ri(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,W!==null?I=ri(W,I):(I=fs(I,y,a,null),I.flags|=2),I.return=s,c.return=s,c.sibling=I,s.child=c,xr(null,c),c=s.child,I=n.child.memoizedState,I===null?I=Mc(a):(y=I.cachePool,y!==null?(H=wt._currentValue,y=y.parent!==H?{parent:H,pool:H}:y):y=Lp(),I={baseLanes:I.baseLanes|a,cachePool:y}),c.memoizedState=I,c.childLanes=kc(n,E,a),s.memoizedState=Rc,xr(n.child,c)):(Vi(s),a=n.child,n=a.sibling,a=ri(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=a,s.memoizedState=null,a)}function Ic(n,s){return s=qa({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function qa(n,s){return n=mn(22,n,null,s),n.lanes=0,n}function Dc(n,s,a){return xs(s,n.child,null,a),n=Ic(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function $m(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Ku(n.return,s,a)}function zc(n,s,a,c,y,v){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:y,treeForkCount:v}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=a,E.tailMode=y,E.treeForkCount=v)}function Zm(n,s,a){var c=s.pendingProps,y=c.revealOrder,v=c.tail;c=c.children;var E=At.current,I=(E&2)!==0;if(I?(E=E&1|2,s.flags|=128):E&=1,se(At,E),qt(n,s,c,a),c=Ke?rr:0,!I&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$m(n,a,s);else if(n.tag===19)$m(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(y){case"forwards":for(a=s.child,y=null;a!==null;)n=a.alternate,n!==null&&Ia(n)===null&&(y=a),a=a.sibling;a=y,a===null?(y=s.child,s.child=null):(y=a.sibling,a.sibling=null),zc(s,!1,y,a,v,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,y=s.child,s.child=null;y!==null;){if(n=y.alternate,n!==null&&Ia(n)===null){s.child=y;break}n=y.sibling,y.sibling=a,a=y,y=n}zc(s,!0,a,null,v,c);break;case"together":zc(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function fi(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Hi|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Qs(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(o(153));if(s.child!==null){for(n=s.child,a=ri(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ri(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Pc(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Ea(n)))}function rb(n,s,a){switch(s.tag){case 3:De(s,s.stateNode.containerInfo),zi(s,wt,n.memoizedState.cache),hs();break;case 27:case 5:Xe(s);break;case 4:De(s,s.stateNode.containerInfo);break;case 10:zi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,rc(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Vi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Xm(n,s,a):(Vi(s),n=fi(n,s,a),n!==null?n.sibling:null);Vi(s);break;case 19:var y=(n.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(Qs(n,s,a,!1),c=(a&s.childLanes)!==0),y){if(c)return Zm(n,s,a);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),se(At,At.current),c)break;return null;case 22:return s.lanes=0,Fm(n,s,a,s.pendingProps);case 24:zi(s,wt,n.memoizedState.cache)}return fi(n,s,a)}function Wm(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Rt=!0;else{if(!Pc(n,a)&&(s.flags&128)===0)return Rt=!1,rb(n,s,a);Rt=(n.flags&131072)!==0}else Rt=!1,Ke&&(s.flags&1048576)!==0&&Mp(s,rr,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(n=ys(s.elementType),s.type=n,typeof n=="function")Bu(n)?(c=_s(n,c),s.tag=1,s=Jm(null,s,n,c,a)):(s.tag=0,s=Nc(null,s,n,c,a));else{if(n!=null){var y=n.$$typeof;if(y===P){s.tag=11,s=Bm(null,s,n,c,a);break e}else if(y===O){s.tag=14,s=Gm(null,s,n,c,a);break e}}throw s=R(n)||n,Error(o(306,s,""))}}return s;case 0:return Nc(n,s,s.type,s.pendingProps,a);case 1:return c=s.type,y=_s(c,s.pendingProps),Jm(n,s,c,y,a);case 3:e:{if(De(s,s.stateNode.containerInfo),n===null)throw Error(o(387));c=s.pendingProps;var v=s.memoizedState;y=v.element,tc(n,s),pr(s,c,null,a);var E=s.memoizedState;if(c=E.cache,zi(s,wt,c),c!==v.cache&&Xu(s,[wt],a,!0),hr(),c=E.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=Km(n,s,c,a);break e}else if(c!==y){y=An(Error(o(424)),s),ar(y),s=Km(n,s,c,a);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,ht=Mn(n.firstChild),Ht=s,Ke=!0,Ii=null,Nn=!0,a=Fp(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(hs(),c===y){s=fi(n,s,a);break e}qt(n,s,c,a)}s=s.child}return s;case 26:return Fa(n,s),n===null?(a=u0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ke||(a=s.type,n=s.pendingProps,c=rl(Ae.current).createElement(a),c[Gt]=s,c[rn]=n,jt(c,a,n),Ut(c),s.stateNode=c):s.memoizedState=u0(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Xe(s),n===null&&Ke&&(c=s.stateNode=r0(s.type,s.pendingProps,Ae.current),Ht=s,Nn=!0,y=ht,Ji(s.type)?(pd=y,ht=Mn(c.firstChild)):ht=y),qt(n,s,s.pendingProps.children,a),Fa(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ke&&((y=c=ht)&&(c=Ub(c,s.type,s.pendingProps,Nn),c!==null?(s.stateNode=c,Ht=s,ht=Mn(c.firstChild),Nn=!1,y=!0):y=!1),y||Di(s)),Xe(s),y=s.type,v=s.pendingProps,E=n!==null?n.memoizedProps:null,c=v.children,ud(y,v)?c=null:E!==null&&ud(y,E)&&(s.flags|=32),s.memoizedState!==null&&(y=lc(n,s,ZT,null,null,a),zr._currentValue=y),Fa(n,s),qt(n,s,c,a),s.child;case 6:return n===null&&Ke&&((n=a=ht)&&(a=Lb(a,s.pendingProps,Nn),a!==null?(s.stateNode=a,Ht=s,ht=null,n=!0):n=!1),n||Di(s)),null;case 13:return Xm(n,s,a);case 4:return De(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=xs(s,null,c,a):qt(n,s,c,a),s.child;case 11:return Bm(n,s,s.type,s.pendingProps,a);case 7:return qt(n,s,s.pendingProps,a),s.child;case 8:return qt(n,s,s.pendingProps.children,a),s.child;case 12:return qt(n,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,zi(s,s.type,c.value),qt(n,s,c.children,a),s.child;case 9:return y=s.type._context,c=s.pendingProps.children,ms(s),y=Ft(y),c=c(y),s.flags|=1,qt(n,s,c,a),s.child;case 14:return Gm(n,s,s.type,s.pendingProps,a);case 15:return Hm(n,s,s.type,s.pendingProps,a);case 19:return Zm(n,s,a);case 31:return ob(n,s,a);case 22:return Fm(n,s,a,s.pendingProps);case 24:return ms(s),c=Ft(wt),n===null?(y=Wu(),y===null&&(y=ct,v=$u(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=a),y=v),s.memoizedState={parent:c,cache:y},ec(s),zi(s,wt,y)):((n.lanes&a)!==0&&(tc(n,s),pr(s,null,null,a),hr()),y=n.memoizedState,v=s.memoizedState,y.parent!==c?(y={parent:c,cache:c},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),zi(s,wt,c)):(c=v.cache,zi(s,wt,c),c!==y.cache&&Xu(s,[wt],a,!0))),qt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function hi(n){n.flags|=4}function Uc(n,s,a,c,y){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(y&335544128)===y)if(n.stateNode.complete)n.flags|=8192;else if(Ag())n.flags|=8192;else throw vs=Na,Qu}else n.flags&=-16777217}function Qm(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!p0(s))if(Ag())n.flags|=8192;else throw vs=Na,Qu}function ja(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Et():536870912,n.lanes|=s,fo|=s)}function Sr(n,s){if(!Ke)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function pt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var y=n.child;y!==null;)a|=y.lanes|y.childLanes,c|=y.subtreeFlags&65011712,c|=y.flags&65011712,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)a|=y.lanes|y.childLanes,c|=y.subtreeFlags,c|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function ab(n,s,a){var c=s.pendingProps;switch(qu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(s),null;case 1:return pt(s),null;case 3:return a=s.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ui(wt),Ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ws(s)?hi(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Yu())),pt(s),null;case 26:var y=s.type,v=s.memoizedState;return n===null?(hi(s),v!==null?(pt(s),Qm(s,v)):(pt(s),Uc(s,y,null,c,a))):v?v!==n.memoizedState?(hi(s),pt(s),Qm(s,v)):(pt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==c&&hi(s),pt(s),Uc(s,y,n,c,a)),null;case 27:if(Ze(s),a=Ae.current,y=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&hi(s);else{if(!c){if(s.stateNode===null)throw Error(o(166));return pt(s),null}n=ne.current,Ws(s)?Ip(s):(n=r0(y,c,a),s.stateNode=n,hi(s))}return pt(s),null;case 5:if(Ze(s),y=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&hi(s);else{if(!c){if(s.stateNode===null)throw Error(o(166));return pt(s),null}if(v=ne.current,Ws(s))Ip(s);else{var E=rl(Ae.current);switch(v){case 1:v=E.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=E.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=E.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?v.multiple=!0:c.size&&(v.size=c.size);break;default:v=typeof c.is=="string"?E.createElement(y,{is:c.is}):E.createElement(y)}}v[Gt]=s,v[rn]=c;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)v.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=v;e:switch(jt(v,y,c),y){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&hi(s)}}return pt(s),Uc(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==c&&hi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(o(166));if(n=Ae.current,Ws(s)){if(n=s.stateNode,a=s.memoizedProps,c=null,y=Ht,y!==null)switch(y.tag){case 27:case 5:c=y.memoizedProps}n[Gt]=s,n=!!(n.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Xg(n.nodeValue,a)),n||Di(s,!0)}else n=rl(n).createTextNode(c),n[Gt]=s,s.stateNode=n}return pt(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(c=Ws(s),a!==null){if(n===null){if(!c)throw Error(o(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(557));n[Gt]=s}else hs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),n=!1}else a=Yu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(yn(s),s):(yn(s),null);if((s.flags&128)!==0)throw Error(o(558))}return pt(s),null;case 13:if(c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(y=Ws(s),c!==null&&c.dehydrated!==null){if(n===null){if(!y)throw Error(o(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(o(317));y[Gt]=s}else hs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),y=!1}else y=Yu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(yn(s),s):(yn(s),null)}return yn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,n=n!==null&&n.memoizedState!==null,a&&(c=s.child,y=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(y=c.alternate.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==y&&(c.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),ja(s,s.updateQueue),pt(s),null);case 4:return Ie(),n===null&&sd(s.stateNode.containerInfo),pt(s),null;case 10:return ui(s.type),pt(s),null;case 19:if(L(At),c=s.memoizedState,c===null)return pt(s),null;if(y=(s.flags&128)!==0,v=c.rendering,v===null)if(y)Sr(c,!1);else{if(xt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(v=Ia(n),v!==null){for(s.flags|=128,Sr(c,!1),n=v.updateQueue,s.updateQueue=n,ja(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)wp(a,n),a=a.sibling;return se(At,At.current&1|2),Ke&&ai(s,c.treeForkCount),s.child}n=n.sibling}c.tail!==null&&Te()>$a&&(s.flags|=128,y=!0,Sr(c,!1),s.lanes=4194304)}else{if(!y)if(n=Ia(v),n!==null){if(s.flags|=128,y=!0,n=n.updateQueue,s.updateQueue=n,ja(s,n),Sr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!v.alternate&&!Ke)return pt(s),null}else 2*Te()-c.renderingStartTime>$a&&a!==536870912&&(s.flags|=128,y=!0,Sr(c,!1),s.lanes=4194304);c.isBackwards?(v.sibling=s.child,s.child=v):(n=c.last,n!==null?n.sibling=v:s.child=v,c.last=v)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Te(),n.sibling=null,a=At.current,se(At,y?a&1|2:a&1),Ke&&ai(s,c.treeForkCount),n):(pt(s),null);case 22:case 23:return yn(s),oc(),c=s.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(pt(s),s.subtreeFlags&6&&(s.flags|=8192)):pt(s),a=s.updateQueue,a!==null&&ja(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),n!==null&&L(gs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ui(wt),pt(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function lb(n,s){switch(qu(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ui(wt),Ie(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ze(s),null;case 31:if(s.memoizedState!==null){if(yn(s),s.alternate===null)throw Error(o(340));hs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(yn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(o(340));hs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return L(At),null;case 4:return Ie(),null;case 10:return ui(s.type),null;case 22:case 23:return yn(s),oc(),n!==null&&L(gs),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ui(wt),null;case 25:return null;default:return null}}function eg(n,s){switch(qu(s),s.tag){case 3:ui(wt),Ie();break;case 26:case 27:case 5:Ze(s);break;case 4:Ie();break;case 31:s.memoizedState!==null&&yn(s);break;case 13:yn(s);break;case 19:L(At);break;case 10:ui(s.type);break;case 22:case 23:yn(s),oc(),n!==null&&L(gs);break;case 24:ui(wt)}}function _r(n,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var y=c.next;a=y;do{if((a.tag&n)===n){c=void 0;var v=a.create,E=a.inst;c=v(),E.destroy=c}a=a.next}while(a!==y)}}catch(I){ot(s,s.return,I)}}function Bi(n,s,a){try{var c=s.updateQueue,y=c!==null?c.lastEffect:null;if(y!==null){var v=y.next;c=v;do{if((c.tag&n)===n){var E=c.inst,I=E.destroy;if(I!==void 0){E.destroy=void 0,y=s;var H=a,W=I;try{W()}catch(ce){ot(y,H,ce)}}}c=c.next}while(c!==v)}}catch(ce){ot(s,s.return,ce)}}function tg(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{jp(s,a)}catch(c){ot(n,n.return,c)}}}function ng(n,s,a){a.props=_s(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(c){ot(n,s,c)}}function Tr(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof a=="function"?n.refCleanup=a(c):a.current=c}}catch(y){ot(n,s,y)}}function Kn(n,s){var a=n.ref,c=n.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(y){ot(n,s,y)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(y){ot(n,s,y)}else a.current=null}function ig(n){var s=n.type,a=n.memoizedProps,c=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(y){ot(n,n.return,y)}}function Lc(n,s,a){try{var c=n.stateNode;Mb(c,n.type,a,s),c[rn]=s}catch(y){ot(n,n.return,y)}}function sg(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ji(n.type)||n.tag===4}function Vc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||sg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ji(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Oc(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=si));else if(c!==4&&(c===27&&Ji(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(Oc(n,s,a),n=n.sibling;n!==null;)Oc(n,s,a),n=n.sibling}function Ya(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(c===27&&Ji(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Ya(n,s,a),n=n.sibling;n!==null;)Ya(n,s,a),n=n.sibling}function og(n){var s=n.stateNode,a=n.memoizedProps;try{for(var c=n.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);jt(s,c,a),s[Gt]=n,s[rn]=a}catch(v){ot(n,n.return,v)}}var pi=!1,Mt=!1,Bc=!1,rg=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function ub(n,s){if(n=n.containerInfo,ad=hl,n=vp(n),Du(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var y=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var E=0,I=-1,H=-1,W=0,ce=0,he=n,te=null;t:for(;;){for(var re;he!==a||y!==0&&he.nodeType!==3||(I=E+y),he!==v||c!==0&&he.nodeType!==3||(H=E+c),he.nodeType===3&&(E+=he.nodeValue.length),(re=he.firstChild)!==null;)te=he,he=re;for(;;){if(he===n)break t;if(te===a&&++W===y&&(I=E),te===v&&++ce===c&&(H=E),(re=he.nextSibling)!==null)break;he=te,te=he.parentNode}he=re}a=I===-1||H===-1?null:{start:I,end:H}}else a=null}a=a||{start:0,end:0}}else a=null;for(ld={focusedElem:n,selectionRange:a},hl=!1,Lt=s;Lt!==null;)if(s=Lt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Lt=n;else for(;Lt!==null;){switch(s=Lt,v=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)y=n[a],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,a=s,y=v.memoizedProps,v=v.memoizedState,c=a.stateNode;try{var Ce=_s(a.type,y);n=c.getSnapshotBeforeUpdate(Ce,v),c.__reactInternalSnapshotBeforeUpdate=n}catch(Pe){ot(a,a.return,Pe)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)dd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":dd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=s.sibling,n!==null){n.return=s.return,Lt=n;break}Lt=s.return}}function ag(n,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:gi(n,a),c&4&&_r(5,a);break;case 1:if(gi(n,a),c&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(E){ot(a,a.return,E)}else{var y=_s(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(y,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){ot(a,a.return,E)}}c&64&&tg(a),c&512&&Tr(a,a.return);break;case 3:if(gi(n,a),c&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{jp(n,s)}catch(E){ot(a,a.return,E)}}break;case 27:s===null&&c&4&&og(a);case 26:case 5:gi(n,a),s===null&&c&4&&ig(a),c&512&&Tr(a,a.return);break;case 12:gi(n,a);break;case 31:gi(n,a),c&4&&cg(n,a);break;case 13:gi(n,a),c&4&&dg(n,a),c&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=vb.bind(null,a),Vb(n,a))));break;case 22:if(c=a.memoizedState!==null||pi,!c){s=s!==null&&s.memoizedState!==null||Mt,y=pi;var v=Mt;pi=c,(Mt=s)&&!v?yi(n,a,(a.subtreeFlags&8772)!==0):gi(n,a),pi=y,Mt=v}break;case 30:break;default:gi(n,a)}}function lg(n){var s=n.alternate;s!==null&&(n.alternate=null,lg(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&gu(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var mt=null,ln=!1;function mi(n,s,a){for(a=a.child;a!==null;)ug(n,s,a),a=a.sibling}function ug(n,s,a){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(it,a)}catch{}switch(a.tag){case 26:Mt||Kn(a,s),mi(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||Kn(a,s);var c=mt,y=ln;Ji(a.type)&&(mt=a.stateNode,ln=!1),mi(n,s,a),kr(a.stateNode),mt=c,ln=y;break;case 5:Mt||Kn(a,s);case 6:if(c=mt,y=ln,mt=null,mi(n,s,a),mt=c,ln=y,mt!==null)if(ln)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(v){ot(a,s,v)}else try{mt.removeChild(a.stateNode)}catch(v){ot(a,s,v)}break;case 18:mt!==null&&(ln?(n=mt,t0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),So(n)):t0(mt,a.stateNode));break;case 4:c=mt,y=ln,mt=a.stateNode.containerInfo,ln=!0,mi(n,s,a),mt=c,ln=y;break;case 0:case 11:case 14:case 15:Bi(2,a,s),Mt||Bi(4,a,s),mi(n,s,a);break;case 1:Mt||(Kn(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&ng(a,s,c)),mi(n,s,a);break;case 21:mi(n,s,a);break;case 22:Mt=(c=Mt)||a.memoizedState!==null,mi(n,s,a),Mt=c;break;default:mi(n,s,a)}}function cg(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{So(n)}catch(a){ot(s,s.return,a)}}}function dg(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{So(n)}catch(a){ot(s,s.return,a)}}function cb(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new rg),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new rg),s;default:throw Error(o(435,n.tag))}}function Ja(n,s){var a=cb(n);s.forEach(function(c){if(!a.has(c)){a.add(c);var y=xb.bind(null,n,c);c.then(y,y)}})}function un(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var y=a[c],v=n,E=s,I=E;e:for(;I!==null;){switch(I.tag){case 27:if(Ji(I.type)){mt=I.stateNode,ln=!1;break e}break;case 5:mt=I.stateNode,ln=!1;break e;case 3:case 4:mt=I.stateNode.containerInfo,ln=!0;break e}I=I.return}if(mt===null)throw Error(o(160));ug(v,E,y),mt=null,ln=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)fg(s,n),s=s.sibling}var On=null;function fg(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:un(s,n),cn(n),c&4&&(Bi(3,n,n.return),_r(3,n),Bi(5,n,n.return));break;case 1:un(s,n),cn(n),c&512&&(Mt||a===null||Kn(a,a.return)),c&64&&pi&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var y=On;if(un(s,n),cn(n),c&512&&(Mt||a===null||Kn(a,a.return)),c&4){var v=a!==null?a.memoizedState:null;if(c=n.memoizedState,a===null)if(c===null)if(n.stateNode===null){e:{c=n.type,a=n.memoizedProps,y=y.ownerDocument||y;t:switch(c){case"title":v=y.getElementsByTagName("title")[0],(!v||v[Xo]||v[Gt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(c),y.head.insertBefore(v,y.querySelector("head > title"))),jt(v,c,a),v[Gt]=n,Ut(v),c=v;break e;case"link":var E=f0("link","href",y).get(c+(a.href||""));if(E){for(var I=0;I<E.length;I++)if(v=E[I],v.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(I,1);break t}}v=y.createElement(c),jt(v,c,a),y.head.appendChild(v);break;case"meta":if(E=f0("meta","content",y).get(c+(a.content||""))){for(I=0;I<E.length;I++)if(v=E[I],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(I,1);break t}}v=y.createElement(c),jt(v,c,a),y.head.appendChild(v);break;default:throw Error(o(468,c))}v[Gt]=n,Ut(v),c=v}n.stateNode=c}else h0(y,n.type,n.stateNode);else n.stateNode=d0(y,c,n.memoizedProps);else v!==c?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,c===null?h0(y,n.type,n.stateNode):d0(y,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Lc(n,n.memoizedProps,a.memoizedProps)}break;case 27:un(s,n),cn(n),c&512&&(Mt||a===null||Kn(a,a.return)),a!==null&&c&4&&Lc(n,n.memoizedProps,a.memoizedProps);break;case 5:if(un(s,n),cn(n),c&512&&(Mt||a===null||Kn(a,a.return)),n.flags&32){y=n.stateNode;try{Hs(y,"")}catch(Ce){ot(n,n.return,Ce)}}c&4&&n.stateNode!=null&&(y=n.memoizedProps,Lc(n,y,a!==null?a.memoizedProps:y)),c&1024&&(Bc=!0);break;case 6:if(un(s,n),cn(n),c&4){if(n.stateNode===null)throw Error(o(162));c=n.memoizedProps,a=n.stateNode;try{a.nodeValue=c}catch(Ce){ot(n,n.return,Ce)}}break;case 3:if(ul=null,y=On,On=al(s.containerInfo),un(s,n),On=y,cn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{So(s.containerInfo)}catch(Ce){ot(n,n.return,Ce)}Bc&&(Bc=!1,hg(n));break;case 4:c=On,On=al(n.stateNode.containerInfo),un(s,n),cn(n),On=c;break;case 12:un(s,n),cn(n);break;case 31:un(s,n),cn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Ja(n,c)));break;case 13:un(s,n),cn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Xa=Te()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Ja(n,c)));break;case 22:y=n.memoizedState!==null;var H=a!==null&&a.memoizedState!==null,W=pi,ce=Mt;if(pi=W||y,Mt=ce||H,un(s,n),Mt=ce,pi=W,cn(n),c&8192)e:for(s=n.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(a===null||H||pi||Mt||Ts(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){H=a=s;try{if(v=H.stateNode,y)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{I=H.stateNode;var he=H.memoizedProps.style,te=he!=null&&he.hasOwnProperty("display")?he.display:null;I.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Ce){ot(H,H.return,Ce)}}}else if(s.tag===6){if(a===null){H=s;try{H.stateNode.nodeValue=y?"":H.memoizedProps}catch(Ce){ot(H,H.return,Ce)}}}else if(s.tag===18){if(a===null){H=s;try{var re=H.stateNode;y?n0(re,!0):n0(H.stateNode,!1)}catch(Ce){ot(H,H.return,Ce)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=n.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Ja(n,a))));break;case 19:un(s,n),cn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Ja(n,c)));break;case 30:break;case 21:break;default:un(s,n),cn(n)}}function cn(n){var s=n.flags;if(s&2){try{for(var a,c=n.return;c!==null;){if(sg(c)){a=c;break}c=c.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var y=a.stateNode,v=Vc(n);Ya(n,v,y);break;case 5:var E=a.stateNode;a.flags&32&&(Hs(E,""),a.flags&=-33);var I=Vc(n);Ya(n,I,E);break;case 3:case 4:var H=a.stateNode.containerInfo,W=Vc(n);Oc(n,W,H);break;default:throw Error(o(161))}}catch(ce){ot(n,n.return,ce)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function hg(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;hg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function gi(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ag(n,s.alternate,s),s=s.sibling}function Ts(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Bi(4,s,s.return),Ts(s);break;case 1:Kn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&ng(s,s.return,a),Ts(s);break;case 27:kr(s.stateNode);case 26:case 5:Kn(s,s.return),Ts(s);break;case 22:s.memoizedState===null&&Ts(s);break;case 30:Ts(s);break;default:Ts(s)}n=n.sibling}}function yi(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,y=n,v=s,E=v.flags;switch(v.tag){case 0:case 11:case 15:yi(y,v,a),_r(4,v);break;case 1:if(yi(y,v,a),c=v,y=c.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(W){ot(c,c.return,W)}if(c=v,y=c.updateQueue,y!==null){var I=c.stateNode;try{var H=y.shared.hiddenCallbacks;if(H!==null)for(y.shared.hiddenCallbacks=null,y=0;y<H.length;y++)qp(H[y],I)}catch(W){ot(c,c.return,W)}}a&&E&64&&tg(v),Tr(v,v.return);break;case 27:og(v);case 26:case 5:yi(y,v,a),a&&c===null&&E&4&&ig(v),Tr(v,v.return);break;case 12:yi(y,v,a);break;case 31:yi(y,v,a),a&&E&4&&cg(y,v);break;case 13:yi(y,v,a),a&&E&4&&dg(y,v);break;case 22:v.memoizedState===null&&yi(y,v,a),Tr(v,v.return);break;case 30:break;default:yi(y,v,a)}s=s.sibling}}function Gc(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&lr(a))}function Hc(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&lr(n))}function Bn(n,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)pg(n,s,a,c),s=s.sibling}function pg(n,s,a,c){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Bn(n,s,a,c),y&2048&&_r(9,s);break;case 1:Bn(n,s,a,c);break;case 3:Bn(n,s,a,c),y&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&lr(n)));break;case 12:if(y&2048){Bn(n,s,a,c),n=s.stateNode;try{var v=s.memoizedProps,E=v.id,I=v.onPostCommit;typeof I=="function"&&I(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(H){ot(s,s.return,H)}}else Bn(n,s,a,c);break;case 31:Bn(n,s,a,c);break;case 13:Bn(n,s,a,c);break;case 23:break;case 22:v=s.stateNode,E=s.alternate,s.memoizedState!==null?v._visibility&2?Bn(n,s,a,c):br(n,s):v._visibility&2?Bn(n,s,a,c):(v._visibility|=2,lo(n,s,a,c,(s.subtreeFlags&10256)!==0||!1)),y&2048&&Gc(E,s);break;case 24:Bn(n,s,a,c),y&2048&&Hc(s.alternate,s);break;default:Bn(n,s,a,c)}}function lo(n,s,a,c,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=n,E=s,I=a,H=c,W=E.flags;switch(E.tag){case 0:case 11:case 15:lo(v,E,I,H,y),_r(8,E);break;case 23:break;case 22:var ce=E.stateNode;E.memoizedState!==null?ce._visibility&2?lo(v,E,I,H,y):br(v,E):(ce._visibility|=2,lo(v,E,I,H,y)),y&&W&2048&&Gc(E.alternate,E);break;case 24:lo(v,E,I,H,y),y&&W&2048&&Hc(E.alternate,E);break;default:lo(v,E,I,H,y)}s=s.sibling}}function br(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,c=s,y=c.flags;switch(c.tag){case 22:br(a,c),y&2048&&Gc(c.alternate,c);break;case 24:br(a,c),y&2048&&Hc(c.alternate,c);break;default:br(a,c)}s=s.sibling}}var Er=8192;function uo(n,s,a){if(n.subtreeFlags&Er)for(n=n.child;n!==null;)mg(n,s,a),n=n.sibling}function mg(n,s,a){switch(n.tag){case 26:uo(n,s,a),n.flags&Er&&n.memoizedState!==null&&$b(a,On,n.memoizedState,n.memoizedProps);break;case 5:uo(n,s,a);break;case 3:case 4:var c=On;On=al(n.stateNode.containerInfo),uo(n,s,a),On=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=Er,Er=16777216,uo(n,s,a),Er=c):uo(n,s,a));break;default:uo(n,s,a)}}function gg(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Ar(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];Lt=c,vg(c,n)}gg(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yg(n),n=n.sibling}function yg(n){switch(n.tag){case 0:case 11:case 15:Ar(n),n.flags&2048&&Bi(9,n,n.return);break;case 3:Ar(n);break;case 12:Ar(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Ka(n)):Ar(n);break;default:Ar(n)}}function Ka(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];Lt=c,vg(c,n)}gg(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Bi(8,s,s.return),Ka(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Ka(s));break;default:Ka(s)}n=n.sibling}}function vg(n,s){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Bi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:lr(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Lt=c;else e:for(a=n;Lt!==null;){c=Lt;var y=c.sibling,v=c.return;if(lg(c),c===a){Lt=null;break e}if(y!==null){y.return=v,Lt=y;break e}Lt=v}}}var db={getCacheForType:function(n){var s=Ft(wt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return Ft(wt).controller.signal}},fb=typeof WeakMap=="function"?WeakMap:Map,nt=0,ct=null,Fe=null,Ye=0,st=0,vn=null,Gi=!1,co=!1,Fc=!1,vi=0,xt=0,Hi=0,bs=0,qc=0,xn=0,fo=0,Cr=null,dn=null,jc=!1,Xa=0,xg=0,$a=1/0,Za=null,Fi=null,Dt=0,qi=null,ho=null,xi=0,Yc=0,Jc=null,Sg=null,wr=0,Kc=null;function Sn(){return(nt&2)!==0&&Ye!==0?Ye&-Ye:J.T!==null?ed():Uh()}function _g(){if(xn===0)if((Ye&536870912)===0||Ke){var n=ei;ei<<=1,(ei&3932160)===0&&(ei=262144),xn=n}else xn=536870912;return n=gn.current,n!==null&&(n.flags|=32),xn}function fn(n,s,a){(n===ct&&(st===2||st===9)||n.cancelPendingCommit!==null)&&(po(n,0),ji(n,Ye,xn,!1)),It(n,a),((nt&2)===0||n!==ct)&&(n===ct&&((nt&2)===0&&(bs|=a),xt===4&&ji(n,Ye,xn,!1)),Xn(n))}function Tg(n,s,a){if((nt&6)!==0)throw Error(o(327));var c=!a&&(s&127)===0&&(s&n.expiredLanes)===0||ut(n,s),y=c?mb(n,s):$c(n,s,!0),v=c;do{if(y===0){co&&!c&&ji(n,s,0,!1);break}else{if(a=n.current.alternate,v&&!hb(a)){y=$c(n,s,!1),v=!1;continue}if(y===2){if(v=s,n.errorRecoveryDisabledLanes&v)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var I=n;y=Cr;var H=I.current.memoizedState.isDehydrated;if(H&&(po(I,E).flags|=256),E=$c(I,E,!1),E!==2){if(Fc&&!H){I.errorRecoveryDisabledLanes|=v,bs|=v,y=4;break e}v=dn,dn=y,v!==null&&(dn===null?dn=v:dn.push.apply(dn,v))}y=E}if(v=!1,y!==2)continue}}if(y===1){po(n,0),ji(n,s,0,!0);break}e:{switch(c=n,v=y,v){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:ji(c,s,xn,!Gi);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(y=Xa+300-Te(),10<y)){if(ji(c,s,xn,!Gi),Ps(c,0,!0)!==0)break e;xi=s,c.timeoutHandle=Qg(bg.bind(null,c,a,dn,Za,jc,s,xn,bs,fo,Gi,v,"Throttled",-0,0),y);break e}bg(c,a,dn,Za,jc,s,xn,bs,fo,Gi,v,null,-0,0)}}break}while(!0);Xn(n)}function bg(n,s,a,c,y,v,E,I,H,W,ce,he,te,re){if(n.timeoutHandle=-1,he=s.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},mg(s,v,he);var Ce=(v&62914560)===v?Xa-Te():(v&4194048)===v?xg-Te():0;if(Ce=Zb(he,Ce),Ce!==null){xi=v,n.cancelPendingCommit=Ce(kg.bind(null,n,s,v,a,c,y,E,I,H,ce,he,null,te,re)),ji(n,v,E,!W);return}}kg(n,s,v,a,c,y,E,I,H)}function hb(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var y=a[c],v=y.getSnapshot;y=y.value;try{if(!pn(v(),y))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ji(n,s,a,c){s&=~qc,s&=~bs,n.suspendedLanes|=s,n.pingedLanes&=~s,c&&(n.warmLanes|=s),c=n.expirationTimes;for(var y=s;0<y;){var v=31-ft(y),E=1<<v;c[v]=-1,y&=~E}a!==0&&ti(n,a,s)}function Wa(){return(nt&6)===0?(Nr(0),!1):!0}function Xc(){if(Fe!==null){if(st===0)var n=Fe.return;else n=Fe,li=ps=null,dc(n),io=null,cr=0,n=Fe;for(;n!==null;)eg(n.alternate,n),n=n.return;Fe=null}}function po(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Db(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),xi=0,Xc(),ct=n,Fe=a=ri(n.current,null),Ye=s,st=0,vn=null,Gi=!1,co=ut(n,s),Fc=!1,fo=xn=qc=bs=Hi=xt=0,dn=Cr=null,jc=!1,(s&8)!==0&&(s|=s&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=s;0<c;){var y=31-ft(c),v=1<<y;s|=n[y],c&=~v}return vi=s,xa(),a}function Eg(n,s){Be=null,J.H=vr,s===no||s===wa?(s=Bp(),st=3):s===Qu?(s=Bp(),st=4):st=s===wc?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,vn=s,Fe===null&&(xt=1,Ga(n,An(s,n.current)))}function Ag(){var n=gn.current;return n===null?!0:(Ye&4194048)===Ye?Rn===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?n===Rn:!1}function Cg(){var n=J.H;return J.H=vr,n===null?vr:n}function wg(){var n=J.A;return J.A=db,n}function Qa(){xt=4,Gi||(Ye&4194048)!==Ye&&gn.current!==null||(co=!0),(Hi&134217727)===0&&(bs&134217727)===0||ct===null||ji(ct,Ye,xn,!1)}function $c(n,s,a){var c=nt;nt|=2;var y=Cg(),v=wg();(ct!==n||Ye!==s)&&(Za=null,po(n,s)),s=!1;var E=xt;e:do try{if(st!==0&&Fe!==null){var I=Fe,H=vn;switch(st){case 8:Xc(),E=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(s=!0);var W=st;if(st=0,vn=null,mo(n,I,H,W),a&&co){E=0;break e}break;default:W=st,st=0,vn=null,mo(n,I,H,W)}}pb(),E=xt;break}catch(ce){Eg(n,ce)}while(!0);return s&&n.shellSuspendCounter++,li=ps=null,nt=c,J.H=y,J.A=v,Fe===null&&(ct=null,Ye=0,xa()),E}function pb(){for(;Fe!==null;)Ng(Fe)}function mb(n,s){var a=nt;nt|=2;var c=Cg(),y=wg();ct!==n||Ye!==s?(Za=null,$a=Te()+500,po(n,s)):co=ut(n,s);e:do try{if(st!==0&&Fe!==null){s=Fe;var v=vn;t:switch(st){case 1:st=0,vn=null,mo(n,s,v,1);break;case 2:case 9:if(Vp(v)){st=0,vn=null,Rg(s);break}s=function(){st!==2&&st!==9||ct!==n||(st=7),Xn(n)},v.then(s,s);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Vp(v)?(st=0,vn=null,Rg(s)):(st=0,vn=null,mo(n,s,v,7));break;case 5:var E=null;switch(Fe.tag){case 26:E=Fe.memoizedState;case 5:case 27:var I=Fe;if(E?p0(E):I.stateNode.complete){st=0,vn=null;var H=I.sibling;if(H!==null)Fe=H;else{var W=I.return;W!==null?(Fe=W,el(W)):Fe=null}break t}}st=0,vn=null,mo(n,s,v,5);break;case 6:st=0,vn=null,mo(n,s,v,6);break;case 8:Xc(),xt=6;break e;default:throw Error(o(462))}}gb();break}catch(ce){Eg(n,ce)}while(!0);return li=ps=null,J.H=c,J.A=y,nt=a,Fe!==null?0:(ct=null,Ye=0,xa(),xt)}function gb(){for(;Fe!==null&&!Q();)Ng(Fe)}function Ng(n){var s=Wm(n.alternate,n,vi);n.memoizedProps=n.pendingProps,s===null?el(n):Fe=s}function Rg(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Ym(a,s,s.pendingProps,s.type,void 0,Ye);break;case 11:s=Ym(a,s,s.pendingProps,s.type.render,s.ref,Ye);break;case 5:dc(s);default:eg(a,s),s=Fe=wp(s,vi),s=Wm(a,s,vi)}n.memoizedProps=n.pendingProps,s===null?el(n):Fe=s}function mo(n,s,a,c){li=ps=null,dc(s),io=null,cr=0;var y=s.return;try{if(sb(n,y,s,a,Ye)){xt=1,Ga(n,An(a,n.current)),Fe=null;return}}catch(v){if(y!==null)throw Fe=y,v;xt=1,Ga(n,An(a,n.current)),Fe=null;return}s.flags&32768?(Ke||c===1?n=!0:co||(Ye&536870912)!==0?n=!1:(Gi=n=!0,(c===2||c===9||c===3||c===6)&&(c=gn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Mg(s,n)):el(s)}function el(n){var s=n;do{if((s.flags&32768)!==0){Mg(s,Gi);return}n=s.return;var a=ab(s.alternate,s,vi);if(a!==null){Fe=a;return}if(s=s.sibling,s!==null){Fe=s;return}Fe=s=n}while(s!==null);xt===0&&(xt=5)}function Mg(n,s){do{var a=lb(n.alternate,n);if(a!==null){a.flags&=32767,Fe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Fe=n;return}Fe=n=a}while(n!==null);xt=6,Fe=null}function kg(n,s,a,c,y,v,E,I,H){n.cancelPendingCommit=null;do tl();while(Dt!==0);if((nt&6)!==0)throw Error(o(327));if(s!==null){if(s===n.current)throw Error(o(177));if(v=s.lanes|s.childLanes,v|=Vu,Xt(n,a,v,E,I,H),n===ct&&(Fe=ct=null,Ye=0),ho=s,qi=n,xi=a,Yc=v,Jc=y,Sg=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Sb(Oe,function(){return Ug(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,y=Y.p,Y.p=2,E=nt,nt|=4;try{ub(n,s,a)}finally{nt=E,Y.p=y,J.T=c}}Dt=1,Ig(),Dg(),zg()}}function Ig(){if(Dt===1){Dt=0;var n=qi,s=ho,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var c=Y.p;Y.p=2;var y=nt;nt|=4;try{fg(s,n);var v=ld,E=vp(n.containerInfo),I=v.focusedElem,H=v.selectionRange;if(E!==I&&I&&I.ownerDocument&&yp(I.ownerDocument.documentElement,I)){if(H!==null&&Du(I)){var W=H.start,ce=H.end;if(ce===void 0&&(ce=W),"selectionStart"in I)I.selectionStart=W,I.selectionEnd=Math.min(ce,I.value.length);else{var he=I.ownerDocument||document,te=he&&he.defaultView||window;if(te.getSelection){var re=te.getSelection(),Ce=I.textContent.length,Pe=Math.min(H.start,Ce),lt=H.end===void 0?Pe:Math.min(H.end,Ce);!re.extend&&Pe>lt&&(E=lt,lt=Pe,Pe=E);var X=gp(I,Pe),j=gp(I,lt);if(X&&j&&(re.rangeCount!==1||re.anchorNode!==X.node||re.anchorOffset!==X.offset||re.focusNode!==j.node||re.focusOffset!==j.offset)){var Z=he.createRange();Z.setStart(X.node,X.offset),re.removeAllRanges(),Pe>lt?(re.addRange(Z),re.extend(j.node,j.offset)):(Z.setEnd(j.node,j.offset),re.addRange(Z))}}}}for(he=[],re=I;re=re.parentNode;)re.nodeType===1&&he.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<he.length;I++){var fe=he[I];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}hl=!!ad,ld=ad=null}finally{nt=y,Y.p=c,J.T=a}}n.current=s,Dt=2}}function Dg(){if(Dt===2){Dt=0;var n=qi,s=ho,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var c=Y.p;Y.p=2;var y=nt;nt|=4;try{ag(n,s.alternate,s)}finally{nt=y,Y.p=c,J.T=a}}Dt=3}}function zg(){if(Dt===4||Dt===3){Dt=0,xe();var n=qi,s=ho,a=xi,c=Sg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Dt=5:(Dt=0,ho=qi=null,Pg(n,n.pendingLanes));var y=n.pendingLanes;if(y===0&&(Fi=null),Ko(a),s=s.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(it,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=J.T,y=Y.p,Y.p=2,J.T=null;try{for(var v=n.onRecoverableError,E=0;E<c.length;E++){var I=c[E];v(I.value,{componentStack:I.stack})}}finally{J.T=s,Y.p=y}}(xi&3)!==0&&tl(),Xn(n),y=n.pendingLanes,(a&261930)!==0&&(y&42)!==0?n===Kc?wr++:(wr=0,Kc=n):wr=0,Nr(0)}}function Pg(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,lr(s)))}function tl(){return Ig(),Dg(),zg(),Ug()}function Ug(){if(Dt!==5)return!1;var n=qi,s=Yc;Yc=0;var a=Ko(xi),c=J.T,y=Y.p;try{Y.p=32>a?32:a,J.T=null,a=Jc,Jc=null;var v=qi,E=xi;if(Dt=0,ho=qi=null,xi=0,(nt&6)!==0)throw Error(o(331));var I=nt;if(nt|=4,yg(v.current),pg(v,v.current,E,a),nt=I,Nr(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(it,v)}catch{}return!0}finally{Y.p=y,J.T=c,Pg(n,s)}}function Lg(n,s,a){s=An(a,s),s=Cc(n.stateNode,s,2),n=Li(n,s,2),n!==null&&(It(n,2),Xn(n))}function ot(n,s,a){if(n.tag===3)Lg(n,n,a);else for(;s!==null;){if(s.tag===3){Lg(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Fi===null||!Fi.has(c))){n=An(a,n),a=Vm(2),c=Li(s,a,2),c!==null&&(Om(a,c,s,n),It(c,2),Xn(c));break}}s=s.return}}function Zc(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new fb;var y=new Set;c.set(s,y)}else y=c.get(s),y===void 0&&(y=new Set,c.set(s,y));y.has(a)||(Fc=!0,y.add(a),n=yb.bind(null,n,s,a),s.then(n,n))}function yb(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ct===n&&(Ye&a)===a&&(xt===4||xt===3&&(Ye&62914560)===Ye&&300>Te()-Xa?(nt&2)===0&&po(n,0):qc|=a,fo===Ye&&(fo=0)),Xn(n)}function Vg(n,s){s===0&&(s=Et()),n=ds(n,s),n!==null&&(It(n,s),Xn(n))}function vb(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Vg(n,a)}function xb(n,s){var a=0;switch(n.tag){case 31:case 13:var c=n.stateNode,y=n.memoizedState;y!==null&&(a=y.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(s),Vg(n,a)}function Sb(n,s){return pe(n,s)}var nl=null,go=null,Wc=!1,il=!1,Qc=!1,Yi=0;function Xn(n){n!==go&&n.next===null&&(go===null?nl=go=n:go=go.next=n),il=!0,Wc||(Wc=!0,Tb())}function Nr(n,s){if(!Qc&&il){Qc=!0;do for(var a=!1,c=nl;c!==null;){if(n!==0){var y=c.pendingLanes;if(y===0)var v=0;else{var E=c.suspendedLanes,I=c.pingedLanes;v=(1<<31-ft(42|n)+1)-1,v&=y&~(E&~I),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(a=!0,Hg(c,v))}else v=Ye,v=Ps(c,c===ct?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||ut(c,v)||(a=!0,Hg(c,v));c=c.next}while(a);Qc=!1}}function _b(){Og()}function Og(){il=Wc=!1;var n=0;Yi!==0&&Ib()&&(n=Yi);for(var s=Te(),a=null,c=nl;c!==null;){var y=c.next,v=Bg(c,s);v===0?(c.next=null,a===null?nl=y:a.next=y,y===null&&(go=a)):(a=c,(n!==0||(v&3)!==0)&&(il=!0)),c=y}Dt!==0&&Dt!==5||Nr(n),Yi!==0&&(Yi=0)}function Bg(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,y=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var E=31-ft(v),I=1<<E,H=y[E];H===-1?((I&a)===0||(I&c)!==0)&&(y[E]=ge(I,s)):H<=s&&(n.expiredLanes|=I),v&=~I}if(s=ct,a=Ye,a=Ps(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,a===0||n===s&&(st===2||st===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&me(c),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ut(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(c!==null&&me(c),Ko(a)){case 2:case 8:a=tt;break;case 32:a=Oe;break;case 268435456:a=Ln;break;default:a=Oe}return c=Gg.bind(null,n),a=pe(a,c),n.callbackPriority=s,n.callbackNode=a,s}return c!==null&&c!==null&&me(c),n.callbackPriority=2,n.callbackNode=null,2}function Gg(n,s){if(Dt!==0&&Dt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(tl()&&n.callbackNode!==a)return null;var c=Ye;return c=Ps(n,n===ct?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Tg(n,c,s),Bg(n,Te()),n.callbackNode!=null&&n.callbackNode===a?Gg.bind(null,n):null)}function Hg(n,s){if(tl())return null;Tg(n,s,!0)}function Tb(){zb(function(){(nt&6)!==0?pe(ke,_b):Og()})}function ed(){if(Yi===0){var n=eo;n===0&&(n=Qn,Qn<<=1,(Qn&261888)===0&&(Qn=256)),Yi=n}return Yi}function Fg(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:da(""+n)}function qg(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function bb(n,s,a,c,y){if(s==="submit"&&a&&a.stateNode===y){var v=Fg((y[rn]||null).action),E=c.submitter;E&&(s=(s=E[rn]||null)?Fg(s.formAction):E.getAttribute("formAction"),s!==null&&(v=s,E=null));var I=new ma("action","action",null,c,y);n.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Yi!==0){var H=E?qg(y,E):new FormData(y);Sc(a,{pending:!0,data:H,method:y.method,action:v},null,H)}}else typeof v=="function"&&(I.preventDefault(),H=E?qg(y,E):new FormData(y),Sc(a,{pending:!0,data:H,method:y.method,action:v},v,H))},currentTarget:y}]})}}for(var td=0;td<Lu.length;td++){var nd=Lu[td],Eb=nd.toLowerCase(),Ab=nd[0].toUpperCase()+nd.slice(1);Vn(Eb,"on"+Ab)}Vn(_p,"onAnimationEnd"),Vn(Tp,"onAnimationIteration"),Vn(bp,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(GT,"onTransitionRun"),Vn(HT,"onTransitionStart"),Vn(FT,"onTransitionCancel"),Vn(Ep,"onTransitionEnd"),Bs("onMouseEnter",["mouseout","mouseover"]),Bs("onMouseLeave",["mouseout","mouseover"]),Bs("onPointerEnter",["pointerout","pointerover"]),Bs("onPointerLeave",["pointerout","pointerover"]),as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),as("onBeforeInput",["compositionend","keypress","textInput","paste"]),as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rr));function jg(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],y=c.event;c=c.listeners;e:{var v=void 0;if(s)for(var E=c.length-1;0<=E;E--){var I=c[E],H=I.instance,W=I.currentTarget;if(I=I.listener,H!==v&&y.isPropagationStopped())break e;v=I,y.currentTarget=W;try{v(y)}catch(ce){va(ce)}y.currentTarget=null,v=H}else for(E=0;E<c.length;E++){if(I=c[E],H=I.instance,W=I.currentTarget,I=I.listener,H!==v&&y.isPropagationStopped())break e;v=I,y.currentTarget=W;try{v(y)}catch(ce){va(ce)}y.currentTarget=null,v=H}}}}function qe(n,s){var a=s[mu];a===void 0&&(a=s[mu]=new Set);var c=n+"__bubble";a.has(c)||(Yg(s,n,2,!1),a.add(c))}function id(n,s,a){var c=0;s&&(c|=4),Yg(a,n,c,s)}var sl="_reactListening"+Math.random().toString(36).slice(2);function sd(n){if(!n[sl]){n[sl]=!0,Oh.forEach(function(a){a!=="selectionchange"&&(Cb.has(a)||id(a,!1,n),id(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[sl]||(s[sl]=!0,id("selectionchange",!1,s))}}function Yg(n,s,a,c){switch(_0(s)){case 2:var y=eE;break;case 8:y=tE;break;default:y=xd}a=y.bind(null,s,a,n),y=void 0,!Eu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),c?y!==void 0?n.addEventListener(s,a,{capture:!0,passive:y}):n.addEventListener(s,a,!0):y!==void 0?n.addEventListener(s,a,{passive:y}):n.addEventListener(s,a,!1)}function od(n,s,a,c,y){var v=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var I=c.stateNode.containerInfo;if(I===y)break;if(E===4)for(E=c.return;E!==null;){var H=E.tag;if((H===3||H===4)&&E.stateNode.containerInfo===y)return;E=E.return}for(;I!==null;){if(E=Ls(I),E===null)return;if(H=E.tag,H===5||H===6||H===26||H===27){c=v=E;continue e}I=I.parentNode}}c=c.return}Zh(function(){var W=v,ce=Tu(a),he=[];e:{var te=Ap.get(n);if(te!==void 0){var re=ma,Ce=n;switch(n){case"keypress":if(ha(a)===0)break e;case"keydown":case"keyup":re=xT;break;case"focusin":Ce="focus",re=Nu;break;case"focusout":Ce="blur",re=Nu;break;case"beforeblur":case"afterblur":re=Nu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=ep;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=aT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=TT;break;case _p:case Tp:case bp:re=cT;break;case Ep:re=ET;break;case"scroll":case"scrollend":re=oT;break;case"wheel":re=CT;break;case"copy":case"cut":case"paste":re=fT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=np;break;case"toggle":case"beforetoggle":re=NT}var Pe=(s&4)!==0,lt=!Pe&&(n==="scroll"||n==="scrollend"),X=Pe?te!==null?te+"Capture":null:te;Pe=[];for(var j=W,Z;j!==null;){var fe=j;if(Z=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||Z===null||X===null||(fe=Zo(j,X),fe!=null&&Pe.push(Mr(j,fe,Z))),lt)break;j=j.return}0<Pe.length&&(te=new re(te,Ce,null,a,ce),he.push({event:te,listeners:Pe}))}}if((s&7)===0){e:{if(te=n==="mouseover"||n==="pointerover",re=n==="mouseout"||n==="pointerout",te&&a!==_u&&(Ce=a.relatedTarget||a.fromElement)&&(Ls(Ce)||Ce[Us]))break e;if((re||te)&&(te=ce.window===ce?ce:(te=ce.ownerDocument)?te.defaultView||te.parentWindow:window,re?(Ce=a.relatedTarget||a.toElement,re=W,Ce=Ce?Ls(Ce):null,Ce!==null&&(lt=l(Ce),Pe=Ce.tag,Ce!==lt||Pe!==5&&Pe!==27&&Pe!==6)&&(Ce=null)):(re=null,Ce=W),re!==Ce)){if(Pe=ep,fe="onMouseLeave",X="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(Pe=np,fe="onPointerLeave",X="onPointerEnter",j="pointer"),lt=re==null?te:$o(re),Z=Ce==null?te:$o(Ce),te=new Pe(fe,j+"leave",re,a,ce),te.target=lt,te.relatedTarget=Z,fe=null,Ls(ce)===W&&(Pe=new Pe(X,j+"enter",Ce,a,ce),Pe.target=Z,Pe.relatedTarget=lt,fe=Pe),lt=fe,re&&Ce)t:{for(Pe=wb,X=re,j=Ce,Z=0,fe=X;fe;fe=Pe(fe))Z++;fe=0;for(var ze=j;ze;ze=Pe(ze))fe++;for(;0<Z-fe;)X=Pe(X),Z--;for(;0<fe-Z;)j=Pe(j),fe--;for(;Z--;){if(X===j||j!==null&&X===j.alternate){Pe=X;break t}X=Pe(X),j=Pe(j)}Pe=null}else Pe=null;re!==null&&Jg(he,te,re,Pe,!1),Ce!==null&&lt!==null&&Jg(he,lt,Ce,Pe,!0)}}e:{if(te=W?$o(W):window,re=te.nodeName&&te.nodeName.toLowerCase(),re==="select"||re==="input"&&te.type==="file")var We=cp;else if(lp(te))if(dp)We=VT;else{We=UT;var Re=PT}else re=te.nodeName,!re||re.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?W&&Su(W.elementType)&&(We=cp):We=LT;if(We&&(We=We(n,W))){up(he,We,a,ce);break e}Re&&Re(n,te,W),n==="focusout"&&W&&te.type==="number"&&W.memoizedProps.value!=null&&xu(te,"number",te.value)}switch(Re=W?$o(W):window,n){case"focusin":(lp(Re)||Re.contentEditable==="true")&&(Ys=Re,zu=W,or=null);break;case"focusout":or=zu=Ys=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,xp(he,a,ce);break;case"selectionchange":if(BT)break;case"keydown":case"keyup":xp(he,a,ce)}var Ge;if(Mu)e:{switch(n){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else js?rp(n,a)&&(Je="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Je="onCompositionStart");Je&&(ip&&a.locale!=="ko"&&(js||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&js&&(Ge=Wh()):(Mi=ce,Au="value"in Mi?Mi.value:Mi.textContent,js=!0)),Re=ol(W,Je),0<Re.length&&(Je=new tp(Je,n,null,a,ce),he.push({event:Je,listeners:Re}),Ge?Je.data=Ge:(Ge=ap(a),Ge!==null&&(Je.data=Ge)))),(Ge=MT?kT(n,a):IT(n,a))&&(Je=ol(W,"onBeforeInput"),0<Je.length&&(Re=new tp("onBeforeInput","beforeinput",null,a,ce),he.push({event:Re,listeners:Je}),Re.data=Ge)),bb(he,n,W,a,ce)}jg(he,s)})}function Mr(n,s,a){return{instance:n,listener:s,currentTarget:a}}function ol(n,s){for(var a=s+"Capture",c=[];n!==null;){var y=n,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=Zo(n,a),y!=null&&c.unshift(Mr(n,y,v)),y=Zo(n,s),y!=null&&c.push(Mr(n,y,v))),n.tag===3)return c;n=n.return}return[]}function wb(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Jg(n,s,a,c,y){for(var v=s._reactName,E=[];a!==null&&a!==c;){var I=a,H=I.alternate,W=I.stateNode;if(I=I.tag,H!==null&&H===c)break;I!==5&&I!==26&&I!==27||W===null||(H=W,y?(W=Zo(a,v),W!=null&&E.unshift(Mr(a,W,H))):y||(W=Zo(a,v),W!=null&&E.push(Mr(a,W,H)))),a=a.return}E.length!==0&&n.push({event:s,listeners:E})}var Nb=/\r\n?/g,Rb=/\u0000|\uFFFD/g;function Kg(n){return(typeof n=="string"?n:""+n).replace(Nb,`
`).replace(Rb,"")}function Xg(n,s){return s=Kg(s),Kg(n)===s}function at(n,s,a,c,y,v){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Hs(n,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Hs(n,""+c);break;case"className":ua(n,"class",c);break;case"tabIndex":ua(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ua(n,a,c);break;case"style":Xh(n,c,v);break;case"data":if(s!=="object"){ua(n,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=da(""+c),n.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(s!=="input"&&at(n,s,"name",y.name,y,null),at(n,s,"formEncType",y.formEncType,y,null),at(n,s,"formMethod",y.formMethod,y,null),at(n,s,"formTarget",y.formTarget,y,null)):(at(n,s,"encType",y.encType,y,null),at(n,s,"method",y.method,y,null),at(n,s,"target",y.target,y,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=da(""+c),n.setAttribute(a,c);break;case"onClick":c!=null&&(n.onclick=si);break;case"onScroll":c!=null&&qe("scroll",n);break;case"onScrollEnd":c!=null&&qe("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(y.children!=null)throw Error(o(60));n.innerHTML=a}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}a=da(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""+c):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":c===!0?n.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,c):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(a,c):n.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(a):n.setAttribute(a,c);break;case"popover":qe("beforetoggle",n),qe("toggle",n),la(n,"popover",c);break;case"xlinkActuate":ii(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ii(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ii(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ii(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ii(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ii(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ii(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ii(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ii(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":la(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=iT.get(a)||a,la(n,a,c))}}function rd(n,s,a,c,y,v){switch(a){case"style":Xh(n,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(y.children!=null)throw Error(o(60));n.innerHTML=a}}break;case"children":typeof c=="string"?Hs(n,c):(typeof c=="number"||typeof c=="bigint")&&Hs(n,""+c);break;case"onScroll":c!=null&&qe("scroll",n);break;case"onScrollEnd":c!=null&&qe("scrollend",n);break;case"onClick":c!=null&&(n.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(y=a.endsWith("Capture"),s=a.slice(2,y?a.length-7:void 0),v=n[rn]||null,v=v!=null?v[a]:null,typeof v=="function"&&n.removeEventListener(s,v,y),typeof c=="function")){typeof v!="function"&&v!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,c,y);break e}a in n?n[a]=c:c===!0?n.setAttribute(a,""):la(n,a,c)}}}function jt(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",n),qe("load",n);var c=!1,y=!1,v;for(v in a)if(a.hasOwnProperty(v)){var E=a[v];if(E!=null)switch(v){case"src":c=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:at(n,s,v,E,a,null)}}y&&at(n,s,"srcSet",a.srcSet,a,null),c&&at(n,s,"src",a.src,a,null);return;case"input":qe("invalid",n);var I=v=E=y=null,H=null,W=null;for(c in a)if(a.hasOwnProperty(c)){var ce=a[c];if(ce!=null)switch(c){case"name":y=ce;break;case"type":E=ce;break;case"checked":H=ce;break;case"defaultChecked":W=ce;break;case"value":v=ce;break;case"defaultValue":I=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(o(137,s));break;default:at(n,s,c,ce,a,null)}}jh(n,v,I,H,W,E,y,!1);return;case"select":qe("invalid",n),c=E=v=null;for(y in a)if(a.hasOwnProperty(y)&&(I=a[y],I!=null))switch(y){case"value":v=I;break;case"defaultValue":E=I;break;case"multiple":c=I;default:at(n,s,y,I,a,null)}s=v,a=E,n.multiple=!!c,s!=null?Gs(n,!!c,s,!1):a!=null&&Gs(n,!!c,a,!0);return;case"textarea":qe("invalid",n),v=y=c=null;for(E in a)if(a.hasOwnProperty(E)&&(I=a[E],I!=null))switch(E){case"value":c=I;break;case"defaultValue":y=I;break;case"children":v=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(o(91));break;default:at(n,s,E,I,a,null)}Jh(n,c,y,v);return;case"option":for(H in a)a.hasOwnProperty(H)&&(c=a[H],c!=null)&&(H==="selected"?n.selected=c&&typeof c!="function"&&typeof c!="symbol":at(n,s,H,c,a,null));return;case"dialog":qe("beforetoggle",n),qe("toggle",n),qe("cancel",n),qe("close",n);break;case"iframe":case"object":qe("load",n);break;case"video":case"audio":for(c=0;c<Rr.length;c++)qe(Rr[c],n);break;case"image":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"embed":case"source":case"link":qe("error",n),qe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in a)if(a.hasOwnProperty(W)&&(c=a[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:at(n,s,W,c,a,null)}return;default:if(Su(s)){for(ce in a)a.hasOwnProperty(ce)&&(c=a[ce],c!==void 0&&rd(n,s,ce,c,a,void 0));return}}for(I in a)a.hasOwnProperty(I)&&(c=a[I],c!=null&&at(n,s,I,c,a,null))}function Mb(n,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,E=null,I=null,H=null,W=null,ce=null;for(re in a){var he=a[re];if(a.hasOwnProperty(re)&&he!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":H=he;default:c.hasOwnProperty(re)||at(n,s,re,null,c,he)}}for(var te in c){var re=c[te];if(he=a[te],c.hasOwnProperty(te)&&(re!=null||he!=null))switch(te){case"type":v=re;break;case"name":y=re;break;case"checked":W=re;break;case"defaultChecked":ce=re;break;case"value":E=re;break;case"defaultValue":I=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(o(137,s));break;default:re!==he&&at(n,s,te,re,c,he)}}vu(n,E,I,H,W,ce,v,y);return;case"select":re=E=I=te=null;for(v in a)if(H=a[v],a.hasOwnProperty(v)&&H!=null)switch(v){case"value":break;case"multiple":re=H;default:c.hasOwnProperty(v)||at(n,s,v,null,c,H)}for(y in c)if(v=c[y],H=a[y],c.hasOwnProperty(y)&&(v!=null||H!=null))switch(y){case"value":te=v;break;case"defaultValue":I=v;break;case"multiple":E=v;default:v!==H&&at(n,s,y,v,c,H)}s=I,a=E,c=re,te!=null?Gs(n,!!a,te,!1):!!c!=!!a&&(s!=null?Gs(n,!!a,s,!0):Gs(n,!!a,a?[]:"",!1));return;case"textarea":re=te=null;for(I in a)if(y=a[I],a.hasOwnProperty(I)&&y!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:at(n,s,I,null,c,y)}for(E in c)if(y=c[E],v=a[E],c.hasOwnProperty(E)&&(y!=null||v!=null))switch(E){case"value":te=y;break;case"defaultValue":re=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(o(91));break;default:y!==v&&at(n,s,E,y,c,v)}Yh(n,te,re);return;case"option":for(var Ce in a)te=a[Ce],a.hasOwnProperty(Ce)&&te!=null&&!c.hasOwnProperty(Ce)&&(Ce==="selected"?n.selected=!1:at(n,s,Ce,null,c,te));for(H in c)te=c[H],re=a[H],c.hasOwnProperty(H)&&te!==re&&(te!=null||re!=null)&&(H==="selected"?n.selected=te&&typeof te!="function"&&typeof te!="symbol":at(n,s,H,te,c,re));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in a)te=a[Pe],a.hasOwnProperty(Pe)&&te!=null&&!c.hasOwnProperty(Pe)&&at(n,s,Pe,null,c,te);for(W in c)if(te=c[W],re=a[W],c.hasOwnProperty(W)&&te!==re&&(te!=null||re!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(o(137,s));break;default:at(n,s,W,te,c,re)}return;default:if(Su(s)){for(var lt in a)te=a[lt],a.hasOwnProperty(lt)&&te!==void 0&&!c.hasOwnProperty(lt)&&rd(n,s,lt,void 0,c,te);for(ce in c)te=c[ce],re=a[ce],!c.hasOwnProperty(ce)||te===re||te===void 0&&re===void 0||rd(n,s,ce,te,c,re);return}}for(var X in a)te=a[X],a.hasOwnProperty(X)&&te!=null&&!c.hasOwnProperty(X)&&at(n,s,X,null,c,te);for(he in c)te=c[he],re=a[he],!c.hasOwnProperty(he)||te===re||te==null&&re==null||at(n,s,he,te,c,re)}function $g(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kb(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var y=a[c],v=y.transferSize,E=y.initiatorType,I=y.duration;if(v&&I&&$g(E)){for(E=0,I=y.responseEnd,c+=1;c<a.length;c++){var H=a[c],W=H.startTime;if(W>I)break;var ce=H.transferSize,he=H.initiatorType;ce&&$g(he)&&(H=H.responseEnd,E+=ce*(H<I?1:(I-W)/(H-W)))}if(--c,s+=8*(v+E)/(y.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var ad=null,ld=null;function rl(n){return n.nodeType===9?n:n.ownerDocument}function Zg(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wg(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function ud(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var cd=null;function Ib(){var n=window.event;return n&&n.type==="popstate"?n===cd?!1:(cd=n,!0):(cd=null,!1)}var Qg=typeof setTimeout=="function"?setTimeout:void 0,Db=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,zb=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(n){return e0.resolve(null).then(n).catch(Pb)}:Qg;function Pb(n){setTimeout(function(){throw n})}function Ji(n){return n==="head"}function t0(n,s){var a=s,c=0;do{var y=a.nextSibling;if(n.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"||a==="/&"){if(c===0){n.removeChild(y),So(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")kr(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,kr(a);for(var v=a.firstChild;v;){var E=v.nextSibling,I=v.nodeName;v[Xo]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}else a==="body"&&kr(n.ownerDocument.body);a=y}while(a);So(s)}function n0(n,s){var a=n;n=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=c}while(a)}function dd(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dd(a),gu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Ub(n,s,a,c){for(;n.nodeType===1;){var y=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Xo])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==y.rel||n.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||n.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||n.getAttribute("title")!==(y.title==null?null:y.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(y.src==null?null:y.src)||n.getAttribute("type")!==(y.type==null?null:y.type)||n.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=Mn(n.nextSibling),n===null)break}return null}function Lb(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Mn(n.nextSibling),n===null))return null;return n}function i0(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Mn(n.nextSibling),n===null))return null;return n}function fd(n){return n.data==="$?"||n.data==="$~"}function hd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Vb(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Mn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var pd=null;function s0(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return Mn(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function o0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function r0(n,s,a){switch(s=rl(a),n){case"html":if(n=s.documentElement,!n)throw Error(o(452));return n;case"head":if(n=s.head,!n)throw Error(o(453));return n;case"body":if(n=s.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function kr(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);gu(n)}var kn=new Map,a0=new Set;function al(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Si=Y.d;Y.d={f:Ob,r:Bb,D:Gb,C:Hb,L:Fb,m:qb,X:Yb,S:jb,M:Jb};function Ob(){var n=Si.f(),s=Wa();return n||s}function Bb(n){var s=Vs(n);s!==null&&s.tag===5&&s.type==="form"?Em(s):Si.r(n)}var yo=typeof document>"u"?null:document;function l0(n,s,a){var c=yo;if(c&&typeof s=="string"&&s){var y=bn(s);y='link[rel="'+n+'"][href="'+y+'"]',typeof a=="string"&&(y+='[crossorigin="'+a+'"]'),a0.has(y)||(a0.add(y),n={rel:n,crossOrigin:a,href:s},c.querySelector(y)===null&&(s=c.createElement("link"),jt(s,"link",n),Ut(s),c.head.appendChild(s)))}}function Gb(n){Si.D(n),l0("dns-prefetch",n,null)}function Hb(n,s){Si.C(n,s),l0("preconnect",n,s)}function Fb(n,s,a){Si.L(n,s,a);var c=yo;if(c&&n&&s){var y='link[rel="preload"][as="'+bn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(y+='[imagesrcset="'+bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(y+='[imagesizes="'+bn(a.imageSizes)+'"]')):y+='[href="'+bn(n)+'"]';var v=y;switch(s){case"style":v=vo(n);break;case"script":v=xo(n)}kn.has(v)||(n=x({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),kn.set(v,n),c.querySelector(y)!==null||s==="style"&&c.querySelector(Ir(v))||s==="script"&&c.querySelector(Dr(v))||(s=c.createElement("link"),jt(s,"link",n),Ut(s),c.head.appendChild(s)))}}function qb(n,s){Si.m(n,s);var a=yo;if(a&&n){var c=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+bn(c)+'"][href="'+bn(n)+'"]',v=y;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=xo(n)}if(!kn.has(v)&&(n=x({rel:"modulepreload",href:n},s),kn.set(v,n),a.querySelector(y)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dr(v)))return}c=a.createElement("link"),jt(c,"link",n),Ut(c),a.head.appendChild(c)}}}function jb(n,s,a){Si.S(n,s,a);var c=yo;if(c&&n){var y=Os(c).hoistableStyles,v=vo(n);s=s||"default";var E=y.get(v);if(!E){var I={loading:0,preload:null};if(E=c.querySelector(Ir(v)))I.loading=5;else{n=x({rel:"stylesheet",href:n,"data-precedence":s},a),(a=kn.get(v))&&md(n,a);var H=E=c.createElement("link");Ut(H),jt(H,"link",n),H._p=new Promise(function(W,ce){H.onload=W,H.onerror=ce}),H.addEventListener("load",function(){I.loading|=1}),H.addEventListener("error",function(){I.loading|=2}),I.loading|=4,ll(E,s,c)}E={type:"stylesheet",instance:E,count:1,state:I},y.set(v,E)}}}function Yb(n,s){Si.X(n,s);var a=yo;if(a&&n){var c=Os(a).hoistableScripts,y=xo(n),v=c.get(y);v||(v=a.querySelector(Dr(y)),v||(n=x({src:n,async:!0},s),(s=kn.get(y))&&gd(n,s),v=a.createElement("script"),Ut(v),jt(v,"link",n),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(y,v))}}function Jb(n,s){Si.M(n,s);var a=yo;if(a&&n){var c=Os(a).hoistableScripts,y=xo(n),v=c.get(y);v||(v=a.querySelector(Dr(y)),v||(n=x({src:n,async:!0,type:"module"},s),(s=kn.get(y))&&gd(n,s),v=a.createElement("script"),Ut(v),jt(v,"link",n),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(y,v))}}function u0(n,s,a,c){var y=(y=Ae.current)?al(y):null;if(!y)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=vo(a.href),a=Os(y).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=vo(a.href);var v=Os(y).hoistableStyles,E=v.get(n);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,E),(v=y.querySelector(Ir(n)))&&!v._p&&(E.instance=v,E.state.loading=5),kn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(n,a),v||Kb(y,n,a,E.state))),s&&c===null)throw Error(o(528,""));return E}if(s&&c!==null)throw Error(o(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=xo(a),a=Os(y).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function vo(n){return'href="'+bn(n)+'"'}function Ir(n){return'link[rel="stylesheet"]['+n+"]"}function c0(n){return x({},n,{"data-precedence":n.precedence,precedence:null})}function Kb(n,s,a,c){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),jt(s,"link",a),Ut(s),n.head.appendChild(s))}function xo(n){return'[src="'+bn(n)+'"]'}function Dr(n){return"script[async]"+n}function d0(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=n.querySelector('style[data-href~="'+bn(a.href)+'"]');if(c)return s.instance=c,Ut(c),c;var y=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Ut(c),jt(c,"style",y),ll(c,a.precedence,n),s.instance=c;case"stylesheet":y=vo(a.href);var v=n.querySelector(Ir(y));if(v)return s.state.loading|=4,s.instance=v,Ut(v),v;c=c0(a),(y=kn.get(y))&&md(c,y),v=(n.ownerDocument||n).createElement("link"),Ut(v);var E=v;return E._p=new Promise(function(I,H){E.onload=I,E.onerror=H}),jt(v,"link",c),s.state.loading|=4,ll(v,a.precedence,n),s.instance=v;case"script":return v=xo(a.src),(y=n.querySelector(Dr(v)))?(s.instance=y,Ut(y),y):(c=a,(y=kn.get(v))&&(c=x({},a),gd(c,y)),n=n.ownerDocument||n,y=n.createElement("script"),Ut(y),jt(y,"link",c),n.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,ll(c,a.precedence,n));return s.instance}function ll(n,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=c.length?c[c.length-1]:null,v=y,E=0;E<c.length;E++){var I=c[E];if(I.dataset.precedence===s)v=I;else if(v!==y)break}v?v.parentNode.insertBefore(n,v.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function md(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function gd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var ul=null;function f0(n,s,a){if(ul===null){var c=new Map,y=ul=new Map;y.set(a,c)}else y=ul,c=y.get(a),c||(c=new Map,y.set(a,c));if(c.has(n))return c;for(c.set(n,null),a=a.getElementsByTagName(n),y=0;y<a.length;y++){var v=a[y];if(!(v[Xo]||v[Gt]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(s)||"";E=n+E;var I=c.get(E);I?I.push(v):c.set(E,[v])}}return c}function h0(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function Xb(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function p0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function $b(n,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var y=vo(c.href),v=s.querySelector(Ir(y));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=cl.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=v,Ut(v);return}v=s.ownerDocument||s,c=c0(c),(y=kn.get(y))&&md(c,y),v=v.createElement("link"),Ut(v);var E=v;E._p=new Promise(function(I,H){E.onload=I,E.onerror=H}),jt(v,"link",c),a.instance=v}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=cl.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var yd=0;function Zb(n,s){return n.stylesheets&&n.count===0&&fl(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var c=setTimeout(function(){if(n.stylesheets&&fl(n,n.stylesheets),n.unsuspend){var v=n.unsuspend;n.unsuspend=null,v()}},6e4+s);0<n.imgBytes&&yd===0&&(yd=62500*kb());var y=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&fl(n,n.stylesheets),n.unsuspend)){var v=n.unsuspend;n.unsuspend=null,v()}},(n.imgBytes>yd?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(y)}}:null}function cl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fl(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var dl=null;function fl(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,dl=new Map,s.forEach(Wb,n),dl=null,cl.call(n))}function Wb(n,s){if(!(s.state.loading&4)){var a=dl.get(n);if(a)var c=a.get(null);else{a=new Map,dl.set(n,a);for(var y=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var E=y[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),c=E)}c&&a.set(null,c)}y=s.instance,E=y.getAttribute("data-precedence"),v=a.get(E)||c,v===c&&a.set(null,y),a.set(E,y),this.count++,c=cl.bind(this),y.addEventListener("load",c),y.addEventListener("error",c),v?v.parentNode.insertBefore(y,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(y,n.firstChild)),s.state.loading|=4}}var zr={$$typeof:k,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Qb(n,s,a,c,y,v,E,I,H){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.hiddenUpdates=dt(null),this.identifierPrefix=c,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function m0(n,s,a,c,y,v,E,I,H,W,ce,he){return n=new Qb(n,s,a,E,H,W,ce,he,I),s=1,v===!0&&(s|=24),v=mn(3,null,null,s),n.current=v,v.stateNode=n,s=$u(),s.refCount++,n.pooledCache=s,s.refCount++,v.memoizedState={element:c,isDehydrated:a,cache:s},ec(v),n}function g0(n){return n?(n=Xs,n):Xs}function y0(n,s,a,c,y,v){y=g0(y),c.context===null?c.context=y:c.pendingContext=y,c=Ui(s),c.payload={element:a},v=v===void 0?null:v,v!==null&&(c.callback=v),a=Li(n,c,s),a!==null&&(fn(a,n,s),fr(a,n,s))}function v0(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function vd(n,s){v0(n,s),(n=n.alternate)&&v0(n,s)}function x0(n){if(n.tag===13||n.tag===31){var s=ds(n,67108864);s!==null&&fn(s,n,67108864),vd(n,67108864)}}function S0(n){if(n.tag===13||n.tag===31){var s=Sn();s=Jo(s);var a=ds(n,s);a!==null&&fn(a,n,s),vd(n,s)}}var hl=!0;function eE(n,s,a,c){var y=J.T;J.T=null;var v=Y.p;try{Y.p=2,xd(n,s,a,c)}finally{Y.p=v,J.T=y}}function tE(n,s,a,c){var y=J.T;J.T=null;var v=Y.p;try{Y.p=8,xd(n,s,a,c)}finally{Y.p=v,J.T=y}}function xd(n,s,a,c){if(hl){var y=Sd(c);if(y===null)od(n,s,c,pl,a),T0(n,c);else if(iE(y,n,s,a,c))c.stopPropagation();else if(T0(n,c),s&4&&-1<nE.indexOf(n)){for(;y!==null;){var v=Vs(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=on(v.pendingLanes);if(E!==0){var I=v;for(I.pendingLanes|=2,I.entangledLanes|=2;E;){var H=1<<31-ft(E);I.entanglements[1]|=H,E&=~H}Xn(v),(nt&6)===0&&($a=Te()+500,Nr(0))}}break;case 31:case 13:I=ds(v,2),I!==null&&fn(I,v,2),Wa(),vd(v,2)}if(v=Sd(c),v===null&&od(n,s,c,pl,a),v===y)break;y=v}y!==null&&c.stopPropagation()}else od(n,s,c,null,a)}}function Sd(n){return n=Tu(n),_d(n)}var pl=null;function _d(n){if(pl=null,n=Ls(n),n!==null){var s=l(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=u(s),n!==null)return n;n=null}else if(a===31){if(n=d(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return pl=n,null}function _0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_e()){case ke:return 2;case tt:return 8;case Oe:case Kt:return 32;case Ln:return 268435456;default:return 32}default:return 32}}var Td=!1,Ki=null,Xi=null,$i=null,Pr=new Map,Ur=new Map,Zi=[],nE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T0(n,s){switch(n){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":Pr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(s.pointerId)}}function Lr(n,s,a,c,y,v){return n===null||n.nativeEvent!==v?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:v,targetContainers:[y]},s!==null&&(s=Vs(s),s!==null&&x0(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),n)}function iE(n,s,a,c,y){switch(s){case"focusin":return Ki=Lr(Ki,n,s,a,c,y),!0;case"dragenter":return Xi=Lr(Xi,n,s,a,c,y),!0;case"mouseover":return $i=Lr($i,n,s,a,c,y),!0;case"pointerover":var v=y.pointerId;return Pr.set(v,Lr(Pr.get(v)||null,n,s,a,c,y)),!0;case"gotpointercapture":return v=y.pointerId,Ur.set(v,Lr(Ur.get(v)||null,n,s,a,c,y)),!0}return!1}function b0(n){var s=Ls(n.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){n.blockedOn=s,Lh(n.priority,function(){S0(a)});return}}else if(s===31){if(s=d(a),s!==null){n.blockedOn=s,Lh(n.priority,function(){S0(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ml(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Sd(n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);_u=c,a.target.dispatchEvent(c),_u=null}else return s=Vs(a),s!==null&&x0(s),n.blockedOn=a,!1;s.shift()}return!0}function E0(n,s,a){ml(n)&&a.delete(s)}function sE(){Td=!1,Ki!==null&&ml(Ki)&&(Ki=null),Xi!==null&&ml(Xi)&&(Xi=null),$i!==null&&ml($i)&&($i=null),Pr.forEach(E0),Ur.forEach(E0)}function gl(n,s){n.blockedOn===s&&(n.blockedOn=null,Td||(Td=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,sE)))}var yl=null;function A0(n){yl!==n&&(yl=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yl===n&&(yl=null);for(var s=0;s<n.length;s+=3){var a=n[s],c=n[s+1],y=n[s+2];if(typeof c!="function"){if(_d(c||a)===null)continue;break}var v=Vs(a);v!==null&&(n.splice(s,3),s-=3,Sc(v,{pending:!0,data:y,method:a.method,action:c},c,y))}}))}function So(n){function s(H){return gl(H,n)}Ki!==null&&gl(Ki,n),Xi!==null&&gl(Xi,n),$i!==null&&gl($i,n),Pr.forEach(s),Ur.forEach(s);for(var a=0;a<Zi.length;a++){var c=Zi[a];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Zi.length&&(a=Zi[0],a.blockedOn===null);)b0(a),a.blockedOn===null&&Zi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var y=a[c],v=a[c+1],E=y[rn]||null;if(typeof v=="function")E||A0(a);else if(E){var I=null;if(v&&v.hasAttribute("formAction")){if(y=v,E=v[rn]||null)I=E.formAction;else if(_d(y)!==null)continue}else I=E.action;typeof I=="function"?a[c+1]=I:(a.splice(c,3),c-=3),A0(a)}}}function C0(){function n(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(E){return y=E})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,y=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function bd(n){this._internalRoot=n}vl.prototype.render=bd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(o(409));var a=s.current,c=Sn();y0(a,c,n,s,null,null)},vl.prototype.unmount=bd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;y0(n.current,2,null,n,null,null),Wa(),s[Us]=null}};function vl(n){this._internalRoot=n}vl.prototype.unstable_scheduleHydration=function(n){if(n){var s=Uh();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Zi.length&&s!==0&&s<Zi[a].priority;a++);Zi.splice(a,0,n),a===0&&b0(n)}};var w0=e.version;if(w0!=="19.2.3")throw Error(o(527,w0,"19.2.3"));Y.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=h(s),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var oE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{it=xl.inject(oE),bt=xl}catch{}}return Or.createRoot=function(n,s){if(!r(n))throw Error(o(299));var a=!1,c="",y=zm,v=Pm,E=Um;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=m0(n,1,!1,null,null,a,c,null,y,v,E,C0),n[Us]=s.current,sd(n),new bd(s)},Or.hydrateRoot=function(n,s,a){if(!r(n))throw Error(o(299));var c=!1,y="",v=zm,E=Pm,I=Um,H=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(I=a.onRecoverableError),a.formState!==void 0&&(H=a.formState)),s=m0(n,1,!0,s,a??null,c,y,H,v,E,I,C0),s.context=g0(null),a=s.current,c=Sn(),c=Jo(c),y=Ui(c),y.callback=null,Li(a,y,c),a=c,s.current.lanes=a,It(s,a),Xn(s),n[Us]=s.current,sd(n),new vl(s)},Or.version="19.2.3",Or}var L0;function pE(){if(L0)return Cd.exports;L0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cd.exports=hE(),Cd.exports}var mE=pE();const Hf=ye.createContext({});function Ff(t){const e=ye.useRef(null);return e.current===null&&(e.current=t()),e.current}const qf=typeof window<"u",Yx=qf?ye.useLayoutEffect:ye.useEffect,tu=ye.createContext(null);function jf(t,e){t.indexOf(e)===-1&&t.push(e)}function Yf(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}const Ei=(t,e,i)=>i>e?e:i<t?t:i;let Jf=()=>{};const Ai={},Jx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Kx(t){return typeof t=="object"&&t!==null}const Xx=t=>/^0[^.\s]+$/u.test(t);function Kf(t){let e;return()=>(e===void 0&&(e=t()),e)}const zn=t=>t,gE=(t,e)=>i=>e(t(i)),sa=(...t)=>t.reduce(gE),$r=(t,e,i)=>{const o=e-t;return o===0?1:(i-t)/o};class Xf{constructor(){this.subscriptions=[]}add(e){return jf(this.subscriptions,e),()=>Yf(this.subscriptions,e)}notify(e,i,o){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,i,o);else for(let l=0;l<r;l++){const u=this.subscriptions[l];u&&u(e,i,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $n=t=>t*1e3,Dn=t=>t/1e3;function $x(t,e){return e?t*(1e3/e):0}const Zx=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,yE=1e-7,vE=12;function xE(t,e,i,o,r){let l,u,d=0;do u=e+(i-e)/2,l=Zx(u,o,r)-t,l>0?i=u:e=u;while(Math.abs(l)>yE&&++d<vE);return u}function oa(t,e,i,o){if(t===e&&i===o)return zn;const r=l=>xE(l,0,1,t,i);return l=>l===0||l===1?l:Zx(r(l),e,o)}const Wx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Qx=t=>e=>1-t(1-e),e1=oa(.33,1.53,.69,.99),$f=Qx(e1),t1=Wx($f),n1=t=>(t*=2)<1?.5*$f(t):.5*(2-Math.pow(2,-10*(t-1))),Zf=t=>1-Math.sin(Math.acos(t)),i1=Qx(Zf),s1=Wx(Zf),SE=oa(.42,0,1,1),_E=oa(0,0,.58,1),o1=oa(.42,0,.58,1),TE=t=>Array.isArray(t)&&typeof t[0]!="number",r1=t=>Array.isArray(t)&&typeof t[0]=="number",bE={linear:zn,easeIn:SE,easeInOut:o1,easeOut:_E,circIn:Zf,circInOut:s1,circOut:i1,backIn:$f,backInOut:t1,backOut:e1,anticipate:n1},EE=t=>typeof t=="string",V0=t=>{if(r1(t)){Jf(t.length===4);const[e,i,o,r]=t;return oa(e,i,o,r)}else if(EE(t))return bE[t];return t},_l=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function AE(t,e){let i=new Set,o=new Set,r=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(g){u.has(g)&&(h.schedule(g),t()),g(d)}const h={schedule:(g,x=!1,S=!1)=>{const C=S&&r?i:o;return x&&u.add(g),C.has(g)||C.add(g),g},cancel:g=>{o.delete(g),u.delete(g)},process:g=>{if(d=g,r){l=!0;return}r=!0,[i,o]=[o,i],i.forEach(p),i.clear(),r=!1,l&&(l=!1,h.process(g))}};return h}const CE=40;function a1(t,e){let i=!1,o=!0;const r={delta:0,timestamp:0,isProcessing:!1},l=()=>i=!0,u=_l.reduce((k,P)=>(k[P]=AE(l),k),{}),{setup:d,read:p,resolveKeyframes:h,preUpdate:g,update:x,preRender:S,render:T,postRender:C}=u,b=()=>{const k=Ai.useManualTiming?r.timestamp:performance.now();i=!1,Ai.useManualTiming||(r.delta=o?1e3/60:Math.max(Math.min(k-r.timestamp,CE),1)),r.timestamp=k,r.isProcessing=!0,d.process(r),p.process(r),h.process(r),g.process(r),x.process(r),S.process(r),T.process(r),C.process(r),r.isProcessing=!1,i&&e&&(o=!1,t(b))},A=()=>{i=!0,o=!0,r.isProcessing||t(b)};return{schedule:_l.reduce((k,P)=>{const z=u[P];return k[P]=(q,O=!1,G=!1)=>(i||A(),z.schedule(q,O,G)),k},{}),cancel:k=>{for(let P=0;P<_l.length;P++)u[_l[P]].cancel(k)},state:r,steps:u}}const{schedule:gt,cancel:ts,state:Yt,steps:Md}=a1(typeof requestAnimationFrame<"u"?requestAnimationFrame:zn,!0);let zl;function wE(){zl=void 0}const hn={now:()=>(zl===void 0&&hn.set(Yt.isProcessing||Ai.useManualTiming?Yt.timestamp:performance.now()),zl),set:t=>{zl=t,queueMicrotask(wE)}},l1=t=>e=>typeof e=="string"&&e.startsWith(t),u1=l1("--"),NE=l1("var(--"),Wf=t=>NE(t)?RE.test(t.split("/*")[0].trim()):!1,RE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Lo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zr={...Lo,transform:t=>Ei(0,1,t)},Tl={...Lo,default:1},Yr=t=>Math.round(t*1e5)/1e5,Qf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ME(t){return t==null}const kE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eh=(t,e)=>i=>!!(typeof i=="string"&&kE.test(i)&&i.startsWith(t)||e&&!ME(i)&&Object.prototype.hasOwnProperty.call(i,e)),c1=(t,e,i)=>o=>{if(typeof o!="string")return o;const[r,l,u,d]=o.match(Qf);return{[t]:parseFloat(r),[e]:parseFloat(l),[i]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},IE=t=>Ei(0,255,t),kd={...Lo,transform:t=>Math.round(IE(t))},Rs={test:eh("rgb","red"),parse:c1("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:o=1})=>"rgba("+kd.transform(t)+", "+kd.transform(e)+", "+kd.transform(i)+", "+Yr(Zr.transform(o))+")"};function DE(t){let e="",i="",o="",r="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),o=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),o=t.substring(3,4),r=t.substring(4,5),e+=e,i+=i,o+=o,r+=r),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(o,16),alpha:r?parseInt(r,16)/255:1}}const Wd={test:eh("#"),parse:DE,transform:Rs.transform},ra=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),es=ra("deg"),Zn=ra("%"),Ue=ra("px"),zE=ra("vh"),PE=ra("vw"),O0={...Zn,parse:t=>Zn.parse(t)/100,transform:t=>Zn.transform(t*100)},Eo={test:eh("hsl","hue"),parse:c1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:o=1})=>"hsla("+Math.round(t)+", "+Zn.transform(Yr(e))+", "+Zn.transform(Yr(i))+", "+Yr(Zr.transform(o))+")"},kt={test:t=>Rs.test(t)||Wd.test(t)||Eo.test(t),parse:t=>Rs.test(t)?Rs.parse(t):Eo.test(t)?Eo.parse(t):Wd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Rs.transform(t):Eo.transform(t),getAnimatableNone:t=>{const e=kt.parse(t);return e.alpha=0,kt.transform(e)}},UE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function LE(t){return isNaN(t)&&typeof t=="string"&&(t.match(Qf)?.length||0)+(t.match(UE)?.length||0)>0}const d1="number",f1="color",VE="var",OE="var(",B0="${}",BE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wr(t){const e=t.toString(),i=[],o={color:[],number:[],var:[]},r=[];let l=0;const d=e.replace(BE,p=>(kt.test(p)?(o.color.push(l),r.push(f1),i.push(kt.parse(p))):p.startsWith(OE)?(o.var.push(l),r.push(VE),i.push(p)):(o.number.push(l),r.push(d1),i.push(parseFloat(p))),++l,B0)).split(B0);return{values:i,split:d,indexes:o,types:r}}function h1(t){return Wr(t).values}function p1(t){const{split:e,types:i}=Wr(t),o=e.length;return r=>{let l="";for(let u=0;u<o;u++)if(l+=e[u],r[u]!==void 0){const d=i[u];d===d1?l+=Yr(r[u]):d===f1?l+=kt.transform(r[u]):l+=r[u]}return l}}const GE=t=>typeof t=="number"?0:kt.test(t)?kt.getAnimatableNone(t):t;function HE(t){const e=h1(t);return p1(t)(e.map(GE))}const ns={test:LE,parse:h1,createTransformer:p1,getAnimatableNone:HE};function Id(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function FE({hue:t,saturation:e,lightness:i,alpha:o}){t/=360,e/=100,i/=100;let r=0,l=0,u=0;if(!e)r=l=u=i;else{const d=i<.5?i*(1+e):i+e-i*e,p=2*i-d;r=Id(p,d,t+1/3),l=Id(p,d,t),u=Id(p,d,t-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:o}}function Bl(t,e){return i=>i>0?e:t}const yt=(t,e,i)=>t+(e-t)*i,Dd=(t,e,i)=>{const o=t*t,r=i*(e*e-o)+o;return r<0?0:Math.sqrt(r)},qE=[Wd,Rs,Eo],jE=t=>qE.find(e=>e.test(t));function G0(t){const e=jE(t);if(!e)return!1;let i=e.parse(t);return e===Eo&&(i=FE(i)),i}const H0=(t,e)=>{const i=G0(t),o=G0(e);if(!i||!o)return Bl(t,e);const r={...i};return l=>(r.red=Dd(i.red,o.red,l),r.green=Dd(i.green,o.green,l),r.blue=Dd(i.blue,o.blue,l),r.alpha=yt(i.alpha,o.alpha,l),Rs.transform(r))},Qd=new Set(["none","hidden"]);function YE(t,e){return Qd.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}function JE(t,e){return i=>yt(t,e,i)}function th(t){return typeof t=="number"?JE:typeof t=="string"?Wf(t)?Bl:kt.test(t)?H0:$E:Array.isArray(t)?m1:typeof t=="object"?kt.test(t)?H0:KE:Bl}function m1(t,e){const i=[...t],o=i.length,r=t.map((l,u)=>th(l)(l,e[u]));return l=>{for(let u=0;u<o;u++)i[u]=r[u](l);return i}}function KE(t,e){const i={...t,...e},o={};for(const r in i)t[r]!==void 0&&e[r]!==void 0&&(o[r]=th(t[r])(t[r],e[r]));return r=>{for(const l in o)i[l]=o[l](r);return i}}function XE(t,e){const i=[],o={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const l=e.types[r],u=t.indexes[l][o[l]],d=t.values[u]??0;i[r]=d,o[l]++}return i}const $E=(t,e)=>{const i=ns.createTransformer(e),o=Wr(t),r=Wr(e);return o.indexes.var.length===r.indexes.var.length&&o.indexes.color.length===r.indexes.color.length&&o.indexes.number.length>=r.indexes.number.length?Qd.has(t)&&!r.values.length||Qd.has(e)&&!o.values.length?YE(t,e):sa(m1(XE(o,r),r.values),i):Bl(t,e)};function g1(t,e,i){return typeof t=="number"&&typeof e=="number"&&typeof i=="number"?yt(t,e,i):th(t)(t,e)}const ZE=t=>{const e=({timestamp:i})=>t(i);return{start:(i=!0)=>gt.update(e,i),stop:()=>ts(e),now:()=>Yt.isProcessing?Yt.timestamp:hn.now()}},y1=(t,e,i=10)=>{let o="";const r=Math.max(Math.round(e/i),2);for(let l=0;l<r;l++)o+=Math.round(t(l/(r-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},Gl=2e4;function nh(t){let e=0;const i=50;let o=t.next(e);for(;!o.done&&e<Gl;)e+=i,o=t.next(e);return e>=Gl?1/0:e}function WE(t,e=100,i){const o=i({...t,keyframes:[0,e]}),r=Math.min(nh(o),Gl);return{type:"keyframes",ease:l=>o.next(r*l).value/e,duration:Dn(r)}}const QE=5;function v1(t,e,i){const o=Math.max(e-QE,0);return $x(i-t(o),e-o)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zd=.001;function eA({duration:t=_t.duration,bounce:e=_t.bounce,velocity:i=_t.velocity,mass:o=_t.mass}){let r,l,u=1-e;u=Ei(_t.minDamping,_t.maxDamping,u),t=Ei(_t.minDuration,_t.maxDuration,Dn(t)),u<1?(r=h=>{const g=h*u,x=g*t,S=g-i,T=ef(h,u),C=Math.exp(-x);return zd-S/T*C},l=h=>{const x=h*u*t,S=x*i+i,T=Math.pow(u,2)*Math.pow(h,2)*t,C=Math.exp(-x),b=ef(Math.pow(h,2),u);return(-r(h)+zd>0?-1:1)*((S-T)*C)/b}):(r=h=>{const g=Math.exp(-h*t),x=(h-i)*t+1;return-zd+g*x},l=h=>{const g=Math.exp(-h*t),x=(i-h)*(t*t);return g*x});const d=5/t,p=nA(r,l,d);if(t=$n(t),isNaN(p))return{stiffness:_t.stiffness,damping:_t.damping,duration:t};{const h=Math.pow(p,2)*o;return{stiffness:h,damping:u*2*Math.sqrt(o*h),duration:t}}}const tA=12;function nA(t,e,i){let o=i;for(let r=1;r<tA;r++)o=o-t(o)/e(o);return o}function ef(t,e){return t*Math.sqrt(1-e*e)}const iA=["duration","bounce"],sA=["stiffness","damping","mass"];function F0(t,e){return e.some(i=>t[i]!==void 0)}function oA(t){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...t};if(!F0(t,sA)&&F0(t,iA))if(t.visualDuration){const i=t.visualDuration,o=2*Math.PI/(i*1.2),r=o*o,l=2*Ei(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:_t.mass,stiffness:r,damping:l}}else{const i=eA(t);e={...e,...i,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function Hl(t=_t.visualDuration,e=_t.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:o,restDelta:r}=i;const l=i.keyframes[0],u=i.keyframes[i.keyframes.length-1],d={done:!1,value:l},{stiffness:p,damping:h,mass:g,duration:x,velocity:S,isResolvedFromDuration:T}=oA({...i,velocity:-Dn(i.velocity||0)}),C=S||0,b=h/(2*Math.sqrt(p*g)),A=u-l,w=Dn(Math.sqrt(p/g)),M=Math.abs(A)<5;o||(o=M?_t.restSpeed.granular:_t.restSpeed.default),r||(r=M?_t.restDelta.granular:_t.restDelta.default);let k;if(b<1){const z=ef(w,b);k=q=>{const O=Math.exp(-b*w*q);return u-O*((C+b*w*A)/z*Math.sin(z*q)+A*Math.cos(z*q))}}else if(b===1)k=z=>u-Math.exp(-w*z)*(A+(C+w*A)*z);else{const z=w*Math.sqrt(b*b-1);k=q=>{const O=Math.exp(-b*w*q),G=Math.min(z*q,300);return u-O*((C+b*w*A)*Math.sinh(G)+z*A*Math.cosh(G))/z}}const P={calculatedDuration:T&&x||null,next:z=>{const q=k(z);if(T)d.done=z>=x;else{let O=z===0?C:0;b<1&&(O=z===0?$n(C):v1(k,z,q));const G=Math.abs(O)<=o,F=Math.abs(u-q)<=r;d.done=G&&F}return d.value=d.done?u:q,d},toString:()=>{const z=Math.min(nh(P),Gl),q=y1(O=>P.next(z*O).value,z,30);return z+"ms "+q},toTransition:()=>{}};return P}Hl.applyToOptions=t=>{const e=WE(t,100,Hl);return t.ease=e.ease,t.duration=$n(e.duration),t.type="keyframes",t};function tf({keyframes:t,velocity:e=0,power:i=.8,timeConstant:o=325,bounceDamping:r=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:p,restDelta:h=.5,restSpeed:g}){const x=t[0],S={done:!1,value:x},T=G=>d!==void 0&&G<d||p!==void 0&&G>p,C=G=>d===void 0?p:p===void 0||Math.abs(d-G)<Math.abs(p-G)?d:p;let b=i*e;const A=x+b,w=u===void 0?A:u(A);w!==A&&(b=w-x);const M=G=>-b*Math.exp(-G/o),k=G=>w+M(G),P=G=>{const F=M(G),ie=k(G);S.done=Math.abs(F)<=h,S.value=S.done?w:ie};let z,q;const O=G=>{T(S.value)&&(z=G,q=Hl({keyframes:[S.value,C(S.value)],velocity:v1(k,G,S.value),damping:r,stiffness:l,restDelta:h,restSpeed:g}))};return O(0),{calculatedDuration:null,next:G=>{let F=!1;return!q&&z===void 0&&(F=!0,P(G),O(G)),z!==void 0&&G>=z?q.next(G-z):(!F&&P(G),S)}}}function rA(t,e,i){const o=[],r=i||Ai.mix||g1,l=t.length-1;for(let u=0;u<l;u++){let d=r(t[u],t[u+1]);if(e){const p=Array.isArray(e)?e[u]||zn:e;d=sa(p,d)}o.push(d)}return o}function aA(t,e,{clamp:i=!0,ease:o,mixer:r}={}){const l=t.length;if(Jf(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=rA(e,o,r),p=d.length,h=g=>{if(u&&g<t[0])return e[0];let x=0;if(p>1)for(;x<t.length-2&&!(g<t[x+1]);x++);const S=$r(t[x],t[x+1],g);return d[x](S)};return i?g=>h(Ei(t[0],t[l-1],g)):h}function lA(t,e){const i=t[t.length-1];for(let o=1;o<=e;o++){const r=$r(0,e,o);t.push(yt(i,1,r))}}function uA(t){const e=[0];return lA(e,t.length-1),e}function cA(t,e){return t.map(i=>i*e)}function dA(t,e){return t.map(()=>e||o1).splice(0,t.length-1)}function Jr({duration:t=300,keyframes:e,times:i,ease:o="easeInOut"}){const r=TE(o)?o.map(V0):V0(o),l={done:!1,value:e[0]},u=cA(i&&i.length===e.length?i:uA(e),t),d=aA(u,e,{ease:Array.isArray(r)?r:dA(e,r)});return{calculatedDuration:t,next:p=>(l.value=d(p),l.done=p>=t,l)}}const fA=t=>t!==null;function ih(t,{repeat:e,repeatType:i="loop"},o,r=1){const l=t.filter(fA),d=r<0||e&&i!=="loop"&&e%2===1?0:l.length-1;return!d||o===void 0?l[d]:o}const hA={decay:tf,inertia:tf,tween:Jr,keyframes:Jr,spring:Hl};function x1(t){typeof t.type=="string"&&(t.type=hA[t.type])}class sh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const pA=t=>t/100;class oh extends sh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==hn.now()&&this.tick(hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;x1(e);const{type:i=Jr,repeat:o=0,repeatDelay:r=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const p=i||Jr;p!==Jr&&typeof d[0]!="number"&&(this.mixKeyframes=sa(pA,g1(d[0],d[1])),d=[0,100]);const h=p({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...d].reverse(),velocity:-u})),h.calculatedDuration===null&&(h.calculatedDuration=nh(h));const{calculatedDuration:g}=h;this.calculatedDuration=g,this.resolvedDuration=g+r,this.totalDuration=this.resolvedDuration*(o+1)-r,this.generator=h}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:o,totalDuration:r,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return o.next(0);const{delay:h=0,keyframes:g,repeat:x,repeatType:S,repeatDelay:T,type:C,onUpdate:b,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const w=this.currentTime-h*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?w<0:w>r;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let k=this.currentTime,P=o;if(x){const G=Math.min(this.currentTime,r)/d;let F=Math.floor(G),ie=G%1;!ie&&G>=1&&(ie=1),ie===1&&F--,F=Math.min(F,x+1),F%2&&(S==="reverse"?(ie=1-ie,T&&(ie-=T/d)):S==="mirror"&&(P=u)),k=Ei(0,1,ie)*d}const z=M?{done:!1,value:g[0]}:P.next(k);l&&(z.value=l(z.value));let{done:q}=z;!M&&p!==null&&(q=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return O&&C!==tf&&(z.value=ih(g,this.options,A,this.speed)),b&&b(z.value),O&&this.finish(),z}then(e,i){return this.finished.then(e,i)}get duration(){return Dn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Dn(e)}get time(){return Dn(this.currentTime)}set time(e){e=$n(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(hn.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=Dn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=ZE,startTime:i}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=i??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function mA(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ms=t=>t*180/Math.PI,nf=t=>{const e=Ms(Math.atan2(t[1],t[0]));return sf(e)},gA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:nf,rotateZ:nf,skewX:t=>Ms(Math.atan(t[1])),skewY:t=>Ms(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},sf=t=>(t=t%360,t<0&&(t+=360),t),q0=nf,j0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Y0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),yA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:j0,scaleY:Y0,scale:t=>(j0(t)+Y0(t))/2,rotateX:t=>sf(Ms(Math.atan2(t[6],t[5]))),rotateY:t=>sf(Ms(Math.atan2(-t[2],t[0]))),rotateZ:q0,rotate:q0,skewX:t=>Ms(Math.atan(t[4])),skewY:t=>Ms(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function of(t){return t.includes("scale")?1:0}function rf(t,e){if(!t||t==="none")return of(e);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,r;if(i)o=yA,r=i;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=gA,r=d}if(!r)return of(e);const l=o[e],u=r[1].split(",").map(xA);return typeof l=="function"?l(u):u[l]}const vA=(t,e)=>{const{transform:i="none"}=getComputedStyle(t);return rf(i,e)};function xA(t){return parseFloat(t.trim())}const Vo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oo=new Set(Vo),J0=t=>t===Lo||t===Ue,SA=new Set(["x","y","z"]),_A=Vo.filter(t=>!SA.has(t));function TA(t){const e=[];return _A.forEach(i=>{const o=t.getValue(i);o!==void 0&&(e.push([i,o.get()]),o.set(i.startsWith("scale")?1:0))}),e}const ks={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>rf(e,"x"),y:(t,{transform:e})=>rf(e,"y")};ks.translateX=ks.x;ks.translateY=ks.y;const Is=new Set;let af=!1,lf=!1,uf=!1;function S1(){if(lf){const t=Array.from(Is).filter(o=>o.needsMeasurement),e=new Set(t.map(o=>o.element)),i=new Map;e.forEach(o=>{const r=TA(o);r.length&&(i.set(o,r),o.render())}),t.forEach(o=>o.measureInitialState()),e.forEach(o=>{o.render();const r=i.get(o);r&&r.forEach(([l,u])=>{o.getValue(l)?.set(u)})}),t.forEach(o=>o.measureEndState()),t.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}lf=!1,af=!1,Is.forEach(t=>t.complete(uf)),Is.clear()}function _1(){Is.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(lf=!0)})}function bA(){uf=!0,_1(),S1(),uf=!1}class rh{constructor(e,i,o,r,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=o,this.motionValue=r,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Is.add(this),af||(af=!0,gt.read(_1),gt.resolveKeyframes(S1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:o,motionValue:r}=this;if(e[0]===null){const l=r?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(o&&i){const d=o.readValue(i,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),r&&l===void 0&&r.set(e[0])}mA(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Is.delete(this)}cancel(){this.state==="scheduled"&&(Is.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const EA=t=>t.startsWith("--");function AA(t,e,i){EA(e)?t.style.setProperty(e,i):t.style[e]=i}const CA=Kf(()=>window.ScrollTimeline!==void 0),wA={};function NA(t,e){const i=Kf(t);return()=>wA[e]??i()}const T1=NA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qr=([t,e,i,o])=>`cubic-bezier(${t}, ${e}, ${i}, ${o})`,K0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qr([0,.65,.55,1]),circOut:qr([.55,0,1,.45]),backIn:qr([.31,.01,.66,-.59]),backOut:qr([.33,1.53,.69,.99])};function b1(t,e){if(t)return typeof t=="function"?T1()?y1(t,e):"ease-out":r1(t)?qr(t):Array.isArray(t)?t.map(i=>b1(i,e)||K0.easeOut):K0[t]}function RA(t,e,i,{delay:o=0,duration:r=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:p}={},h=void 0){const g={[e]:i};p&&(g.offset=p);const x=b1(d,r);Array.isArray(x)&&(g.easing=x);const S={delay:o,duration:r,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return h&&(S.pseudoElement=h),t.animate(g,S)}function E1(t){return typeof t=="function"&&"applyToOptions"in t}function MA({type:t,...e}){return E1(t)&&T1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class kA extends sh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:i,name:o,keyframes:r,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Jf(typeof e.type!="string");const h=MA(e);this.animation=RA(i,o,r,h,l),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=ih(r,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):AA(i,o,g),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Dn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Dn(e)}get time(){return Dn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=$n(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&CA()?(this.animation.timeline=e,zn):i(this)}}const A1={anticipate:n1,backInOut:t1,circInOut:s1};function IA(t){return t in A1}function DA(t){typeof t.ease=="string"&&IA(t.ease)&&(t.ease=A1[t.ease])}const X0=10;class zA extends kA{constructor(e){DA(e),x1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:o,onComplete:r,element:l,...u}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const d=new oh({...u,autoplay:!1}),p=$n(this.finishedTime??this.time);i.setWithVelocity(d.sample(p-X0).value,d.sample(p).value,X0),d.stop()}}const $0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ns.test(t)||t==="0")&&!t.startsWith("url("));function PA(t){const e=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}function UA(t,e,i,o){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=$0(r,e),d=$0(l,e);return!u||!d?!1:PA(t)||(i==="spring"||E1(i))&&o}function cf(t){t.duration=0,t.type="keyframes"}const LA=new Set(["opacity","clipPath","filter","transform"]),VA=Kf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function OA(t){const{motionValue:e,name:i,repeatDelay:o,repeatType:r,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:h}=e.owner.getProps();return VA()&&i&&LA.has(i)&&(i!=="transform"||!h)&&!p&&!o&&r!=="mirror"&&l!==0&&u!=="inertia"}const BA=40;class GA extends sh{constructor({autoplay:e=!0,delay:i=0,type:o="keyframes",repeat:r=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:p,motionValue:h,element:g,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=hn.now();const S={autoplay:e,delay:i,type:o,repeat:r,repeatDelay:l,repeatType:u,name:p,motionValue:h,element:g,...x},T=g?.KeyframeResolver||rh;this.keyframeResolver=new T(d,(C,b,A)=>this.onKeyframesResolved(C,b,S,!A),p,h,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,i,o,r){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:p,isHandoff:h,onUpdate:g}=o;this.resolvedAt=hn.now(),UA(e,l,u,d)||((Ai.instantAnimations||!p)&&g?.(ih(e,o,i)),e[0]=e[e.length-1],cf(o),o.repeat=0);const S={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>BA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...o,keyframes:e},T=!h&&OA(S)?new zA({...S,element:S.motionValue.owner.current}):new oh(S);T.finished.then(()=>this.notifyFinished()).catch(zn),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),bA()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const HA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FA(t){const e=HA.exec(t);if(!e)return[,];const[,i,o,r]=e;return[`--${i??o}`,r]}function C1(t,e,i=1){const[o,r]=FA(t);if(!o)return;const l=window.getComputedStyle(e).getPropertyValue(o);if(l){const u=l.trim();return Jx(u)?parseFloat(u):u}return Wf(r)?C1(r,e,i+1):r}function ah(t,e){return t?.[e]??t?.default??t}const w1=new Set(["width","height","top","left","right","bottom",...Vo]),qA={test:t=>t==="auto",parse:t=>t},N1=t=>e=>e.test(t),R1=[Lo,Ue,Zn,es,PE,zE,qA],Z0=t=>R1.find(N1(t));function jA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Xx(t):!0}const YA=new Set(["brightness","contrast","saturate","opacity"]);function JA(t){const[e,i]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[o]=i.match(Qf)||[];if(!o)return t;const r=i.replace(o,"");let l=YA.has(e)?1:0;return o!==i&&(l*=100),e+"("+l+r+")"}const KA=/\b([a-z-]*)\(.*?\)/gu,df={...ns,getAnimatableNone:t=>{const e=t.match(KA);return e?e.map(JA).join(" "):t}},W0={...Lo,transform:Math.round},XA={rotate:es,rotateX:es,rotateY:es,rotateZ:es,scale:Tl,scaleX:Tl,scaleY:Tl,scaleZ:Tl,skew:es,skewX:es,skewY:es,distance:Ue,translateX:Ue,translateY:Ue,translateZ:Ue,x:Ue,y:Ue,z:Ue,perspective:Ue,transformPerspective:Ue,opacity:Zr,originX:O0,originY:O0,originZ:Ue},lh={borderWidth:Ue,borderTopWidth:Ue,borderRightWidth:Ue,borderBottomWidth:Ue,borderLeftWidth:Ue,borderRadius:Ue,radius:Ue,borderTopLeftRadius:Ue,borderTopRightRadius:Ue,borderBottomRightRadius:Ue,borderBottomLeftRadius:Ue,width:Ue,maxWidth:Ue,height:Ue,maxHeight:Ue,top:Ue,right:Ue,bottom:Ue,left:Ue,padding:Ue,paddingTop:Ue,paddingRight:Ue,paddingBottom:Ue,paddingLeft:Ue,margin:Ue,marginTop:Ue,marginRight:Ue,marginBottom:Ue,marginLeft:Ue,backgroundPositionX:Ue,backgroundPositionY:Ue,...XA,zIndex:W0,fillOpacity:Zr,strokeOpacity:Zr,numOctaves:W0},$A={...lh,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:df,WebkitFilter:df},M1=t=>$A[t];function k1(t,e){let i=M1(t);return i!==df&&(i=ns),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const ZA=new Set(["auto","none","0"]);function WA(t,e,i){let o=0,r;for(;o<t.length&&!r;){const l=t[o];typeof l=="string"&&!ZA.has(l)&&Wr(l).values.length&&(r=t[o]),o++}if(r&&i)for(const l of e)t[l]=k1(i,r)}class QA extends rh{constructor(e,i,o,r,l){super(e,i,o,r,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:o}=this;if(!i||!i.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let h=e[p];if(typeof h=="string"&&(h=h.trim(),Wf(h))){const g=C1(h,i.current);g!==void 0&&(e[p]=g),p===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!w1.has(o)||e.length!==2)return;const[r,l]=e,u=Z0(r),d=Z0(l);if(u!==d)if(J0(u)&&J0(d))for(let p=0;p<e.length;p++){const h=e[p];typeof h=="string"&&(e[p]=parseFloat(h))}else ks[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,o=[];for(let r=0;r<e.length;r++)(e[r]===null||jA(e[r]))&&o.push(r);o.length&&WA(e,o,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:o}=this;if(!e||!e.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ks[o](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const r=i[i.length-1];r!==void 0&&e.getValue(o,r).jump(r,!1)}measureEndState(){const{element:e,name:i,unresolvedKeyframes:o}=this;if(!e||!e.current)return;const r=e.getValue(i);r&&r.jump(this.measuredOrigin,!1);const l=o.length-1,u=o[l];o[l]=ks[i](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function eC(t,e,i){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let o=document;const r=i?.[t]??o.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const I1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function D1(t){return Kx(t)&&"offsetHeight"in t}const Q0=30,tC=t=>!isNaN(parseFloat(t));class nC{constructor(e,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{const r=hn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=tC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new Xf);const o=this.events[e].add(i);return e==="change"?()=>{o(),gt.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,i,o){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-o}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Q0)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,Q0);return $x(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Po(t,e){return new nC(t,e)}const{schedule:uh}=a1(queueMicrotask,!1),Hn={x:!1,y:!1};function z1(){return Hn.x||Hn.y}function iC(t){return t==="x"||t==="y"?Hn[t]?null:(Hn[t]=!0,()=>{Hn[t]=!1}):Hn.x||Hn.y?null:(Hn.x=Hn.y=!0,()=>{Hn.x=Hn.y=!1})}function P1(t,e){const i=eC(t),o=new AbortController,r={passive:!0,...e,signal:o.signal};return[i,r,()=>o.abort()]}function ey(t){return!(t.pointerType==="touch"||z1())}function sC(t,e,i={}){const[o,r,l]=P1(t,i),u=d=>{if(!ey(d))return;const{target:p}=d,h=e(p,d);if(typeof h!="function"||!p)return;const g=x=>{ey(x)&&(h(x),p.removeEventListener("pointerleave",g))};p.addEventListener("pointerleave",g,r)};return o.forEach(d=>{d.addEventListener("pointerenter",u,r)}),l}const U1=(t,e)=>e?t===e?!0:U1(t,e.parentElement):!1,ch=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rC(t){return oC.has(t.tagName)||t.tabIndex!==-1}const Pl=new WeakSet;function ty(t){return e=>{e.key==="Enter"&&t(e)}}function Pd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const aC=(t,e)=>{const i=t.currentTarget;if(!i)return;const o=ty(()=>{if(Pl.has(i))return;Pd(i,"down");const r=ty(()=>{Pd(i,"up")}),l=()=>Pd(i,"cancel");i.addEventListener("keyup",r,e),i.addEventListener("blur",l,e)});i.addEventListener("keydown",o,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",o),e)};function ny(t){return ch(t)&&!z1()}function lC(t,e,i={}){const[o,r,l]=P1(t,i),u=d=>{const p=d.currentTarget;if(!ny(d))return;Pl.add(p);const h=e(p,d),g=(T,C)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",S),Pl.has(p)&&Pl.delete(p),ny(T)&&typeof h=="function"&&h(T,{success:C})},x=T=>{g(T,p===window||p===document||i.useGlobalTarget||U1(p,T.target))},S=T=>{g(T,!1)};window.addEventListener("pointerup",x,r),window.addEventListener("pointercancel",S,r)};return o.forEach(d=>{(i.useGlobalTarget?window:d).addEventListener("pointerdown",u,r),D1(d)&&(d.addEventListener("focus",h=>aC(h,r)),!rC(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function L1(t){return Kx(t)&&"ownerSVGElement"in t}function uC(t){return L1(t)&&t.tagName==="svg"}const Zt=t=>!!(t&&t.getVelocity),cC=[...R1,kt,ns],dC=t=>cC.find(N1(t)),dh=ye.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function iy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function fC(...t){return e=>{let i=!1;const o=t.map(r=>{const l=iy(r,e);return!i&&typeof l=="function"&&(i=!0),l});if(i)return()=>{for(let r=0;r<o.length;r++){const l=o[r];typeof l=="function"?l():iy(t[r],null)}}}}function hC(...t){return ye.useCallback(fC(...t),t)}class pC extends ye.Component{getSnapshotBeforeUpdate(e){const i=this.props.childRef.current;if(i&&e.isPresent&&!this.props.isPresent){const o=i.offsetParent,r=D1(o)&&o.offsetWidth||0,l=this.props.sizeRef.current;l.height=i.offsetHeight||0,l.width=i.offsetWidth||0,l.top=i.offsetTop,l.left=i.offsetLeft,l.right=r-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function mC({children:t,isPresent:e,anchorX:i,root:o}){const r=ye.useId(),l=ye.useRef(null),u=ye.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=ye.useContext(dh),p=hC(l,t?.ref);return ye.useInsertionEffect(()=>{const{width:h,height:g,top:x,left:S,right:T}=u.current;if(e||!l.current||!h||!g)return;const C=i==="left"?`left: ${S}`:`right: ${T}`;l.current.dataset.motionPopId=r;const b=document.createElement("style");d&&(b.nonce=d);const A=o??document.head;return A.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${g}px !important;
            ${C}px !important;
            top: ${x}px !important;
          }
        `),()=>{A.contains(b)&&A.removeChild(b)}},[e]),_.jsx(pC,{isPresent:e,childRef:l,sizeRef:u,children:ye.cloneElement(t,{ref:p})})}const gC=({children:t,initial:e,isPresent:i,onExitComplete:o,custom:r,presenceAffectsLayout:l,mode:u,anchorX:d,root:p})=>{const h=Ff(yC),g=ye.useId();let x=!0,S=ye.useMemo(()=>(x=!1,{id:g,initial:e,isPresent:i,custom:r,onExitComplete:T=>{h.set(T,!0);for(const C of h.values())if(!C)return;o&&o()},register:T=>(h.set(T,!1),()=>h.delete(T))}),[i,h,o]);return l&&x&&(S={...S}),ye.useMemo(()=>{h.forEach((T,C)=>h.set(C,!1))},[i]),ye.useEffect(()=>{!i&&!h.size&&o&&o()},[i]),u==="popLayout"&&(t=_.jsx(mC,{isPresent:i,anchorX:d,root:p,children:t})),_.jsx(tu.Provider,{value:S,children:t})};function yC(){return new Map}function V1(t=!0){const e=ye.useContext(tu);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:o,register:r}=e,l=ye.useId();ye.useEffect(()=>{if(t)return r(l)},[t]);const u=ye.useCallback(()=>t&&o&&o(l),[l,o,t]);return!i&&o?[!1,u]:[!0]}const bl=t=>t.key||"";function sy(t){const e=[];return ye.Children.forEach(t,i=>{ye.isValidElement(i)&&e.push(i)}),e}const Ti=({children:t,custom:e,initial:i=!0,onExitComplete:o,presenceAffectsLayout:r=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",root:p})=>{const[h,g]=V1(u),x=ye.useMemo(()=>sy(t),[t]),S=u&&!h?[]:x.map(bl),T=ye.useRef(!0),C=ye.useRef(x),b=Ff(()=>new Map),[A,w]=ye.useState(x),[M,k]=ye.useState(x);Yx(()=>{T.current=!1,C.current=x;for(let q=0;q<M.length;q++){const O=bl(M[q]);S.includes(O)?b.delete(O):b.get(O)!==!0&&b.set(O,!1)}},[M,S.length,S.join("-")]);const P=[];if(x!==A){let q=[...x];for(let O=0;O<M.length;O++){const G=M[O],F=bl(G);S.includes(F)||(q.splice(O,0,G),P.push(G))}return l==="wait"&&P.length&&(q=P),k(sy(q)),w(x),null}const{forceRender:z}=ye.useContext(Hf);return _.jsx(_.Fragment,{children:M.map(q=>{const O=bl(q),G=u&&!h?!1:x===M||S.includes(O),F=()=>{if(b.has(O))b.set(O,!0);else return;let ie=!0;b.forEach(ve=>{ve||(ie=!1)}),ie&&(z?.(),k(C.current),u&&g?.(),o&&o())};return _.jsx(gC,{isPresent:G,initial:!T.current||i?void 0:!1,custom:e,presenceAffectsLayout:r,mode:l,root:p,onExitComplete:G?void 0:F,anchorX:d,children:q},O)})})},O1=ye.createContext({strict:!1}),oy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Uo={};for(const t in oy)Uo[t]={isEnabled:e=>oy[t].some(i=>!!e[i])};function vC(t){for(const e in t)Uo[e]={...Uo[e],...t[e]}}const xC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||xC.has(t)}let B1=t=>!Fl(t);function SC(t){typeof t=="function"&&(B1=e=>e.startsWith("on")?!Fl(e):t(e))}try{SC(require("@emotion/is-prop-valid").default)}catch{}function _C(t,e,i){const o={};for(const r in t)r==="values"&&typeof t.values=="object"||(B1(r)||i===!0&&Fl(r)||!e&&!Fl(r)||t.draggable&&r.startsWith("onDrag"))&&(o[r]=t[r]);return o}const nu=ye.createContext({});function iu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Qr(t){return typeof t=="string"||Array.isArray(t)}const fh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hh=["initial",...fh];function su(t){return iu(t.animate)||hh.some(e=>Qr(t[e]))}function G1(t){return!!(su(t)||t.variants)}function TC(t,e){if(su(t)){const{initial:i,animate:o}=t;return{initial:i===!1||Qr(i)?i:void 0,animate:Qr(o)?o:void 0}}return t.inherit!==!1?e:{}}function bC(t){const{initial:e,animate:i}=TC(t,ye.useContext(nu));return ye.useMemo(()=>({initial:e,animate:i}),[ry(e),ry(i)])}function ry(t){return Array.isArray(t)?t.join(" "):t}function ay(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Br={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ue.test(t))t=parseFloat(t);else return t;const i=ay(t,e.target.x),o=ay(t,e.target.y);return`${i}% ${o}%`}},EC={correct:(t,{treeScale:e,projectionDelta:i})=>{const o=t,r=ns.parse(t);if(r.length>5)return o;const l=ns.createTransformer(t),u=typeof r[0]!="number"?1:0,d=i.x.scale*e.x,p=i.y.scale*e.y;r[0+u]/=d,r[1+u]/=p;const h=yt(d,p,.5);return typeof r[2+u]=="number"&&(r[2+u]/=h),typeof r[3+u]=="number"&&(r[3+u]/=h),l(r)}},ff={borderRadius:{...Br,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Br,borderTopRightRadius:Br,borderBottomLeftRadius:Br,borderBottomRightRadius:Br,boxShadow:EC};function H1(t,{layout:e,layoutId:i}){return Oo.has(t)||t.startsWith("origin")||(e||i!==void 0)&&(!!ff[t]||t==="opacity")}const AC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CC=Vo.length;function wC(t,e,i){let o="",r=!0;for(let l=0;l<CC;l++){const u=Vo[l],d=t[u];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(u.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||i){const h=I1(d,lh[u]);if(!p){r=!1;const g=AC[u]||u;o+=`${g}(${h}) `}i&&(e[u]=h)}}return o=o.trim(),i?o=i(e,r?"":o):r&&(o="none"),o}function ph(t,e,i){const{style:o,vars:r,transformOrigin:l}=t;let u=!1,d=!1;for(const p in e){const h=e[p];if(Oo.has(p)){u=!0;continue}else if(u1(p)){r[p]=h;continue}else{const g=I1(h,lh[p]);p.startsWith("origin")?(d=!0,l[p]=g):o[p]=g}}if(e.transform||(u||i?o.transform=wC(e,t.transform,i):o.transform&&(o.transform="none")),d){const{originX:p="50%",originY:h="50%",originZ:g=0}=l;o.transformOrigin=`${p} ${h} ${g}`}}const mh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function F1(t,e,i){for(const o in e)!Zt(e[o])&&!H1(o,i)&&(t[o]=e[o])}function NC({transformTemplate:t},e){return ye.useMemo(()=>{const i=mh();return ph(i,e,t),Object.assign({},i.vars,i.style)},[e])}function RC(t,e){const i=t.style||{},o={};return F1(o,i,t),Object.assign(o,NC(t,e)),o}function MC(t,e){const i={},o=RC(t,e);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=o,i}const kC={offset:"stroke-dashoffset",array:"stroke-dasharray"},IC={offset:"strokeDashoffset",array:"strokeDasharray"};function DC(t,e,i=1,o=0,r=!0){t.pathLength=1;const l=r?kC:IC;t[l.offset]=Ue.transform(-o);const u=Ue.transform(e),d=Ue.transform(i);t[l.array]=`${u} ${d}`}function q1(t,{attrX:e,attrY:i,attrScale:o,pathLength:r,pathSpacing:l=1,pathOffset:u=0,...d},p,h,g){if(ph(t,d,h),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:S}=t;x.transform&&(S.transform=x.transform,delete x.transform),(S.transform||x.transformOrigin)&&(S.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),S.transform&&(S.transformBox=g?.transformBox??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),i!==void 0&&(x.y=i),o!==void 0&&(x.scale=o),r!==void 0&&DC(x,r,l,u,!1)}const j1=()=>({...mh(),attrs:{}}),Y1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zC(t,e,i,o){const r=ye.useMemo(()=>{const l=j1();return q1(l,e,Y1(o),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};F1(l,t.style,t),r.style={...l,...r.style}}return r}const PC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gh(t){return typeof t!="string"||t.includes("-")?!1:!!(PC.indexOf(t)>-1||/[A-Z]/u.test(t))}function UC(t,e,i,{latestValues:o},r,l=!1){const d=(gh(t)?zC:MC)(e,o,r,t),p=_C(e,typeof t=="string",l),h=t!==ye.Fragment?{...p,...d,ref:i}:{},{children:g}=e,x=ye.useMemo(()=>Zt(g)?g.get():g,[g]);return ye.createElement(t,{...h,children:x})}function ly(t){const e=[{},{}];return t?.values.forEach((i,o)=>{e[0][o]=i.get(),e[1][o]=i.getVelocity()}),e}function yh(t,e,i,o){if(typeof e=="function"){const[r,l]=ly(o);e=e(i!==void 0?i:t.custom,r,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,l]=ly(o);e=e(i!==void 0?i:t.custom,r,l)}return e}function Ul(t){return Zt(t)?t.get():t}function LC({scrapeMotionValuesFromProps:t,createRenderState:e},i,o,r){return{latestValues:VC(i,o,r,t),renderState:e()}}function VC(t,e,i,o){const r={},l=o(t,{});for(const S in l)r[S]=Ul(l[S]);let{initial:u,animate:d}=t;const p=su(t),h=G1(t);e&&h&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=i?i.initial===!1:!1;g=g||u===!1;const x=g?d:u;if(x&&typeof x!="boolean"&&!iu(x)){const S=Array.isArray(x)?x:[x];for(let T=0;T<S.length;T++){const C=yh(t,S[T]);if(C){const{transitionEnd:b,transition:A,...w}=C;for(const M in w){let k=w[M];if(Array.isArray(k)){const P=g?k.length-1:0;k=k[P]}k!==null&&(r[M]=k)}for(const M in b)r[M]=b[M]}}}return r}const J1=t=>(e,i)=>{const o=ye.useContext(nu),r=ye.useContext(tu),l=()=>LC(t,e,o,r);return i?l():Ff(l)};function vh(t,e,i){const{style:o}=t,r={};for(const l in o)(Zt(o[l])||e.style&&Zt(e.style[l])||H1(l,t)||i?.getValue(l)?.liveStyle!==void 0)&&(r[l]=o[l]);return r}const OC=J1({scrapeMotionValuesFromProps:vh,createRenderState:mh});function K1(t,e,i){const o=vh(t,e,i);for(const r in t)if(Zt(t[r])||Zt(e[r])){const l=Vo.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;o[l]=t[r]}return o}const BC=J1({scrapeMotionValuesFromProps:K1,createRenderState:j1}),GC=Symbol.for("motionComponentSymbol");function Ao(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function HC(t,e,i){return ye.useCallback(o=>{o&&t.onMount&&t.onMount(o),e&&(o?e.mount(o):e.unmount()),i&&(typeof i=="function"?i(o):Ao(i)&&(i.current=o))},[e])}const xh=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),FC="framerAppearId",X1="data-"+xh(FC),$1=ye.createContext({});function qC(t,e,i,o,r){const{visualElement:l}=ye.useContext(nu),u=ye.useContext(O1),d=ye.useContext(tu),p=ye.useContext(dh).reducedMotion,h=ye.useRef(null);o=o||u.renderer,!h.current&&o&&(h.current=o(t,{visualState:e,parent:l,props:i,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const g=h.current,x=ye.useContext($1);g&&!g.projection&&r&&(g.type==="html"||g.type==="svg")&&jC(h.current,i,r,x);const S=ye.useRef(!1);ye.useInsertionEffect(()=>{g&&S.current&&g.update(i,d)});const T=i[X1],C=ye.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return Yx(()=>{g&&(S.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),C.current&&g.animationState&&g.animationState.animateChanges())}),ye.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),C.current=!1),g.enteringChildren=void 0)}),g}function jC(t,e,i,o){const{layoutId:r,layout:l,drag:u,dragConstraints:d,layoutScroll:p,layoutRoot:h,layoutCrossfade:g}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:Z1(t.parent)),t.projection.setOptions({layoutId:r,layout:l,alwaysMeasureLayout:!!u||d&&Ao(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:o,crossfade:g,layoutScroll:p,layoutRoot:h})}function Z1(t){if(t)return t.options.allowProjection!==!1?t.projection:Z1(t.parent)}function Ud(t,{forwardMotionProps:e=!1}={},i,o){i&&vC(i);const r=gh(t)?BC:OC;function l(d,p){let h;const g={...ye.useContext(dh),...d,layoutId:YC(d)},{isStatic:x}=g,S=bC(d),T=r(d,x);if(!x&&qf){JC();const C=KC(g);h=C.MeasureLayout,S.visualElement=qC(t,T,g,o,C.ProjectionNode)}return _.jsxs(nu.Provider,{value:S,children:[h&&S.visualElement?_.jsx(h,{visualElement:S.visualElement,...g}):null,UC(t,d,HC(T,S.visualElement,p),T,x,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=ye.forwardRef(l);return u[GC]=t,u}function YC({layoutId:t}){const e=ye.useContext(Hf).id;return e&&t!==void 0?e+"-"+t:t}function JC(t,e){ye.useContext(O1).strict}function KC(t){const{drag:e,layout:i}=Uo;if(!e&&!i)return{};const o={...e,...i};return{MeasureLayout:e?.isEnabled(t)||i?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function XC(t,e){if(typeof Proxy>"u")return Ud;const i=new Map,o=(l,u)=>Ud(l,u,t,e),r=(l,u)=>o(l,u);return new Proxy(r,{get:(l,u)=>u==="create"?o:(i.has(u)||i.set(u,Ud(u,void 0,t,e)),i.get(u))})}function W1({top:t,left:e,right:i,bottom:o}){return{x:{min:e,max:i},y:{min:t,max:o}}}function $C({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ZC(t,e){if(!e)return t;const i=e({x:t.left,y:t.top}),o=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:o.y,right:o.x}}function Ld(t){return t===void 0||t===1}function hf({scale:t,scaleX:e,scaleY:i}){return!Ld(t)||!Ld(e)||!Ld(i)}function ws(t){return hf(t)||Q1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Q1(t){return uy(t.x)||uy(t.y)}function uy(t){return t&&t!=="0%"}function ql(t,e,i){const o=t-i,r=e*o;return i+r}function cy(t,e,i,o,r){return r!==void 0&&(t=ql(t,r,o)),ql(t,i,o)+e}function pf(t,e=0,i=1,o,r){t.min=cy(t.min,e,i,o,r),t.max=cy(t.max,e,i,o,r)}function eS(t,{x:e,y:i}){pf(t.x,e.translate,e.scale,e.originPoint),pf(t.y,i.translate,i.scale,i.originPoint)}const dy=.999999999999,fy=1.0000000000001;function WC(t,e,i,o=!1){const r=i.length;if(!r)return;e.x=e.y=1;let l,u;for(let d=0;d<r;d++){l=i[d],u=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(o&&l.options.layoutScroll&&l.scroll&&l!==l.root&&wo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,eS(t,u)),o&&ws(l.latestValues)&&wo(t,l.latestValues))}e.x<fy&&e.x>dy&&(e.x=1),e.y<fy&&e.y>dy&&(e.y=1)}function Co(t,e){t.min=t.min+e,t.max=t.max+e}function hy(t,e,i,o,r=.5){const l=yt(t.min,t.max,r);pf(t,e,i,l,o)}function wo(t,e){hy(t.x,e.x,e.scaleX,e.scale,e.originX),hy(t.y,e.y,e.scaleY,e.scale,e.originY)}function tS(t,e){return W1(ZC(t.getBoundingClientRect(),e))}function QC(t,e,i){const o=tS(t,i),{scroll:r}=e;return r&&(Co(o.x,r.offset.x),Co(o.y,r.offset.y)),o}const py=()=>({translate:0,scale:1,origin:0,originPoint:0}),No=()=>({x:py(),y:py()}),my=()=>({min:0,max:0}),Pt=()=>({x:my(),y:my()}),mf={current:null},nS={current:!1};function ew(){if(nS.current=!0,!!qf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>mf.current=t.matches;t.addEventListener("change",e),e()}else mf.current=!1}const tw=new WeakMap;function nw(t,e,i){for(const o in e){const r=e[o],l=i[o];if(Zt(r))t.addValue(o,r);else if(Zt(l))t.addValue(o,Po(r,{owner:t}));else if(l!==r)if(t.hasValue(o)){const u=t.getValue(o);u.liveStyle===!0?u.jump(r):u.hasAnimated||u.set(r)}else{const u=t.getStaticValue(o);t.addValue(o,Po(u!==void 0?u:r,{owner:t}))}}for(const o in i)e[o]===void 0&&t.removeValue(o);return e}const gy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class iw{scrapeMotionValuesFromProps(e,i,o){return{}}constructor({parent:e,props:i,presenceContext:o,reducedMotionConfig:r,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=hn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,gt.render(this.render,!1,!0))};const{latestValues:p,renderState:h}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=h,this.parent=e,this.props=i,this.presenceContext=o,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=su(i),this.isVariantNode=G1(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(i,{},this);for(const S in x){const T=x[S];p[S]!==void 0&&Zt(T)&&T.set(p[S])}}mount(e){this.current=e,tw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),nS.current||ew(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mf.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ts(this.notifyUpdate),ts(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const i=this.features[e];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const o=Oo.has(e);o&&this.onBindTransform&&this.onBindTransform();const r=i.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&gt.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{r(),l&&l(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Uo){const i=Uo[e];if(!i)continue;const{isEnabled:o,Feature:r}=i;if(!this.features[e]&&r&&o(this.props)&&(this.features[e]=new r(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let o=0;o<gy.length;o++){const r=gy[o];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const l="on"+r,u=e[l];u&&(this.propEventSubscriptions[r]=this.on(r,u))}this.prevMotionValues=nw(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const o=this.values.get(e);i!==o&&(o&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let o=this.values.get(e);return o===void 0&&i!==void 0&&(o=Po(i===null?void 0:i,{owner:this}),this.addValue(e,o)),o}readValue(e,i){let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(Jx(o)||Xx(o))?o=parseFloat(o):!dC(o)&&ns.test(i)&&(o=k1(e,i)),this.setBaseTarget(e,Zt(o)?o.get():o)),Zt(o)?o.get():o}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const l=yh(this.props,i,this.presenceContext?.custom);l&&(o=l[e])}if(i&&o!==void 0)return o;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Zt(r)?r:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new Xf),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}scheduleRenderMicrotask(){uh.render(this.render)}}class iS extends iw{constructor(){super(...arguments),this.KeyframeResolver=QA}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){return e.style?e.style[i]:void 0}removeValueFromRenderState(e,{vars:i,style:o}){delete i[e],delete o[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zt(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function sS(t,{style:e,vars:i},o,r){const l=t.style;let u;for(u in e)l[u]=e[u];r?.applyProjectionStyles(l,o);for(u in i)l.setProperty(u,i[u])}function sw(t){return window.getComputedStyle(t)}class ow extends iS{constructor(){super(...arguments),this.type="html",this.renderInstance=sS}readValueFromInstance(e,i){if(Oo.has(i))return this.projection?.isProjecting?of(i):vA(e,i);{const o=sw(e),r=(u1(i)?o.getPropertyValue(i):o[i])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:i}){return tS(e,i)}build(e,i,o){ph(e,i,o.transformTemplate)}scrapeMotionValuesFromProps(e,i,o){return vh(e,i,o)}}const oS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rw(t,e,i,o){sS(t,e,void 0,o);for(const r in e.attrs)t.setAttribute(oS.has(r)?r:xh(r),e.attrs[r])}class aw extends iS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pt}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(Oo.has(i)){const o=M1(i);return o&&o.default||0}return i=oS.has(i)?i:xh(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,o){return K1(e,i,o)}build(e,i,o){q1(e,i,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(e,i,o,r){rw(e,i,o,r)}mount(e){this.isSVGTag=Y1(e.tagName),super.mount(e)}}const lw=(t,e)=>gh(t)?new aw(e):new ow(e,{allowProjection:t!==ye.Fragment});function Io(t,e,i){const o=t.getProps();return yh(o,e,i!==void 0?i:o.custom,t)}const gf=t=>Array.isArray(t);function uw(t,e,i){t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,Po(i))}function cw(t){return gf(t)?t[t.length-1]||0:t}function dw(t,e){const i=Io(t,e);let{transitionEnd:o={},transition:r={},...l}=i||{};l={...l,...o};for(const u in l){const d=cw(l[u]);uw(t,u,d)}}function fw(t){return!!(Zt(t)&&t.add)}function yf(t,e){const i=t.getValue("willChange");if(fw(i))return i.add(e);if(!i&&Ai.WillChange){const o=new Ai.WillChange("auto");t.addValue("willChange",o),o.add(e)}}function rS(t){return t.props[X1]}const hw=t=>t!==null;function pw(t,{repeat:e,repeatType:i="loop"},o){const r=t.filter(hw),l=e&&i!=="loop"&&e%2===1?0:r.length-1;return r[l]}const mw={type:"spring",stiffness:500,damping:25,restSpeed:10},gw=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),yw={type:"keyframes",duration:.8},vw={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xw=(t,{keyframes:e})=>e.length>2?yw:Oo.has(t)?t.startsWith("scale")?gw(e[1]):mw:vw;function Sw({when:t,delay:e,delayChildren:i,staggerChildren:o,staggerDirection:r,repeat:l,repeatType:u,repeatDelay:d,from:p,elapsed:h,...g}){return!!Object.keys(g).length}const Sh=(t,e,i,o={},r,l)=>u=>{const d=ah(o,t)||{},p=d.delay||o.delay||0;let{elapsed:h=0}=o;h=h-$n(p);const g={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-h,onUpdate:S=>{e.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:r};Sw(d)||Object.assign(g,xw(t,g)),g.duration&&(g.duration=$n(g.duration)),g.repeatDelay&&(g.repeatDelay=$n(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(cf(g),g.delay===0&&(x=!0)),(Ai.instantAnimations||Ai.skipAnimations)&&(x=!0,cf(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,x&&!l&&e.get()!==void 0){const S=pw(g.keyframes,d);if(S!==void 0){gt.update(()=>{g.onUpdate(S),g.onComplete()});return}}return d.isSync?new oh(g):new GA(g)};function _w({protectedKeys:t,needsAnimating:e},i){const o=t.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,o}function aS(t,e,{delay:i=0,transitionOverride:o,type:r}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;o&&(l=o);const p=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const g in d){const x=t.getValue(g,t.latestValues[g]??null),S=d[g];if(S===void 0||h&&_w(h,g))continue;const T={delay:i,...ah(l||{},g)},C=x.get();if(C!==void 0&&!x.isAnimating&&!Array.isArray(S)&&S===C&&!T.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const w=rS(t);if(w){const M=window.MotionHandoffAnimation(w,g,gt);M!==null&&(T.startTime=M,b=!0)}}yf(t,g),x.start(Sh(g,x,S,t.shouldReduceMotion&&w1.has(g)?{type:!1}:T,t,b));const A=x.animation;A&&p.push(A)}return u&&Promise.all(p).then(()=>{gt.update(()=>{u&&dw(t,u)})}),p}function lS(t,e,i,o=0,r=1){const l=Array.from(t).sort((h,g)=>h.sortNodePosition(g)).indexOf(e),u=t.size,d=(u-1)*o;return typeof i=="function"?i(l,u):r===1?l*o:d-l*o}function vf(t,e,i={}){const o=Io(t,e,i.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=o||{};i.transitionOverride&&(r=i.transitionOverride);const l=o?()=>Promise.all(aS(t,o,i)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:h=0,staggerChildren:g,staggerDirection:x}=r;return Tw(t,e,p,h,g,x,i)}:()=>Promise.resolve(),{when:d}=r;if(d){const[p,h]=d==="beforeChildren"?[l,u]:[u,l];return p().then(()=>h())}else return Promise.all([l(),u(i.delay)])}function Tw(t,e,i=0,o=0,r=0,l=1,u){const d=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),d.push(vf(p,e,{...u,delay:i+(typeof o=="function"?0:o)+lS(t.variantChildren,p,o,r,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(d)}function bw(t,e,i={}){t.notify("AnimationStart",e);let o;if(Array.isArray(e)){const r=e.map(l=>vf(t,l,i));o=Promise.all(r)}else if(typeof e=="string")o=vf(t,e,i);else{const r=typeof e=="function"?Io(t,e,i.custom):e;o=Promise.all(aS(t,r,i))}return o.then(()=>{t.notify("AnimationComplete",e)})}function uS(t,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==t.length)return!1;for(let o=0;o<i;o++)if(e[o]!==t[o])return!1;return!0}const Ew=hh.length;function cS(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?cS(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const e={};for(let i=0;i<Ew;i++){const o=hh[i],r=t.props[o];(Qr(r)||r===!1)&&(e[o]=r)}return e}const Aw=[...fh].reverse(),Cw=fh.length;function ww(t){return e=>Promise.all(e.map(({animation:i,options:o})=>bw(t,i,o)))}function Nw(t){let e=ww(t),i=yy(),o=!0;const r=p=>(h,g)=>{const x=Io(t,g,p==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:S,transitionEnd:T,...C}=x;h={...h,...C,...T}}return h};function l(p){e=p(t)}function u(p){const{props:h}=t,g=cS(t.parent)||{},x=[],S=new Set;let T={},C=1/0;for(let A=0;A<Cw;A++){const w=Aw[A],M=i[w],k=h[w]!==void 0?h[w]:g[w],P=Qr(k),z=w===p?M.isActive:null;z===!1&&(C=A);let q=k===g[w]&&k!==h[w]&&P;if(q&&o&&t.manuallyAnimateOnMount&&(q=!1),M.protectedKeys={...T},!M.isActive&&z===null||!k&&!M.prevProp||iu(k)||typeof k=="boolean")continue;const O=Rw(M.prevProp,k);let G=O||w===p&&M.isActive&&!q&&P||A>C&&P,F=!1;const ie=Array.isArray(k)?k:[k];let ve=ie.reduce(r(w),{});z===!1&&(ve={});const{prevResolvedValues:B={}}=M,$={...B,...ve},R=Y=>{G=!0,S.has(Y)&&(F=!0,S.delete(Y)),M.needsAnimating[Y]=!0;const ee=t.getValue(Y);ee&&(ee.liveStyle=!1)};for(const Y in $){const ee=ve[Y],ae=B[Y];if(T.hasOwnProperty(Y))continue;let Se=!1;gf(ee)&&gf(ae)?Se=!uS(ee,ae):Se=ee!==ae,Se?ee!=null?R(Y):S.add(Y):ee!==void 0&&S.has(Y)?R(Y):M.protectedKeys[Y]=!0}M.prevProp=k,M.prevResolvedValues=ve,M.isActive&&(T={...T,...ve}),o&&t.blockInitialAnimation&&(G=!1);const oe=q&&O;G&&(!oe||F)&&x.push(...ie.map(Y=>{const ee={type:w};if(typeof Y=="string"&&o&&!oe&&t.manuallyAnimateOnMount&&t.parent){const{parent:ae}=t,Se=Io(ae,Y);if(ae.enteringChildren&&Se){const{delayChildren:D}=Se.transition||{};ee.delay=lS(ae.enteringChildren,t,D)}}return{animation:Y,options:ee}}))}if(S.size){const A={};if(typeof h.initial!="boolean"){const w=Io(t,Array.isArray(h.initial)?h.initial[0]:h.initial);w&&w.transition&&(A.transition=w.transition)}S.forEach(w=>{const M=t.getBaseTarget(w),k=t.getValue(w);k&&(k.liveStyle=!0),A[w]=M??null}),x.push({animation:A})}let b=!!x.length;return o&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(b=!1),o=!1,b?e(x):Promise.resolve()}function d(p,h){if(i[p].isActive===h)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(p,h)),i[p].isActive=h;const g=u(p);for(const x in i)i[x].protectedKeys={};return g}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>i,reset:()=>{i=yy()}}}function Rw(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uS(e,t):!1}function Es(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yy(){return{animate:Es(!0),whileInView:Es(),whileHover:Es(),whileTap:Es(),whileDrag:Es(),whileFocus:Es(),exit:Es()}}class is{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Mw extends is{constructor(e){super(e),e.animationState||(e.animationState=Nw(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();iu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let kw=0;class Iw extends is{constructor(){super(...arguments),this.id=kw++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const r=this.node.animationState.setActive("exit",!e);i&&!e&&r.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Dw={animation:{Feature:Mw},exit:{Feature:Iw}};function ea(t,e,i,o={passive:!0}){return t.addEventListener(e,i,o),()=>t.removeEventListener(e,i)}function aa(t){return{point:{x:t.pageX,y:t.pageY}}}const zw=t=>e=>ch(e)&&t(e,aa(e));function Kr(t,e,i,o){return ea(t,e,zw(i),o)}const dS=1e-4,Pw=1-dS,Uw=1+dS,fS=.01,Lw=0-fS,Vw=0+fS;function tn(t){return t.max-t.min}function Ow(t,e,i){return Math.abs(t-e)<=i}function vy(t,e,i,o=.5){t.origin=o,t.originPoint=yt(e.min,e.max,t.origin),t.scale=tn(i)/tn(e),t.translate=yt(i.min,i.max,t.origin)-t.originPoint,(t.scale>=Pw&&t.scale<=Uw||isNaN(t.scale))&&(t.scale=1),(t.translate>=Lw&&t.translate<=Vw||isNaN(t.translate))&&(t.translate=0)}function Xr(t,e,i,o){vy(t.x,e.x,i.x,o?o.originX:void 0),vy(t.y,e.y,i.y,o?o.originY:void 0)}function xy(t,e,i){t.min=i.min+e.min,t.max=t.min+tn(e)}function Bw(t,e,i){xy(t.x,e.x,i.x),xy(t.y,e.y,i.y)}function Sy(t,e,i){t.min=e.min-i.min,t.max=t.min+tn(e)}function jl(t,e,i){Sy(t.x,e.x,i.x),Sy(t.y,e.y,i.y)}function In(t){return[t("x"),t("y")]}const hS=({current:t})=>t?t.ownerDocument.defaultView:null,_y=(t,e)=>Math.abs(t-e);function Gw(t,e){const i=_y(t.x,e.x),o=_y(t.y,e.y);return Math.sqrt(i**2+o**2)}class pS{constructor(e,i,{transformPagePoint:o,contextWindow:r=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Od(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,C=Gw(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!C)return;const{point:b}=S,{timestamp:A}=Yt;this.history.push({...b,timestamp:A});const{onStart:w,onMove:M}=this.handlers;T||(w&&w(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,S)},this.handlePointerMove=(S,T)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Vd(T,this.transformPagePoint),gt.update(this.updatePoint,!0)},this.handlePointerUp=(S,T)=>{this.end();const{onEnd:C,onSessionEnd:b,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Od(S.type==="pointercancel"?this.lastMoveEventInfo:Vd(T,this.transformPagePoint),this.history);this.startEvent&&C&&C(S,w),b&&b(S,w)},!ch(e))return;this.dragSnapToOrigin=l,this.handlers=i,this.transformPagePoint=o,this.distanceThreshold=u,this.contextWindow=r||window;const d=aa(e),p=Vd(d,this.transformPagePoint),{point:h}=p,{timestamp:g}=Yt;this.history=[{...h,timestamp:g}];const{onSessionStart:x}=i;x&&x(e,Od(p,this.history)),this.removeListeners=sa(Kr(this.contextWindow,"pointermove",this.handlePointerMove),Kr(this.contextWindow,"pointerup",this.handlePointerUp),Kr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ts(this.updatePoint)}}function Vd(t,e){return e?{point:e(t.point)}:t}function Ty(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Od({point:t},e){return{point:t,delta:Ty(t,mS(e)),offset:Ty(t,Hw(e)),velocity:Fw(e,.1)}}function Hw(t){return t[0]}function mS(t){return t[t.length-1]}function Fw(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,o=null;const r=mS(t);for(;i>=0&&(o=t[i],!(r.timestamp-o.timestamp>$n(e)));)i--;if(!o)return{x:0,y:0};const l=Dn(r.timestamp-o.timestamp);if(l===0)return{x:0,y:0};const u={x:(r.x-o.x)/l,y:(r.y-o.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function qw(t,{min:e,max:i},o){return e!==void 0&&t<e?t=o?yt(e,t,o.min):Math.max(t,e):i!==void 0&&t>i&&(t=o?yt(i,t,o.max):Math.min(t,i)),t}function by(t,e,i){return{min:e!==void 0?t.min+e:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function jw(t,{top:e,left:i,bottom:o,right:r}){return{x:by(t.x,i,r),y:by(t.y,e,o)}}function Ey(t,e){let i=e.min-t.min,o=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,o]=[o,i]),{min:i,max:o}}function Yw(t,e){return{x:Ey(t.x,e.x),y:Ey(t.y,e.y)}}function Jw(t,e){let i=.5;const o=tn(t),r=tn(e);return r>o?i=$r(e.min,e.max-o,t.min):o>r&&(i=$r(t.min,t.max-r,e.min)),Ei(0,1,i)}function Kw(t,e){const i={};return e.min!==void 0&&(i.min=e.min-t.min),e.max!==void 0&&(i.max=e.max-t.min),i}const xf=.35;function Xw(t=xf){return t===!1?t=0:t===!0&&(t=xf),{x:Ay(t,"left","right"),y:Ay(t,"top","bottom")}}function Ay(t,e,i){return{min:Cy(t,e),max:Cy(t,i)}}function Cy(t,e){return typeof t=="number"?t:t[e]||0}const $w=new WeakMap;class Zw{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:i=!1,distanceThreshold:o}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(aa(x).point)},u=(x,S)=>{const{drag:T,dragPropagation:C,onDragStart:b}=this.getProps();if(T&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=iC(T),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),In(w=>{let M=this.getAxisMotionValue(w).get()||0;if(Zn.test(M)){const{projection:k}=this.visualElement;if(k&&k.layout){const P=k.layout.layoutBox[w];P&&(M=tn(P)*(parseFloat(M)/100))}}this.originPoint[w]=M}),b&&gt.postRender(()=>b(x,S)),yf(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},d=(x,S)=>{this.latestPointerEvent=x,this.latestPanInfo=S;const{dragPropagation:T,dragDirectionLock:C,onDirectionLock:b,onDrag:A}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:w}=S;if(C&&this.currentDirection===null){this.currentDirection=Ww(w),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",S.point,w),this.updateAxis("y",S.point,w),this.visualElement.render(),A&&A(x,S)},p=(x,S)=>{this.latestPointerEvent=x,this.latestPanInfo=S,this.stop(x,S),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>In(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new pS(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:p,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:o,contextWindow:hS(this.visualElement)})}stop(e,i){const o=e||this.latestPointerEvent,r=i||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!r||!o)return;const{velocity:u}=r;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&gt.postRender(()=>d(o,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(e,i,o){const{drag:r}=this.getProps();if(!o||!El(e,r,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+o[e];this.constraints&&this.constraints[e]&&(u=qw(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&Ao(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&o?this.constraints=jw(o.layoutBox,e):this.constraints=!1,this.elastic=Xw(i),r!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&In(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Kw(o.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!Ao(e))return!1;const o=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const l=QC(o,r.root,this.visualElement.getTransformPagePoint());let u=Yw(r.layout.layoutBox,l);if(i){const d=i($C(u));this.hasMutatedConstraints=!!d,d&&(u=W1(d))}return u}startAnimation(e){const{drag:i,dragMomentum:o,dragElastic:r,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},h=In(g=>{if(!El(g,i,this.currentDirection))return;let x=p&&p[g]||{};u&&(x={min:0,max:0});const S=r?200:1e6,T=r?40:1e7,C={type:"inertia",velocity:o?e[g]:0,bounceStiffness:S,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(g,C)});return Promise.all(h).then(d)}startAxisValueAnimation(e,i){const o=this.getAxisMotionValue(e);return yf(this.visualElement,e),o.start(Sh(e,o,0,i,this.visualElement,!1))}stopAnimation(){In(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){In(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,o=this.visualElement.getProps(),r=o[i];return r||this.visualElement.getValue(e,(o.initial?o.initial[e]:void 0)||0)}snapToCursor(e){In(i=>{const{drag:o}=this.getProps();if(!El(i,o,this.currentDirection))return;const{projection:r}=this.visualElement,l=this.getAxisMotionValue(i);if(r&&r.layout){const{min:u,max:d}=r.layout.layoutBox[i];l.set(e[i]-yt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:o}=this.visualElement;if(!Ao(i)||!o||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};In(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const p=d.get();r[u]=Jw({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),In(u=>{if(!El(u,e,null))return;const d=this.getAxisMotionValue(u),{min:p,max:h}=this.constraints[u];d.set(yt(p,h,r[u]))})}addListeners(){if(!this.visualElement.current)return;$w.set(this.visualElement,this);const e=this.visualElement.current,i=Kr(e,"pointerdown",p=>{const{drag:h,dragListener:g=!0}=this.getProps();h&&g&&this.start(p)}),o=()=>{const{dragConstraints:p}=this.getProps();Ao(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,l=r.addEventListener("measure",o);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),gt.read(o);const u=ea(window,"resize",()=>this.scalePositionWithinConstraints()),d=r.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:h})=>{this.isDragging&&h&&(In(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=p[g].translate,x.set(x.get()+p[g].translate))}),this.visualElement.render())}));return()=>{u(),i(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:o=!1,dragPropagation:r=!1,dragConstraints:l=!1,dragElastic:u=xf,dragMomentum:d=!0}=e;return{...e,drag:i,dragDirectionLock:o,dragPropagation:r,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function El(t,e,i){return(e===!0||e===t)&&(i===null||i===t)}function Ww(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}class Qw extends is{constructor(e){super(e),this.removeGroupControls=zn,this.removeListeners=zn,this.controls=new Zw(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const wy=t=>(e,i)=>{t&&gt.postRender(()=>t(e,i))};class e2 extends is{constructor(){super(...arguments),this.removePointerDownListener=zn}onPointerDown(e){this.session=new pS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:o,onPanEnd:r}=this.node.getProps();return{onSessionStart:wy(e),onStart:wy(i),onMove:o,onEnd:(l,u)=>{delete this.session,r&&gt.postRender(()=>r(l,u))}}}mount(){this.removePointerDownListener=Kr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ll={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Bd=!1;class t2 extends ye.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:o,layoutId:r}=this.props,{projection:l}=e;l&&(i.group&&i.group.add(l),o&&o.register&&r&&o.register(l),Bd&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Ll.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:o,drag:r,isPresent:l}=this.props,{projection:u}=o;return u&&(u.isPresent=l,Bd=!0,r||e.layoutDependency!==i||i===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||gt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),uh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:o}=this.props,{projection:r}=e;Bd=!0,r&&(r.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(r),o&&o.deregister&&o.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gS(t){const[e,i]=V1(),o=ye.useContext(Hf);return _.jsx(t2,{...t,layoutGroup:o,switchLayoutGroup:ye.useContext($1),isPresent:e,safeToRemove:i})}function n2(t,e,i){const o=Zt(t)?t:Po(t);return o.start(Sh("",o,e,i)),o.animation}const i2=(t,e)=>t.depth-e.depth;class s2{constructor(){this.children=[],this.isDirty=!1}add(e){jf(this.children,e),this.isDirty=!0}remove(e){Yf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(i2),this.isDirty=!1,this.children.forEach(e)}}function o2(t,e){const i=hn.now(),o=({timestamp:r})=>{const l=r-i;l>=e&&(ts(o),t(l-e))};return gt.setup(o,!0),()=>ts(o)}const yS=["TopLeft","TopRight","BottomLeft","BottomRight"],r2=yS.length,Ny=t=>typeof t=="string"?parseFloat(t):t,Ry=t=>typeof t=="number"||Ue.test(t);function a2(t,e,i,o,r,l){r?(t.opacity=yt(0,i.opacity??1,l2(o)),t.opacityExit=yt(e.opacity??1,0,u2(o))):l&&(t.opacity=yt(e.opacity??1,i.opacity??1,o));for(let u=0;u<r2;u++){const d=`border${yS[u]}Radius`;let p=My(e,d),h=My(i,d);if(p===void 0&&h===void 0)continue;p||(p=0),h||(h=0),p===0||h===0||Ry(p)===Ry(h)?(t[d]=Math.max(yt(Ny(p),Ny(h),o),0),(Zn.test(h)||Zn.test(p))&&(t[d]+="%")):t[d]=h}(e.rotate||i.rotate)&&(t.rotate=yt(e.rotate||0,i.rotate||0,o))}function My(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const l2=vS(0,.5,i1),u2=vS(.5,.95,zn);function vS(t,e,i){return o=>o<t?0:o>e?1:i($r(t,e,o))}function ky(t,e){t.min=e.min,t.max=e.max}function Gn(t,e){ky(t.x,e.x),ky(t.y,e.y)}function Iy(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Dy(t,e,i,o,r){return t-=e,t=ql(t,1/i,o),r!==void 0&&(t=ql(t,1/r,o)),t}function c2(t,e=0,i=1,o=.5,r,l=t,u=t){if(Zn.test(e)&&(e=parseFloat(e),e=yt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=yt(l.min,l.max,o);t===l&&(d-=e),t.min=Dy(t.min,e,i,d,r),t.max=Dy(t.max,e,i,d,r)}function zy(t,e,[i,o,r],l,u){c2(t,e[i],e[o],e[r],e.scale,l,u)}const d2=["x","scaleX","originX"],f2=["y","scaleY","originY"];function Py(t,e,i,o){zy(t.x,e,d2,i?i.x:void 0,o?o.x:void 0),zy(t.y,e,f2,i?i.y:void 0,o?o.y:void 0)}function Uy(t){return t.translate===0&&t.scale===1}function xS(t){return Uy(t.x)&&Uy(t.y)}function Ly(t,e){return t.min===e.min&&t.max===e.max}function h2(t,e){return Ly(t.x,e.x)&&Ly(t.y,e.y)}function Vy(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function SS(t,e){return Vy(t.x,e.x)&&Vy(t.y,e.y)}function Oy(t){return tn(t.x)/tn(t.y)}function By(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class p2{constructor(){this.members=[]}add(e){jf(this.members,e),e.scheduleRender()}remove(e){if(Yf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(r=>e===r);if(i===0)return!1;let o;for(let r=i;r>=0;r--){const l=this.members[r];if(l.isPresent!==!1){o=l;break}}return o?(this.promote(o),!0):!1}promote(e,i){const o=this.lead;if(e!==o&&(this.prevLead=o,this.lead=e,e.show(),o)){o.instance&&o.scheduleRender(),e.scheduleRender(),e.resumeFrom=o,i&&(e.resumeFrom.preserveOpacity=!0),o.snapshot&&(e.snapshot=o.snapshot,e.snapshot.latestValues=o.animationValues||o.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:o}=e;i.onExitComplete&&i.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function m2(t,e,i){let o="";const r=t.x.translate/e.x,l=t.y.translate/e.y,u=i?.z||0;if((r||l||u)&&(o=`translate3d(${r}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(o+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:h,rotate:g,rotateX:x,rotateY:S,skewX:T,skewY:C}=i;h&&(o=`perspective(${h}px) ${o}`),g&&(o+=`rotate(${g}deg) `),x&&(o+=`rotateX(${x}deg) `),S&&(o+=`rotateY(${S}deg) `),T&&(o+=`skewX(${T}deg) `),C&&(o+=`skewY(${C}deg) `)}const d=t.x.scale*e.x,p=t.y.scale*e.y;return(d!==1||p!==1)&&(o+=`scale(${d}, ${p})`),o||"none"}const Gd=["","X","Y","Z"],g2=1e3;let y2=0;function Hd(t,e,i,o){const{latestValues:r}=e;r[t]&&(i[t]=r[t],e.setStaticValue(t,0),o&&(o[t]=0))}function _S(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const i=rS(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:r,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",gt,!(r||l))}const{parent:o}=t;o&&!o.hasCheckedOptimisedAppear&&_S(o)}function TS({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:o,resetTransform:r}){return class{constructor(u={},d=e?.()){this.id=y2++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(S2),this.nodes.forEach(E2),this.nodes.forEach(A2),this.nodes.forEach(_2)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new s2)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Xf),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const p=this.eventHandlers.get(u);p&&p.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=L1(u)&&!uC(u),this.instance=u;const{layoutId:d,layout:p,visualElement:h}=this.options;if(h&&!h.current&&h.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),t){let g,x=0;const S=()=>this.root.updateBlockedByResize=!1;gt.read(()=>{x=window.innerWidth}),t(u,()=>{const T=window.innerWidth;T!==x&&(x=T,this.root.updateBlockedByResize=!0,g&&g(),g=o2(S,250),Ll.hasAnimatedSinceResize&&(Ll.hasAnimatedSinceResize=!1,this.nodes.forEach(Fy)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||p)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeLayoutChanged:S,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||h.getDefaultTransition()||M2,{onLayoutAnimationStart:b,onLayoutAnimationComplete:A}=h.getProps(),w=!this.targetLayout||!SS(this.targetLayout,T),M=!x&&S;if(this.options.layoutRoot||this.resumeFrom||M||x&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...ah(C,"layout"),onPlay:b,onComplete:A};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(g,M)}else x||Fy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ts(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(C2),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_S(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Gy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Hy);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(b2),this.nodes.forEach(v2),this.nodes.forEach(x2)):this.nodes.forEach(Hy),this.clearAllSnapshots();const d=hn.now();Yt.delta=Ei(0,1e3/60,d-Yt.timestamp),Yt.timestamp=d,Yt.isProcessing=!0,Md.update.process(Yt),Md.preRender.process(Yt),Md.render.process(Yt),Yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,uh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(T2),this.sharedNodes.forEach(w2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tn(this.snapshot.measuredBox.x)&&!tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const p=o(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!r)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!xS(this.projectionDelta),p=this.getTransformTemplate(),h=p?p(this.latestValues,""):void 0,g=h!==this.prevTransformTemplateValue;u&&this.instance&&(d||ws(this.latestValues)||g)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return u&&(p=this.removeTransform(p)),k2(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Pt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(I2))){const{scroll:h}=this.root;h&&(Co(d.x,h.offset.x),Co(d.y,h.offset.y))}return d}removeElementScroll(u){const d=Pt();if(Gn(d,u),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const h=this.path[p],{scroll:g,options:x}=h;h!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&Gn(d,u),Co(d.x,g.offset.x),Co(d.y,g.offset.y))}return d}applyTransform(u,d=!1){const p=Pt();Gn(p,u);for(let h=0;h<this.path.length;h++){const g=this.path[h];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&wo(p,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ws(g.latestValues)&&wo(p,g.latestValues)}return ws(this.latestValues)&&wo(p,this.latestValues),p}removeTransform(u){const d=Pt();Gn(d,u);for(let p=0;p<this.path.length;p++){const h=this.path[p];if(!h.instance||!ws(h.latestValues))continue;hf(h.latestValues)&&h.updateSnapshot();const g=Pt(),x=h.measurePageBox();Gn(g,x),Py(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,g)}return ws(this.latestValues)&&Py(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!this.layout||!(g||x))return;this.resolvedRelativeTargetAt=Yt.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pt(),this.targetWithTransforms=Pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Bw(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),eS(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||hf(this.parent.latestValues)||Q1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,p){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),jl(this.relativeTargetOrigin,d,p),Gn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Yt.timestamp&&(p=!1),p)return;const{layout:h,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||g))return;Gn(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,S=this.treeScale.y;WC(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Pt());const{target:T}=u;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Iy(this.prevProjectionDelta.x,this.projectionDelta.x),Iy(this.prevProjectionDelta.y,this.projectionDelta.y)),Xr(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==S||!By(this.projectionDelta.x,this.prevProjectionDelta.x)||!By(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=No(),this.projectionDelta=No(),this.projectionDeltaWithTransform=No()}setAnimationOrigin(u,d=!1){const p=this.snapshot,h=p?p.latestValues:{},g={...this.latestValues},x=No();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=Pt(),T=p?p.source:void 0,C=this.layout?this.layout.source:void 0,b=T!==C,A=this.getStack(),w=!A||A.members.length<=1,M=!!(b&&!w&&this.options.crossfade===!0&&!this.path.some(R2));this.animationProgress=0;let k;this.mixTargetDelta=P=>{const z=P/1e3;qy(x.x,u.x,z),qy(x.y,u.y,z),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jl(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),N2(this.relativeTarget,this.relativeTargetOrigin,S,z),k&&h2(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Pt()),Gn(k,this.relativeTarget)),b&&(this.animationValues=g,a2(g,h,this.latestValues,z,M,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ts(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gt.update(()=>{Ll.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Po(0)),this.currentAnimation=n2(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(g2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:p,layout:h,latestValues:g}=u;if(!(!d||!p||!h)){if(this!==u&&this.layout&&h&&bS(this.options.animationType,this.layout.layoutBox,h.layoutBox)){p=this.target||Pt();const x=tn(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+x;const S=tn(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+S}Gn(d,p),wo(d,g),Xr(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new p2),this.sharedNodes.get(u).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:p}={}){const h=this.getStack();h&&h.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const h={};p.z&&Hd("z",u,h,this.animationValues);for(let g=0;g<Gd.length;g++)Hd(`rotate${Gd[g]}`,u,h,this.animationValues),Hd(`skew${Gd[g]}`,u,h,this.animationValues);u.render();for(const g in h)u.setStaticValue(g,h[g]),this.animationValues&&(this.animationValues[g]=h[g]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Ul(d?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Ul(d?.pointerEvents)||""),this.hasProjected&&!ws(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=h.animationValues||h.latestValues;this.applyTransformsToTarget();let x=m2(this.projectionDeltaWithTransform,this.treeScale,g);p&&(x=p(g,x)),u.transform=x;const{x:S,y:T}=this.projectionDelta;u.transformOrigin=`${S.origin*100}% ${T.origin*100}% 0`,h.animationValues?u.opacity=h===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=h===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in ff){if(g[C]===void 0)continue;const{correct:b,applyTo:A,isCSSVariable:w}=ff[C],M=x==="none"?g[C]:b(g[C],h);if(A){const k=A.length;for(let P=0;P<k;P++)u[A[P]]=M}else w?this.options.visualElement.renderState.vars[C]=M:u[C]=M}this.options.layoutId&&(u.pointerEvents=h===this?Ul(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Gy),this.root.sharedNodes.clear()}}}function v2(t){t.updateLayout()}function x2(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:r}=t.options,l=e.source!==t.layout.source;r==="size"?In(g=>{const x=l?e.measuredBox[g]:e.layoutBox[g],S=tn(x);x.min=i[g].min,x.max=x.min+S}):bS(r,e.layoutBox,i)&&In(g=>{const x=l?e.measuredBox[g]:e.layoutBox[g],S=tn(i[g]);x.max=x.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+S)});const u=No();Xr(u,i,e.layoutBox);const d=No();l?Xr(d,t.applyTransform(o,!0),e.measuredBox):Xr(d,i,e.layoutBox);const p=!xS(u);let h=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:S}=g;if(x&&S){const T=Pt();jl(T,e.layoutBox,x.layoutBox);const C=Pt();jl(C,i,S.layoutBox),SS(T,C)||(h=!0),g.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=T,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function S2(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _2(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function T2(t){t.clearSnapshot()}function Gy(t){t.clearMeasurements()}function Hy(t){t.isLayoutDirty=!1}function b2(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Fy(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function E2(t){t.resolveTargetDelta()}function A2(t){t.calcProjection()}function C2(t){t.resetSkewAndRotation()}function w2(t){t.removeLeadSnapshot()}function qy(t,e,i){t.translate=yt(e.translate,0,i),t.scale=yt(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function jy(t,e,i,o){t.min=yt(e.min,i.min,o),t.max=yt(e.max,i.max,o)}function N2(t,e,i,o){jy(t.x,e.x,i.x,o),jy(t.y,e.y,i.y,o)}function R2(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const M2={duration:.45,ease:[.4,0,.1,1]},Yy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Jy=Yy("applewebkit/")&&!Yy("chrome/")?Math.round:zn;function Ky(t){t.min=Jy(t.min),t.max=Jy(t.max)}function k2(t){Ky(t.x),Ky(t.y)}function bS(t,e,i){return t==="position"||t==="preserve-aspect"&&!Ow(Oy(e),Oy(i),.2)}function I2(t){return t!==t.root&&t.scroll?.wasRoot}const D2=TS({attachResizeListener:(t,e)=>ea(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fd={current:void 0},ES=TS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fd.current){const t=new D2({});t.mount(window),t.setOptions({layoutScroll:!0}),Fd.current=t}return Fd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),z2={pan:{Feature:e2},drag:{Feature:Qw,ProjectionNode:ES,MeasureLayout:gS}};function Xy(t,e,i){const{props:o}=t;t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",i==="Start");const r="onHover"+i,l=o[r];l&&gt.postRender(()=>l(e,aa(e)))}class P2 extends is{mount(){const{current:e}=this.node;e&&(this.unmount=sC(e,(i,o)=>(Xy(this.node,o,"Start"),r=>Xy(this.node,r,"End"))))}unmount(){}}class U2 extends is{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sa(ea(this.node.current,"focus",()=>this.onFocus()),ea(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $y(t,e,i){const{props:o}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&o.whileTap&&t.animationState.setActive("whileTap",i==="Start");const r="onTap"+(i==="End"?"":i),l=o[r];l&&gt.postRender(()=>l(e,aa(e)))}class L2 extends is{mount(){const{current:e}=this.node;e&&(this.unmount=lC(e,(i,o)=>($y(this.node,o,"Start"),(r,{success:l})=>$y(this.node,r,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sf=new WeakMap,qd=new WeakMap,V2=t=>{const e=Sf.get(t.target);e&&e(t)},O2=t=>{t.forEach(V2)};function B2({root:t,...e}){const i=t||document;qd.has(i)||qd.set(i,{});const o=qd.get(i),r=JSON.stringify(e);return o[r]||(o[r]=new IntersectionObserver(O2,{root:t,...e})),o[r]}function G2(t,e,i){const o=B2(e);return Sf.set(t,i),o.observe(t),()=>{Sf.delete(t),o.unobserve(t)}}const H2={some:0,all:1};class F2 extends is{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:o,amount:r="some",once:l}=e,u={root:i?i.current:void 0,rootMargin:o,threshold:typeof r=="number"?r:H2[r]},d=p=>{const{isIntersecting:h}=p;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),S=h?g:x;S&&S(p)};return G2(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(q2(e,i))&&this.startObserver()}unmount(){}}function q2({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}const j2={inView:{Feature:F2},tap:{Feature:L2},focus:{Feature:U2},hover:{Feature:P2}},Y2={layout:{ProjectionNode:ES,MeasureLayout:gS}},J2={...Dw,...j2,...z2,...Y2},$e=XC(J2,lw);const K2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X2=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,o)=>o?o.toUpperCase():i.toLowerCase()),Zy=t=>{const e=X2(t);return e.charAt(0).toUpperCase()+e.slice(1)},AS=(...t)=>t.filter((e,i,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===i).join(" ").trim(),$2=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Z2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const W2=ye.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:r="",children:l,iconNode:u,...d},p)=>ye.createElement("svg",{ref:p,...Z2,width:e,height:e,stroke:t,strokeWidth:o?Number(i)*24/Number(e):i,className:AS("lucide",r),...!l&&!$2(d)&&{"aria-hidden":"true"},...d},[...u.map(([h,g])=>ye.createElement(h,g)),...Array.isArray(l)?l:[l]]));const Me=(t,e)=>{const i=ye.forwardRef(({className:o,...r},l)=>ye.createElement(W2,{ref:l,iconNode:e,className:AS(`lucide-${K2(Zy(t))}`,`lucide-${t}`,o),...r}));return i.displayName=Zy(t),i};const Q2=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ta=Me("activity",Q2);const eN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_h=Me("arrow-right",eN);const tN=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],CS=Me("bot",tN);const nN=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],wS=Me("box",nN);const iN=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],sN=Me("brain",iN);const oN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Yl=Me("check",oN);const rN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],NS=Me("chevron-down",rN);const aN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],lN=Me("chevron-up",aN);const uN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jd=Me("circle-check-big",uN);const cN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],dN=Me("circle-stop",cN);const fN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Yd=Me("circle",fN);const hN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pN=Me("clock",hN);const mN=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],gN=Me("cloud",mN);const yN=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],ou=Me("cpu",yN);const vN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ru=Me("database",vN);const xN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],na=Me("download",xN);const SN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Wy=Me("external-link",SN);const _N=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],TN=Me("eye-off",_N);const bN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],EN=Me("eye",bN);const AN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],RS=Me("file-braces",AN);const CN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],Th=Me("file-code",CN);const wN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Jl=Me("file-text",wN);const NN=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],RN=Me("fingerprint-pattern",NN);const MN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],kN=Me("funnel",MN);const IN=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],MS=Me("hard-drive",IN);const DN=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],zN=Me("hash",DN);const PN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],UN=Me("history",PN);const LN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],kS=Me("key",LN);const VN=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],bh=Me("layers",VN);const ON=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],BN=Me("layout-dashboard",ON);const GN=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],HN=Me("layout-template",GN);const FN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],qN=Me("list",FN);const jN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Eh=Me("loader-circle",jN);const YN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],JN=Me("lock",YN);const KN=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],XN=Me("maximize",KN);const $N=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],ZN=Me("panel-left",$N);const WN=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],IS=Me("pause",WN);const QN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],eR=Me("pen",QN);const tR=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],DS=Me("play",tR);const nR=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],iR=Me("rocket",nR);const sR=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],_f=Me("rotate-ccw",sR);const oR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],rR=Me("save",oR);const aR=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],lR=Me("server",aR);const uR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cR=Me("settings",uR);const dR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],fR=Me("shield-alert",dR);const hR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],zS=Me("shield",hR);const pR=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],mR=Me("sparkles",pR);const gR=[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]],PS=Me("square-terminal",gR);const yR=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],vR=Me("star",yR);const xR=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],SR=Me("table",xR);const _R=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],TR=Me("thumbs-down",_R);const bR=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],ER=Me("thumbs-up",bR);const AR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],US=Me("trash-2",AR);const CR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ro=Me("triangle-alert",CR);const wR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],LS=Me("user",wR);const NR=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],RR=Me("wifi",NR);const MR=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],kR=Me("workflow",MR);const IR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],au=Me("x",IR);const DR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],VS=Me("zap",DR);const zR=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],PR=Me("zoom-in",zR);const UR=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],LR=Me("zoom-out",UR);var VR=jx();function OS(t){var e,i,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(i=OS(t[e]))&&(o&&(o+=" "),o+=i)}else for(i in t)t[i]&&(o&&(o+=" "),o+=i);return o}function OR(){for(var t,e,i=0,o="",r=arguments.length;i<r;i++)(t=arguments[i])&&(e=OS(t))&&(o&&(o+=" "),o+=e);return o}const BR=(t,e)=>{const i=new Array(t.length+e.length);for(let o=0;o<t.length;o++)i[o]=t[o];for(let o=0;o<e.length;o++)i[t.length+o]=e[o];return i},GR=(t,e)=>({classGroupId:t,validator:e}),BS=(t=new Map,e=null,i)=>({nextPart:t,validators:e,classGroupId:i}),Kl="-",Qy=[],HR="arbitrary..",FR=t=>{const e=jR(t),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return qR(u);const d=u.split(Kl),p=d[0]===""&&d.length>1?1:0;return GS(d,p,e)},getConflictingClassGroupIds:(u,d)=>{if(d){const p=o[u],h=i[u];return p?h?BR(h,p):p:h||Qy}return i[u]||Qy}}},GS=(t,e,i)=>{if(t.length-e===0)return i.classGroupId;const r=t[e],l=i.nextPart.get(r);if(l){const h=GS(t,e+1,l);if(h)return h}const u=i.validators;if(u===null)return;const d=e===0?t.join(Kl):t.slice(e).join(Kl),p=u.length;for(let h=0;h<p;h++){const g=u[h];if(g.validator(d))return g.classGroupId}},qR=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),i=e.indexOf(":"),o=e.slice(0,i);return o?HR+o:void 0})(),jR=t=>{const{theme:e,classGroups:i}=t;return YR(i,e)},YR=(t,e)=>{const i=BS();for(const o in t){const r=t[o];Ah(r,i,o,e)}return i},Ah=(t,e,i,o)=>{const r=t.length;for(let l=0;l<r;l++){const u=t[l];JR(u,e,i,o)}},JR=(t,e,i,o)=>{if(typeof t=="string"){KR(t,e,i);return}if(typeof t=="function"){XR(t,e,i,o);return}$R(t,e,i,o)},KR=(t,e,i)=>{const o=t===""?e:HS(e,t);o.classGroupId=i},XR=(t,e,i,o)=>{if(ZR(t)){Ah(t(o),e,i,o);return}e.validators===null&&(e.validators=[]),e.validators.push(GR(i,t))},$R=(t,e,i,o)=>{const r=Object.entries(t),l=r.length;for(let u=0;u<l;u++){const[d,p]=r[u];Ah(p,HS(e,d),i,o)}},HS=(t,e)=>{let i=t;const o=e.split(Kl),r=o.length;for(let l=0;l<r;l++){const u=o[l];let d=i.nextPart.get(u);d||(d=BS(),i.nextPart.set(u,d)),i=d}return i},ZR=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,WR=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,i=Object.create(null),o=Object.create(null);const r=(l,u)=>{i[l]=u,e++,e>t&&(e=0,o=i,i=Object.create(null))};return{get(l){let u=i[l];if(u!==void 0)return u;if((u=o[l])!==void 0)return r(l,u),u},set(l,u){l in i?i[l]=u:r(l,u)}}},Tf="!",ev=":",QR=[],tv=(t,e,i,o,r)=>({modifiers:t,hasImportantModifier:e,baseClassName:i,maybePostfixModifierPosition:o,isExternal:r}),eM=t=>{const{prefix:e,experimentalParseClassName:i}=t;let o=r=>{const l=[];let u=0,d=0,p=0,h;const g=r.length;for(let b=0;b<g;b++){const A=r[b];if(u===0&&d===0){if(A===ev){l.push(r.slice(p,b)),p=b+1;continue}if(A==="/"){h=b;continue}}A==="["?u++:A==="]"?u--:A==="("?d++:A===")"&&d--}const x=l.length===0?r:r.slice(p);let S=x,T=!1;x.endsWith(Tf)?(S=x.slice(0,-1),T=!0):x.startsWith(Tf)&&(S=x.slice(1),T=!0);const C=h&&h>p?h-p:void 0;return tv(l,T,S,C)};if(e){const r=e+ev,l=o;o=u=>u.startsWith(r)?l(u.slice(r.length)):tv(QR,!1,u,void 0,!0)}if(i){const r=o;o=l=>i({className:l,parseClassName:r})}return o},tM=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((i,o)=>{e.set(i,1e6+o)}),i=>{const o=[];let r=[];for(let l=0;l<i.length;l++){const u=i[l],d=u[0]==="[",p=e.has(u);d||p?(r.length>0&&(r.sort(),o.push(...r),r=[]),o.push(u)):r.push(u)}return r.length>0&&(r.sort(),o.push(...r)),o}},nM=t=>({cache:WR(t.cacheSize),parseClassName:eM(t),sortModifiers:tM(t),...FR(t)}),iM=/\s+/,sM=(t,e)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:r,sortModifiers:l}=e,u=[],d=t.trim().split(iM);let p="";for(let h=d.length-1;h>=0;h-=1){const g=d[h],{isExternal:x,modifiers:S,hasImportantModifier:T,baseClassName:C,maybePostfixModifierPosition:b}=i(g);if(x){p=g+(p.length>0?" "+p:p);continue}let A=!!b,w=o(A?C.substring(0,b):C);if(!w){if(!A){p=g+(p.length>0?" "+p:p);continue}if(w=o(C),!w){p=g+(p.length>0?" "+p:p);continue}A=!1}const M=S.length===0?"":S.length===1?S[0]:l(S).join(":"),k=T?M+Tf:M,P=k+w;if(u.indexOf(P)>-1)continue;u.push(P);const z=r(w,A);for(let q=0;q<z.length;++q){const O=z[q];u.push(k+O)}p=g+(p.length>0?" "+p:p)}return p},oM=(...t)=>{let e=0,i,o,r="";for(;e<t.length;)(i=t[e++])&&(o=FS(i))&&(r&&(r+=" "),r+=o);return r},FS=t=>{if(typeof t=="string")return t;let e,i="";for(let o=0;o<t.length;o++)t[o]&&(e=FS(t[o]))&&(i&&(i+=" "),i+=e);return i},rM=(t,...e)=>{let i,o,r,l;const u=p=>{const h=e.reduce((g,x)=>x(g),t());return i=nM(h),o=i.cache.get,r=i.cache.set,l=d,d(p)},d=p=>{const h=o(p);if(h)return h;const g=sM(p,i);return r(p,g),g};return l=u,(...p)=>l(oM(...p))},aM=[],zt=t=>{const e=i=>i[t]||aM;return e.isThemeGetter=!0,e},qS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,jS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lM=/^\d+\/\d+$/,uM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_o=t=>lM.test(t),He=t=>!!t&&!Number.isNaN(Number(t)),Qi=t=>!!t&&Number.isInteger(Number(t)),Jd=t=>t.endsWith("%")&&He(t.slice(0,-1)),_i=t=>uM.test(t),pM=()=>!0,mM=t=>cM.test(t)&&!dM.test(t),YS=()=>!1,gM=t=>fM.test(t),yM=t=>hM.test(t),vM=t=>!we(t)&&!Ne(t),xM=t=>Bo(t,XS,YS),we=t=>qS.test(t),As=t=>Bo(t,$S,mM),Kd=t=>Bo(t,EM,He),nv=t=>Bo(t,JS,YS),SM=t=>Bo(t,KS,yM),Al=t=>Bo(t,ZS,gM),Ne=t=>jS.test(t),Gr=t=>Go(t,$S),_M=t=>Go(t,AM),iv=t=>Go(t,JS),TM=t=>Go(t,XS),bM=t=>Go(t,KS),Cl=t=>Go(t,ZS,!0),Bo=(t,e,i)=>{const o=qS.exec(t);return o?o[1]?e(o[1]):i(o[2]):!1},Go=(t,e,i=!1)=>{const o=jS.exec(t);return o?o[1]?e(o[1]):i:!1},JS=t=>t==="position"||t==="percentage",KS=t=>t==="image"||t==="url",XS=t=>t==="length"||t==="size"||t==="bg-size",$S=t=>t==="length",EM=t=>t==="number",AM=t=>t==="family-name",ZS=t=>t==="shadow",CM=()=>{const t=zt("color"),e=zt("font"),i=zt("text"),o=zt("font-weight"),r=zt("tracking"),l=zt("leading"),u=zt("breakpoint"),d=zt("container"),p=zt("spacing"),h=zt("radius"),g=zt("shadow"),x=zt("inset-shadow"),S=zt("text-shadow"),T=zt("drop-shadow"),C=zt("blur"),b=zt("perspective"),A=zt("aspect"),w=zt("ease"),M=zt("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...P(),Ne,we],q=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],G=()=>[Ne,we,p],F=()=>[_o,"full","auto",...G()],ie=()=>[Qi,"none","subgrid",Ne,we],ve=()=>["auto",{span:["full",Qi,Ne,we]},Qi,Ne,we],B=()=>[Qi,"auto",Ne,we],$=()=>["auto","min","max","fr",Ne,we],R=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...G()],Y=()=>[_o,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...G()],ee=()=>[t,Ne,we],ae=()=>[...P(),iv,nv,{position:[Ne,we]}],Se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",TM,xM,{size:[Ne,we]}],L=()=>[Jd,Gr,As],se=()=>["","none","full",h,Ne,we],ne=()=>["",He,Gr,As],ue=()=>["solid","dashed","dotted","double"],Ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[He,Jd,iv,nv],De=()=>["","none",C,Ne,we],Ie=()=>["none",He,Ne,we],Xe=()=>["none",He,Ne,we],Ze=()=>[He,Ne,we],Tt=()=>[_o,"full",...G()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_i],breakpoint:[_i],color:[pM],container:[_i],"drop-shadow":[_i],ease:["in","out","in-out"],font:[vM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_i],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_i],shadow:[_i],spacing:["px",He],text:[_i],"text-shadow":[_i],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_o,we,Ne,A]}],container:["container"],columns:[{columns:[He,we,Ne,d]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[Qi,"auto",Ne,we]}],basis:[{basis:[_o,"full","auto",d,...G()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[He,_o,"auto","initial","none",we]}],grow:[{grow:["",He,Ne,we]}],shrink:[{shrink:["",He,Ne,we]}],order:[{order:[Qi,"first","last","none",Ne,we]}],"grid-cols":[{"grid-cols":ie()}],"col-start-end":[{col:ve()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":ie()}],"row-start-end":[{row:ve()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:G()}],"gap-x":[{"gap-x":G()}],"gap-y":[{"gap-y":G()}],"justify-content":[{justify:[...R(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...R()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":R()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:G()}],px:[{px:G()}],py:[{py:G()}],ps:[{ps:G()}],pe:[{pe:G()}],pt:[{pt:G()}],pr:[{pr:G()}],pb:[{pb:G()}],pl:[{pl:G()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":G()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":G()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[d,"screen",...Y()]}],"min-w":[{"min-w":[d,"screen","none",...Y()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",i,Gr,As]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,Ne,Kd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jd,we]}],"font-family":[{font:[_M,we,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,Ne,we]}],"line-clamp":[{"line-clamp":[He,"none",Ne,Kd]}],leading:[{leading:[l,...G()]}],"list-image":[{"list-image":["none",Ne,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[He,"from-font","auto",Ne,As]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[He,"auto",Ne,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ae()}],"bg-repeat":[{bg:Se()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Qi,Ne,we],radial:["",Ne,we],conic:[Qi,Ne,we]},bM,SM]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[He,Ne,we]}],"outline-w":[{outline:["",He,Gr,As]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",g,Cl,Al]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",x,Cl,Al]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[He,As]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",S,Cl,Al]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[He,Ne,we]}],"mix-blend":[{"mix-blend":[...Ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[He]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[Ne,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[He]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ae()}],"mask-repeat":[{mask:Se()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,we]}],filter:[{filter:["","none",Ne,we]}],blur:[{blur:De()}],brightness:[{brightness:[He,Ne,we]}],contrast:[{contrast:[He,Ne,we]}],"drop-shadow":[{"drop-shadow":["","none",T,Cl,Al]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",He,Ne,we]}],"hue-rotate":[{"hue-rotate":[He,Ne,we]}],invert:[{invert:["",He,Ne,we]}],saturate:[{saturate:[He,Ne,we]}],sepia:[{sepia:["",He,Ne,we]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,we]}],"backdrop-blur":[{"backdrop-blur":De()}],"backdrop-brightness":[{"backdrop-brightness":[He,Ne,we]}],"backdrop-contrast":[{"backdrop-contrast":[He,Ne,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",He,Ne,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[He,Ne,we]}],"backdrop-invert":[{"backdrop-invert":["",He,Ne,we]}],"backdrop-opacity":[{"backdrop-opacity":[He,Ne,we]}],"backdrop-saturate":[{"backdrop-saturate":[He,Ne,we]}],"backdrop-sepia":[{"backdrop-sepia":["",He,Ne,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":G()}],"border-spacing-x":[{"border-spacing-x":G()}],"border-spacing-y":[{"border-spacing-y":G()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[He,"initial",Ne,we]}],ease:[{ease:["linear","initial",w,Ne,we]}],delay:[{delay:[He,Ne,we]}],animate:[{animate:["none",M,Ne,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ne,we]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:Ie()}],"rotate-x":[{"rotate-x":Ie()}],"rotate-y":[{"rotate-y":Ie()}],"rotate-z":[{"rotate-z":Ie()}],scale:[{scale:Xe()}],"scale-x":[{"scale-x":Xe()}],"scale-y":[{"scale-y":Xe()}],"scale-z":[{"scale-z":Xe()}],"scale-3d":["scale-3d"],skew:[{skew:Ze()}],"skew-x":[{"skew-x":Ze()}],"skew-y":[{"skew-y":Ze()}],transform:[{transform:[Ne,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Tt()}],"translate-x":[{"translate-x":Tt()}],"translate-y":[{"translate-y":Tt()}],"translate-z":[{"translate-z":Tt()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,we]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[He,Gr,As,Kd]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},wM=rM(CM);function je(...t){return wM(OR(t))}const bf=({title:t,children:e,className:i,action:o,onClick:r,active:l})=>_.jsxs($e.div,{layout:!0,onClick:r,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut",layout:{duration:.3}},className:je("bg-paper border-2 border-ink shadow-hard overflow-hidden flex flex-col relative transition-colors",r?"cursor-pointer":"",l?"ring-2 ring-accent ring-offset-2":"",i),children:[t&&_.jsxs("div",{className:"border-b-2 border-ink bg-zinc-50 px-4 py-3 flex justify-between items-center select-none",children:[_.jsx("h3",{className:"font-serif font-bold text-lg text-ink tracking-tight",children:t}),o&&_.jsx("div",{children:o})]}),_.jsx("div",{className:"p-6 h-full",children:e})]}),Vt=({children:t,variant:e="primary",size:i="md",icon:o,className:r,...l})=>_.jsxs("button",{className:je("font-bold transition-all flex items-center justify-center gap-2 select-none border-2 border-ink active:translate-y-1 active:shadow-none",e==="primary"&&"bg-ink text-white shadow-hard hover:bg-zinc-800",e==="secondary"&&"bg-white text-ink shadow-hard hover:bg-zinc-50",e==="ghost"&&"bg-transparent border-transparent shadow-none hover:bg-black/5",e==="danger"&&"bg-red-500 text-white border-red-700 shadow-hard hover:bg-red-600",i==="sm"&&"px-3 py-1 text-xs",i==="md"&&"px-4 py-2 text-sm",i==="lg"&&"px-6 py-3 text-base",l.disabled&&"opacity-50 cursor-not-allowed active:translate-y-0",r),...l,children:[o,t]}),ia=({label:t,error:e,className:i,...o})=>_.jsxs("div",{className:je("flex flex-col gap-1",i),children:[t&&_.jsx("label",{className:"text-xs font-bold uppercase text-zinc-500",children:t}),_.jsx("input",{className:"w-full border-2 border-ink px-3 py-2 outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 font-mono text-sm bg-white shadow-sm transition-all",...o}),e&&_.jsx("span",{className:"text-xs text-red-500 font-bold",children:e})]}),WS=({label:t,error:e,className:i,...o})=>_.jsxs("div",{className:je("flex flex-col gap-1",i),children:[t&&_.jsx("label",{className:"text-xs font-bold uppercase text-zinc-500",children:t}),_.jsx("textarea",{className:"w-full border-2 border-ink px-3 py-2 outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 font-mono text-sm bg-white shadow-sm transition-all resize-none",...o}),e&&_.jsx("span",{className:"text-xs text-red-500 font-bold",children:e})]}),wl=({children:t,variant:e="default",className:i})=>_.jsx("span",{className:je("px-2 py-0.5 text-[10px] font-bold uppercase border border-ink rounded-full tracking-wider",e==="default"&&"bg-zinc-100 text-ink",e==="success"&&"bg-emerald-100 text-emerald-800 border-emerald-800",e==="warning"&&"bg-amber-100 text-amber-800 border-amber-800",e==="error"&&"bg-red-100 text-red-800 border-red-800",e==="info"&&"bg-blue-100 text-blue-800 border-blue-800",i),children:t}),QS=({isOpen:t,onClose:e,title:i,children:o,footer:r,size:l="md"})=>VR.createPortal(_.jsx(Ti,{children:t&&_.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[_.jsx($e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-zinc-900/50 backdrop-blur-sm"}),_.jsxs($e.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},className:je("bg-white border-2 border-ink shadow-2xl overflow-hidden flex flex-col z-10 rounded-lg max-h-[90vh]",l==="md"?"w-full max-w-lg":l==="lg"?"w-full max-w-4xl":l==="xl"?"w-full max-w-6xl":"w-full h-full max-w-none rounded-none m-0 max-h-screen"),children:[_.jsxs("div",{className:"px-6 py-4 border-b-2 border-ink bg-zinc-50 flex items-center justify-between shrink-0",children:[_.jsx("h3",{className:"font-serif font-black text-xl",children:i}),_.jsx("button",{onClick:e,className:"p-1 hover:bg-zinc-200 rounded-full transition-colors",children:_.jsx(au,{size:20})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-white",children:o}),r&&_.jsx("div",{className:"px-6 py-4 border-t-2 border-ink bg-zinc-50 shrink-0 flex justify-end gap-3",children:r})]})]})}),document.body),NM=({label:t,options:e,className:i,...o})=>_.jsxs("div",{className:je("flex flex-col gap-1",i),children:[t&&_.jsx("label",{className:"text-xs font-bold uppercase text-zinc-500",children:t}),_.jsxs("div",{className:"relative",children:[_.jsx("select",{className:"w-full appearance-none border-2 border-ink bg-white px-3 py-2 pr-8 outline-none focus:ring-2 focus:ring-accent font-mono text-sm shadow-sm",...o,children:e.map(r=>_.jsx("option",{value:r.value,children:r.label},r.value))}),_.jsx(NS,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-ink"})]})]}),RM=({tabs:t,activeTab:e,onChange:i,className:o})=>_.jsx("div",{className:je("flex gap-2 border-b-2 border-ink/10",o),children:t.map(r=>_.jsxs("button",{onClick:()=>i(r.id),className:je("px-4 py-2 text-sm font-bold flex items-center gap-2 border-b-2 transition-colors",e===r.id?"border-ink text-ink":"border-transparent text-zinc-400 hover:text-zinc-600"),children:[r.icon,r.label]},r.id))}),e_=({onApprove:t,onReject:e})=>{const[i,o]=ye.useState(!1),[r,l]=ye.useState("");return i?_.jsxs("div",{className:"flex flex-col gap-3 w-full animate-in fade-in slide-in-from-bottom-2",children:[_.jsx("label",{className:"text-xs font-bold text-red-700 uppercase",children:"Rejection Feedback"}),_.jsx(WS,{placeholder:"Describe issue...",value:r,onChange:u=>l(u.target.value),className:"border-red-300"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx(Vt,{variant:"secondary",size:"sm",onClick:()=>o(!1),children:"Cancel"}),_.jsx(Vt,{variant:"danger",size:"sm",onClick:()=>e(r),disabled:!r.trim(),icon:_.jsx(_f,{size:14}),className:"flex-1",children:"Confirm"})]})]}):_.jsxs("div",{className:"flex w-full gap-2",children:[_.jsx(Vt,{onClick:t,className:"flex-1 bg-emerald-600 border-emerald-800 hover:bg-emerald-500 text-white",icon:_.jsx(ER,{size:16}),children:"Approve"}),_.jsx(Vt,{onClick:()=>o(!0),className:"flex-1 bg-red-50 text-red-900 border-red-200 hover:bg-red-100",icon:_.jsx(TR,{size:16}),children:"Reject"})]})},sv=({steps:t,currentStepIndex:e})=>_.jsx("div",{className:"flex flex-col gap-3 py-2",children:t.map((i,o)=>{const r=o<e,l=o===e,u=o>e;return _.jsxs($e.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:o*.1},className:je("flex items-center gap-3 text-sm transition-all",u&&"opacity-40"),children:[_.jsx("div",{className:je("w-5 h-5 rounded-full border-2 flex items-center justify-center text-[10px] font-bold transition-colors duration-300",r?"bg-emerald-500 border-emerald-600 text-white":l?"border-accent text-accent":"border-zinc-300 text-zinc-300"),children:r?_.jsx($e.div,{initial:{scale:0},animate:{scale:1},children:_.jsx(Yl,{size:12})}):l?_.jsx(Eh,{size:12,className:"animate-spin"}):o+1}),_.jsx("span",{className:je("font-mono transition-all duration-300",r?"text-zinc-500 line-through decoration-zinc-400":l?"text-ink font-bold scale-105 origin-left":"text-zinc-400"),children:i})]},o)})}),MM=({onSend:t,onEnrich:e,isEnriching:i})=>_.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 z-[100] w-full max-w-xl",children:_.jsxs("div",{className:"bg-white border-2 border-ink shadow-hard p-2 flex gap-2 items-center rounded-lg",children:[_.jsx("button",{onClick:e,disabled:i,className:je("p-2 hover:bg-zinc-100 rounded text-accent",i&&"animate-spin"),children:_.jsx(mR,{size:20})}),_.jsx("input",{className:"flex-1 bg-transparent border-none outline-none font-mono text-sm",placeholder:"Ask an agent to update...",onChange:()=>{}}),_.jsx("button",{className:"p-2 bg-ink text-white rounded hover:bg-zinc-800",children:_.jsx(_h,{size:16})})]})}),kM=({progress:t,stats:e,isPlaying:i,onTogglePlay:o})=>_.jsx("div",{className:"absolute top-6 left-0 right-0 z-[120] pointer-events-none flex justify-center",children:_.jsxs("div",{className:"pointer-events-auto flex items-center gap-4",children:[_.jsx("button",{onClick:o,className:je("h-12 w-12 flex items-center justify-center bg-white border-2 border-ink shadow-hard rounded-lg transition-all active:translate-y-1 active:shadow-none hover:bg-zinc-50",i?"text-red-500 border-red-500":"text-emerald-500 border-emerald-600"),children:i?_.jsx(IS,{size:20,fill:"currentColor"}):_.jsx(DS,{size:20,fill:"currentColor"})}),_.jsxs("div",{className:"bg-white/95 backdrop-blur-md border-2 border-ink shadow-hard px-6 py-3 rounded-full flex items-center gap-6 transition-all hover:scale-105",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("span",{className:"font-serif font-black text-lg min-w-[3ch] text-right",children:[t,"%"]}),_.jsxs("div",{className:"w-32 h-3 bg-zinc-100 rounded-full overflow-hidden border border-zinc-300 relative",children:[_.jsx($e.div,{className:"h-full bg-emerald-500",initial:{width:0},animate:{width:`${t}%`},transition:{duration:.5}}),_.jsx("div",{className:"absolute inset-0 bg-white/30 skew-x-12 w-full translate-x-[-100%] animate-[shimmer_2s_infinite]"})]})]}),_.jsx("div",{className:"h-6 w-px bg-zinc-300"}),_.jsx("div",{className:"flex gap-4",children:e.map((r,l)=>_.jsxs("div",{className:"flex flex-col items-center group",children:[_.jsx("span",{className:"text-[9px] uppercase font-bold text-zinc-400 mb-1 group-hover:text-ink transition-colors",children:r.label}),_.jsx($e.div,{className:je("w-2 h-2 rounded-full",r.status==="complete"?"bg-emerald-500":r.status==="active"?"bg-amber-500":"bg-zinc-300"),animate:r.status==="active"?{scale:[1,1.2,1],opacity:[1,.7,1]}:{},transition:{repeat:1/0,duration:1.5}})]},l))})]})]})}),IM=({onZoomIn:t,onZoomOut:e,onReset:i})=>_.jsx("div",{className:"fixed bottom-24 right-8 z-[100] flex flex-col gap-2",children:_.jsxs("div",{className:"bg-white border-2 border-ink shadow-hard rounded-lg overflow-hidden flex flex-col",children:[_.jsx("button",{onClick:t,className:"p-2 hover:bg-zinc-100 border-b border-zinc-200",children:_.jsx(PR,{size:18})}),_.jsx("button",{onClick:i,className:"p-2 hover:bg-zinc-100 border-b border-zinc-200",children:_.jsx(XN,{size:18})}),_.jsx("button",{onClick:e,className:"p-2 hover:bg-zinc-100",children:_.jsx(LR,{size:18})})]})}),DM=({traces:t,metrics:e})=>_.jsxs("div",{className:"p-8 h-full overflow-hidden flex flex-col gap-6",children:[_.jsx("h2",{className:"font-serif font-black text-4xl mb-2",children:"System Telemetry"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[_.jsxs("div",{className:"bg-white border-2 border-ink p-4 shadow-hard",children:[_.jsxs("div",{className:"flex justify-between items-center text-xs font-bold uppercase text-zinc-400 mb-2",children:[_.jsx("span",{children:"Total Tokens"})," ",_.jsx(ou,{size:14})]}),_.jsx("div",{className:"font-mono text-2xl font-bold",children:e.totalTokens.toLocaleString()})]}),_.jsxs("div",{className:"bg-white border-2 border-ink p-4 shadow-hard",children:[_.jsxs("div",{className:"flex justify-between items-center text-xs font-bold uppercase text-zinc-400 mb-2",children:[_.jsx("span",{children:"Est. Cost"})," ",_.jsx("span",{className:"text-emerald-500",children:"$"})]}),_.jsxs("div",{className:"font-mono text-2xl font-bold",children:["$",e.estCost.toFixed(4)]})]}),_.jsxs("div",{className:"bg-white border-2 border-ink p-4 shadow-hard",children:[_.jsxs("div",{className:"flex justify-between items-center text-xs font-bold uppercase text-zinc-400 mb-2",children:[_.jsx("span",{children:"Avg Latency"})," ",_.jsx(pN,{size:14})]}),_.jsxs("div",{className:"font-mono text-2xl font-bold",children:[Math.round(e.avgLatency||1200),"ms"]})]}),_.jsxs("div",{className:"bg-white border-2 border-ink p-4 shadow-hard",children:[_.jsxs("div",{className:"flex justify-between items-center text-xs font-bold uppercase text-zinc-400 mb-2",children:[_.jsx("span",{children:"Status"})," ",_.jsx(ta,{size:14})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"w-3 h-3 rounded-full bg-emerald-500 animate-pulse"}),_.jsx("span",{className:"font-bold",children:"OPERATIONAL"})]})]})]}),_.jsxs("div",{className:"flex-1 bg-zinc-900 border-2 border-ink rounded-lg flex flex-col overflow-hidden text-zinc-400 font-mono text-xs",children:[_.jsxs("div",{className:"flex items-center gap-4 p-3 border-b border-zinc-800 bg-black text-zinc-500 font-bold uppercase tracking-wider",children:[_.jsx("div",{className:"w-24",children:"Timestamp"}),_.jsx("div",{className:"w-32",children:"Status"}),_.jsx("div",{className:"flex-1",children:"Trace / Span Name"}),_.jsx("div",{className:"w-24 text-right",children:"Duration"}),_.jsx("div",{className:"w-24 text-right",children:"Cost"})]}),_.jsx("div",{className:"flex-1 overflow-y-auto",children:t.length===0?_.jsxs("div",{className:"flex flex-col items-center justify-center h-full opacity-30 gap-4",children:[_.jsx(ta,{size:48}),_.jsx("p",{children:"No active traces captured."})]}):t.map(i=>_.jsxs("div",{className:"flex items-center gap-4 p-3 hover:bg-zinc-800 border-b border-zinc-800/50 transition-colors",children:[_.jsx("div",{className:"w-24 text-zinc-500",children:new Date(i.startTime).toLocaleTimeString()}),_.jsx("div",{className:"w-32",children:_.jsx("span",{className:je("px-2 py-0.5 rounded text-[10px] uppercase font-bold text-black",i.status==="success"?"bg-emerald-500":i.status==="error"?"bg-red-500":"bg-amber-500"),children:i.status})}),_.jsxs("div",{className:"flex-1 truncate text-zinc-300",children:[_.jsxs("span",{className:"text-zinc-500 mr-2",children:["[",i.type.toUpperCase(),"]"]}),i.name]}),_.jsx("div",{className:"w-24 text-right text-zinc-500",children:i.endTime?`${i.endTime-i.startTime}ms`:"..."}),_.jsx("div",{className:"w-24 text-right text-zinc-500",children:i.cost?`$${i.cost.toFixed(5)}`:"-"})]},i.id))})]})]}),zM=({schemas:t,projectVersion:e})=>_.jsxs("div",{className:"p-8 h-full overflow-hidden flex flex-col",children:[_.jsxs("div",{className:"flex justify-between items-end mb-6",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-serif font-black text-4xl mb-2",children:"Schema Registry"}),_.jsxs("p",{className:"font-mono text-zinc-500",children:["Project Version: v",e]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("button",{className:"bg-white border-2 border-ink px-3 py-1.5 font-bold text-sm hover:bg-zinc-50 flex items-center gap-2",children:[_.jsx(kN,{size:14})," Filter"]}),_.jsxs("button",{className:"bg-ink text-white px-3 py-1.5 font-bold text-sm hover:bg-zinc-800 flex items-center gap-2",children:[_.jsx(na,{size:14})," Export SQL"]})]})]}),_.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-8",children:t.length===0?_.jsxs("div",{className:"h-64 flex flex-col items-center justify-center border-2 border-dashed border-zinc-300 rounded-lg text-zinc-400",children:[_.jsx(ru,{size:48,className:"mb-4 opacity-50"}),_.jsx("p",{className:"font-bold",children:"No Schema Defined Yet"}),_.jsx("p",{className:"text-sm",children:"Run the Data Architect agent to populate this registry."})]}):t.map((i,o)=>_.jsxs("div",{className:"bg-white border-2 border-ink shadow-hard rounded overflow-hidden",children:[_.jsxs("div",{className:"bg-zinc-50 px-4 py-3 border-b-2 border-ink flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"p-1.5 bg-amber-100 border border-amber-300 text-amber-700 rounded",children:_.jsx(SR,{size:16})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-mono font-bold text-lg",children:i.name}),_.jsxs("div",{className:"text-xs text-zinc-500 font-mono",children:["Module: ",_.jsx("span",{className:"text-ink font-bold",children:i.module||"Core"})]})]})]}),_.jsxs("div",{className:"text-xs font-mono text-zinc-400",children:[i.fields.length," Columns"]})]}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left font-mono text-sm",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"border-b border-zinc-200 bg-zinc-50/50 text-xs uppercase text-zinc-500",children:[_.jsx("th",{className:"px-4 py-2 font-bold w-48",children:"Column"}),_.jsx("th",{className:"px-4 py-2 font-bold w-32",children:"Type"}),_.jsx("th",{className:"px-4 py-2 font-bold w-24",children:"Attributes"}),_.jsx("th",{className:"px-4 py-2 font-bold",children:"Description"})]})}),_.jsx("tbody",{className:"divide-y divide-zinc-100",children:i.fields.map((r,l)=>_.jsxs("tr",{className:"hover:bg-zinc-50",children:[_.jsxs("td",{className:"px-4 py-2 font-bold text-ink flex items-center gap-2",children:[r.name,r.isKey&&_.jsx(kS,{size:12,className:"text-amber-500 rotate-45"})]}),_.jsx("td",{className:"px-4 py-2 text-blue-600",children:r.type}),_.jsx("td",{className:"px-4 py-2",children:_.jsxs("div",{className:"flex gap-1",children:[r.required?_.jsx("span",{className:"text-[10px] bg-red-100 text-red-700 px-1 rounded font-bold",children:"REQ"}):_.jsx("span",{className:"text-[10px] bg-zinc-100 text-zinc-500 px-1 rounded font-bold",children:"NULL"}),r.isKey&&_.jsx("span",{className:"text-[10px] bg-amber-100 text-amber-700 px-1 rounded font-bold",children:"PK"})]})}),_.jsx("td",{className:"px-4 py-2 text-zinc-500 text-xs italic",children:r.description||"-"})]},l))})]})})]},o))})]}),PM=({isOpen:t,interruptPayload:e,onResolve:i})=>!t||!e?null:_.jsx("div",{className:"fixed inset-0 z-[200] bg-zinc-900/80 backdrop-blur-sm flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white border-2 border-ink shadow-2xl max-w-2xl w-full rounded-lg overflow-hidden flex flex-col",children:[_.jsxs("div",{className:"bg-amber-500 text-white p-4 flex items-center gap-3",children:[_.jsx(fR,{size:24}),_.jsxs("div",{children:[_.jsx("h2",{className:"font-serif font-black text-xl",children:"INTERRUPT"}),_.jsx("p",{className:"text-xs font-bold uppercase",children:"Human Review Required"})]})]}),_.jsxs("div",{className:"p-8",children:[_.jsxs("h3",{className:"font-bold text-lg mb-2",children:["@",e.node.toUpperCase()]}),_.jsx("p",{className:"text-zinc-600 bg-zinc-50 p-4 border rounded",children:e.message})]}),_.jsx("div",{className:"p-4 bg-zinc-50 border-t-2 border-ink flex justify-end",children:_.jsx(e_,{onApprove:()=>i("Approved"),onReject:o=>i(o)})})]})}),UM=({agentActivity:t})=>{const e=Object.entries(t);return _.jsx(Ti,{children:e.length>0&&_.jsxs($e.div,{initial:{opacity:0,y:50,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"fixed bottom-36 left-1/2 -translate-x-1/2 z-[110] flex flex-col gap-2 min-w-[300px] pointer-events-none",children:[_.jsxs("div",{className:"self-center bg-black/90 backdrop-blur text-white px-4 py-1.5 rounded-full border border-zinc-700 shadow-lg flex items-center gap-2 mb-2",children:[_.jsx("div",{className:"w-2 h-2 bg-accent rounded-full animate-pulse"}),_.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Active Process"})]}),e.map(([i,o])=>_.jsxs($e.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-white/95 backdrop-blur border-2 border-ink shadow-[4px_4px_0px_rgba(0,0,0,0.1)] rounded-lg p-3 flex items-center gap-4 relative overflow-hidden",children:[_.jsxs("div",{className:"relative shrink-0",children:[_.jsx("div",{className:"w-8 h-8 bg-zinc-100 rounded-md border border-zinc-200 flex items-center justify-center",children:_.jsx(CS,{size:16,className:"text-zinc-600"})}),_.jsx("div",{className:je("absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",o.status==="thinking"?"bg-amber-400 animate-pulse":"bg-emerald-500")})]}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[_.jsxs("span",{className:"text-[10px] font-bold uppercase text-ink tracking-wider",children:[i," AGENT"]}),_.jsx("span",{className:"text-[9px] font-mono text-zinc-400 uppercase",children:o.status})]}),_.jsx("p",{className:"font-mono text-xs text-zinc-600 truncate",children:o.message})]}),o.status==="thinking"&&_.jsx($e.div,{className:"absolute bottom-0 left-0 h-[2px] bg-amber-400",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:1.5,repeat:1/0,ease:"linear"}})]},i))]},"overlay")})},LM=({blueprints:t,onLoad:e,onDelete:i})=>_.jsxs("div",{className:"p-8 h-full overflow-hidden flex flex-col",children:[_.jsx("div",{className:"flex justify-between items-end mb-8",children:_.jsxs("div",{children:[_.jsx("h2",{className:"font-serif font-black text-4xl mb-2",children:"Architecture Templates"}),_.jsx("p",{className:"text-zinc-500",children:"Jumpstart your project with pre-validated patterns."})]})}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 overflow-y-auto pb-8",children:t.map(o=>_.jsxs("div",{className:"bg-zinc-900 text-white rounded-lg p-6 shadow-hard flex flex-col group relative overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(#ffffff_1px,transparent_1px)] [background-size:16px_16px]"}),_.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsx("div",{className:"p-2 bg-zinc-800 rounded-lg border border-zinc-700 text-accent",children:_.jsx(wS,{size:24})}),_.jsx("div",{className:"flex gap-2",children:o.tags.map(r=>_.jsx("span",{className:"text-[10px] font-bold uppercase bg-zinc-800 px-2 py-1 rounded text-zinc-400",children:r},r))})]}),_.jsx("h3",{className:"font-bold text-xl mb-2 group-hover:text-accent transition-colors",children:o.name}),_.jsx("p",{className:"text-sm text-zinc-400 mb-6 flex-1",children:o.description}),_.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-zinc-800",children:[_.jsxs("div",{className:"text-xs text-zinc-500 font-mono flex gap-3",children:[_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(bh,{size:12})," ",o.stageCount," Stages"]}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(ta,{size:12})," ",o.status]})]}),_.jsxs("button",{onClick:()=>e(o.id),className:"bg-white text-black px-4 py-2 font-bold text-sm rounded hover:bg-accent hover:text-white transition-colors flex items-center gap-2",children:["Use Template ",_.jsx(_h,{size:14})]})]})]})]},o.id))})]}),VM=({activityFeed:t,commits:e})=>{const i=ye.useRef(null);return ye.useEffect(()=>{i.current&&(i.current.scrollTop=i.current.scrollHeight)},[t]),_.jsxs("div",{className:"p-8 h-full flex flex-col gap-8",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-serif font-black text-4xl mb-2",children:"System Pulse"}),_.jsx("p",{className:"text-zinc-500",children:"Live consolidated stream of all agent activities."})]}),_.jsxs("div",{className:"flex-1 bg-zinc-900 border-2 border-ink rounded-lg shadow-hard overflow-hidden flex flex-col",children:[_.jsxs("div",{className:"bg-black px-4 py-3 border-b border-zinc-800 flex justify-between items-center",children:[_.jsxs("span",{className:"text-xs font-bold uppercase text-zinc-400 flex items-center gap-2",children:[_.jsx(ta,{size:14,className:"text-accent animate-pulse"})," Live Stream"]}),_.jsx("span",{className:"text-[10px] font-mono text-zinc-600",children:"Buffer: 50/50"})]}),_.jsxs("div",{ref:i,className:"flex-1 overflow-y-auto p-4 space-y-2 font-mono text-xs",children:[t.length===0&&_.jsx("div",{className:"text-zinc-600 italic text-center mt-10",children:"Waiting for signal..."}),t.map((o,r)=>_.jsxs($e.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex gap-4 items-start",children:[_.jsx("span",{className:"text-zinc-600 shrink-0 min-w-[60px]",children:new Date(o.timestamp).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}),_.jsx("span",{className:je("font-bold uppercase tracking-wider shrink-0 min-w-[80px]",o.agentId==="prd"?"text-blue-400":o.agentId==="data"?"text-amber-400":o.agentId==="logic"?"text-purple-400":"text-zinc-400"),children:o.agentId}),_.jsx("span",{className:"text-zinc-300 break-words whitespace-pre-wrap",children:o.status==="thinking"?_.jsxs("span",{className:"text-zinc-500 italic flex items-center gap-2",children:["Thinking: ",o.delta]}):o.delta})]},`${o.timestamp}-${r}`))]})]}),_.jsxs("div",{className:"h-1/3 bg-white border-2 border-ink rounded-lg p-4 overflow-y-auto",children:[_.jsx("h3",{className:"font-bold text-sm uppercase text-zinc-500 mb-4 sticky top-0 bg-white",children:"Version History"}),_.jsx("div",{className:"space-y-4 border-l-2 border-zinc-200 ml-2 pl-4",children:e.map(o=>_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute -left-[21px] top-1 w-3 h-3 bg-white border-2 border-ink rounded-full"}),_.jsx("div",{className:"text-sm font-bold",children:o.message}),_.jsxs("div",{className:"text-xs text-zinc-400 font-mono",children:[o.timestamp,"  ",o.author]})]},o.id))})]})]})},OM=({projects:t,favorites:e,onDeleteProject:i})=>_.jsxs("div",{className:"flex flex-col h-full",children:[_.jsxs("div",{className:"flex-1 overflow-y-auto",children:[_.jsxs("div",{className:"mb-8",children:[_.jsx("h3",{className:"font-bold text-xs uppercase text-zinc-500 mb-4 px-2",children:"Recent Projects"}),_.jsx("div",{className:"space-y-1",children:t.map(o=>_.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-zinc-50 rounded group",children:[_.jsxs("div",{children:[_.jsx("div",{className:"font-bold text-sm",children:o.name}),_.jsxs("div",{className:"text-xs text-zinc-400",children:[o.date,"  ",o.id]})]}),_.jsx("button",{onClick:()=>i([o.id]),className:"opacity-0 group-hover:opacity-100 p-2 text-zinc-400 hover:text-red-500",children:_.jsx(US,{size:14})})]},o.id))})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-xs uppercase text-zinc-500 mb-4 px-2",children:"Saved Prompts"}),_.jsx("div",{className:"grid gap-3",children:e.map(o=>_.jsxs("div",{className:"border-2 border-zinc-200 p-3 rounded hover:border-ink cursor-pointer transition-colors",children:[_.jsxs("div",{className:"flex justify-between items-center mb-2",children:[_.jsx("span",{className:"font-bold text-sm",children:o.name}),_.jsx(vR,{size:12,className:"text-amber-400 fill-current"})]}),_.jsx("p",{className:"text-xs text-zinc-500 line-clamp-2",children:o.promptSnippet})]},o.id))})]})]}),_.jsx("div",{className:"pt-4 border-t border-zinc-200 mt-4",children:_.jsx("button",{className:"w-full py-2 bg-zinc-100 hover:bg-zinc-200 text-sm font-bold rounded",children:"Sign Out"})})]}),ov=({icon:t,onClick:e,isActive:i})=>_.jsx("button",{onClick:e,className:je("p-2 rounded border-2 shadow-sm transition-all",i?"bg-ink border-ink text-white":"bg-white border-zinc-200 text-zinc-500 hover:border-ink hover:text-ink"),children:t}),BM=({isOpen:t,onToggle:e,title:i,children:o,footer:r})=>_.jsx(Ti,{children:t&&_.jsx($e.div,{initial:{width:0,opacity:0},animate:{width:400,opacity:1},exit:{width:0,opacity:0},transition:{type:"spring",damping:25,stiffness:200},className:"h-full bg-white border-l-2 border-ink shadow-2xl z-20 flex flex-col shrink-0 overflow-hidden",children:_.jsxs("div",{className:"w-[400px] flex flex-col h-full",children:[_.jsxs("div",{className:"p-4 border-b-2 border-ink bg-zinc-50 flex items-center justify-between",children:[_.jsx("h3",{className:"font-serif font-bold text-xl",children:i}),_.jsx("button",{onClick:e,className:"p-2 hover:bg-zinc-200 rounded-full",children:_.jsx(au,{size:18})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin",children:o}),r&&_.jsx("div",{className:"p-4 border-t-2 border-ink bg-zinc-50",children:r})]})})}),GM=({seed:t,onComplete:e})=>{const[i,o]=ye.useState(0);return ye.useEffect(()=>{const r=setInterval(()=>{o(l=>l>=100?(clearInterval(r),setTimeout(e,500),100):l+2)},50);return()=>clearInterval(r)},[]),_.jsx("div",{className:"flex items-center justify-center h-full bg-surface/90 backdrop-blur-sm",children:_.jsxs("div",{className:"w-full max-w-md bg-white border-2 border-ink shadow-hard p-8 rounded-lg",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h3",{className:"font-serif font-black text-2xl",children:"Decomposing..."}),_.jsxs("div",{className:"text-4xl font-mono font-bold text-zinc-200",children:[i,"%"]})]}),_.jsxs("div",{className:"space-y-3 font-mono text-sm",children:[_.jsxs("div",{className:je("flex items-center gap-3",i>20?"text-ink":"text-zinc-300"),children:[i>20?_.jsx(jd,{size:16,className:"text-emerald-500"}):_.jsx(Yd,{size:16}),_.jsx("span",{children:"Analyzing Requirements"})]}),_.jsxs("div",{className:je("flex items-center gap-3",i>50?"text-ink":"text-zinc-300"),children:[i>50?_.jsx(jd,{size:16,className:"text-emerald-500"}):_.jsx(Yd,{size:16}),_.jsx("span",{children:"Generating Stage Graph"})]}),_.jsxs("div",{className:je("flex items-center gap-3",i>80?"text-ink":"text-zinc-300"),children:[i>80?_.jsx(jd,{size:16,className:"text-emerald-500"}):_.jsx(Yd,{size:16}),_.jsx("span",{children:"Seeding Context Context"})]})]}),_.jsx("div",{className:"mt-8 h-2 bg-zinc-100 rounded-full overflow-hidden border border-zinc-200",children:_.jsx($e.div,{className:"h-full bg-ink",style:{width:`${i}%`}})})]})})},HM=({isOpen:t,onToggle:e,activeTab:i,onTabChange:o,stages:r,artefacts:l,logs:u,commits:d,onDownload:p,onDownloadAll:h,isSimulationRunning:g,isGraphPaused:x,isManualPaused:S,onTogglePause:T,onStartSimulation:C,onStopSimulation:b,checkpoints:A,activeAgent:w,onRollback:M,interruptPayload:k,onResolveInterrupt:P})=>_.jsxs($e.div,{initial:{y:"calc(100% - 48px)"},animate:{y:t?0:"calc(100% - 48px)"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-ink shadow-[0_-4px_20px_rgba(0,0,0,0.1)] z-[140] flex flex-col max-h-[400px]",children:[_.jsxs("div",{onClick:()=>e(!t),className:"h-12 bg-zinc-50 border-b border-zinc-200 flex items-center justify-between px-6 cursor-pointer hover:bg-zinc-100 transition-colors",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold uppercase tracking-wider text-zinc-500",children:[_.jsx(PS,{size:16})," System Dock"]}),_.jsxs("div",{className:je("px-2 py-0.5 rounded-full text-[10px] font-bold uppercase border flex items-center gap-2",g?"bg-emerald-100 text-emerald-700 border-emerald-300":"bg-zinc-100 text-zinc-500 border-zinc-300"),children:[_.jsx("div",{className:je("w-2 h-2 rounded-full",g?"bg-emerald-500 animate-pulse":"bg-zinc-400")}),g?x||S?"PAUSED":"RUNNING":"IDLE"]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"flex mr-4 bg-zinc-200 p-1 rounded gap-1",onClick:z=>z.stopPropagation(),children:[{id:"artifacts",label:"Artifacts",icon:_.jsx(Jl,{size:14})},{id:"logs",label:"Logs",icon:_.jsx(qN,{size:14})},{id:"graph",label:"Controls",icon:_.jsx(kR,{size:14})}].map(z=>_.jsxs("button",{onClick:()=>o(z.id),className:je("px-3 py-1 rounded text-xs font-bold flex items-center gap-2 transition-all",i===z.id?"bg-white text-ink shadow-sm":"text-zinc-500 hover:text-zinc-700"),children:[z.icon,z.label]},z.id))}),t?_.jsx(NS,{size:18}):_.jsx(lN,{size:18})]})]}),_.jsxs("div",{className:"flex-1 overflow-hidden flex bg-zinc-50/50",children:[i==="artifacts"&&_.jsxs("div",{className:"flex-1 p-4 flex flex-col",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsxs("h4",{className:"font-bold text-sm",children:["Generated Artifacts (",l.length,")"]}),_.jsx(Vt,{size:"sm",variant:"secondary",onClick:h,icon:_.jsx(na,{size:14}),children:"Download All"})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 pr-2",children:[l.map(z=>_.jsxs("div",{className:"bg-white border border-zinc-200 p-3 rounded shadow-sm flex items-center gap-3 group hover:border-ink transition-colors",children:[_.jsx("div",{className:je("w-8 h-8 rounded flex items-center justify-center shrink-0",z.type==="code"?"bg-blue-100 text-blue-600":"bg-zinc-100 text-zinc-500"),children:z.type==="code"?_.jsx(Th,{size:16}):_.jsx(Jl,{size:16})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("div",{className:"font-mono text-xs font-bold truncate",children:z.label}),_.jsx("div",{className:"text-[10px] text-zinc-400 uppercase",children:z.sourceStageId})]}),_.jsx("button",{onClick:()=>p(z),className:"p-1.5 hover:bg-zinc-100 rounded text-zinc-400 hover:text-ink",children:_.jsx(na,{size:14})})]},z.id)),l.length===0&&_.jsx("div",{className:"col-span-full text-center text-zinc-400 py-8 text-sm italic",children:"No artifacts generated yet. Run the simulation."})]})]}),i==="logs"&&_.jsxs("div",{className:"flex-1 flex flex-col font-mono text-xs",children:[_.jsxs("div",{className:"bg-zinc-100 border-b border-zinc-200 px-4 py-2 flex font-bold text-zinc-500 uppercase tracking-wider text-[10px]",children:[_.jsx("span",{className:"w-24",children:"Time"}),_.jsx("span",{className:"w-32",children:"Source"}),_.jsx("span",{className:"flex-1",children:"Message"})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 bg-white",children:u.map(z=>_.jsxs("div",{className:"flex gap-4 px-2 py-1 hover:bg-zinc-50 rounded",children:[_.jsx("span",{className:"text-zinc-400 w-24 shrink-0",children:z.timestamp}),_.jsx("span",{className:je("w-32 shrink-0 font-bold",z.type==="error"?"text-red-600":z.type==="success"?"text-emerald-600":"text-blue-600"),children:z.source}),_.jsx("span",{className:"text-zinc-700",children:z.message})]},z.id))})]}),i==="graph"&&_.jsxs("div",{className:"flex-1 p-6 flex gap-8",children:[_.jsxs("div",{className:"w-64 flex flex-col gap-4 border-r border-zinc-200 pr-8",children:[_.jsx("h4",{className:"font-bold text-sm uppercase text-zinc-500",children:"Simulation Control"}),_.jsxs("div",{className:"flex gap-2",children:[g?_.jsx(Vt,{onClick:b,className:"flex-1",variant:"danger",icon:_.jsx(dN,{size:16}),children:"Stop"}):_.jsx(Vt,{onClick:C,className:"flex-1 bg-emerald-600 border-emerald-800 text-white",icon:_.jsx(DS,{size:16}),children:"Start Run"}),_.jsx(Vt,{onClick:T,disabled:!g,variant:"secondary",icon:_.jsx(IS,{size:16}),children:S?"Resume":"Pause"})]}),w&&_.jsxs("div",{className:"bg-zinc-100 p-3 rounded border border-zinc-200",children:[_.jsx("div",{className:"text-[10px] font-bold uppercase text-zinc-400 mb-1",children:"Active Worker"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Eh,{size:14,className:"animate-spin text-accent"}),_.jsx("span",{className:"font-bold text-sm",children:w})]})]}),k&&_.jsxs("div",{className:"bg-amber-50 p-3 rounded border border-amber-200 animate-pulse",children:[_.jsxs("div",{className:"text-[10px] font-bold uppercase text-amber-600 mb-2 flex items-center gap-1",children:[_.jsx(Ro,{size:12})," Interaction Required"]}),_.jsx("div",{className:"text-xs mb-3",children:k.message}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>P("Approved"),className:"flex-1 bg-amber-500 text-white text-xs font-bold py-1 rounded",children:"Approve"}),_.jsx("button",{onClick:()=>P("Rejected"),className:"flex-1 bg-white border border-amber-300 text-amber-700 text-xs font-bold py-1 rounded",children:"Reject"})]})]})]}),_.jsxs("div",{className:"flex-1 flex flex-col",children:[_.jsx("h4",{className:"font-bold text-sm uppercase text-zinc-500 mb-4",children:"State Checkpoints (Time Travel)"}),_.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2",children:[A.map((z,q)=>_.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-zinc-200 rounded hover:border-ink group",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-6 h-6 rounded-full bg-zinc-100 flex items-center justify-center text-xs font-bold text-zinc-500 border border-zinc-300",children:q+1}),_.jsxs("div",{children:[_.jsx("div",{className:"font-bold text-sm",children:z.agent}),_.jsx("div",{className:"text-xs text-zinc-400",children:new Date(z.timestamp).toLocaleTimeString()})]})]}),_.jsxs("button",{onClick:()=>M(z.id),className:"text-xs font-bold bg-zinc-50 border border-zinc-200 px-3 py-1.5 rounded opacity-0 group-hover:opacity-100 transition-opacity hover:bg-ink hover:text-white flex items-center gap-2",children:[_.jsx(UN,{size:12})," Rollback"]})]},z.id)),A.length===0&&_.jsx("div",{className:"text-zinc-400 text-sm italic",children:"No checkpoints created yet."})]})]})]})]})]}),rv=t=>{let e;const i=new Set,o=(h,g)=>{const x=typeof h=="function"?h(e):h;if(!Object.is(x,e)){const S=e;e=g??(typeof x!="object"||x===null)?x:Object.assign({},e,x),i.forEach(T=>T(e,S))}},r=()=>e,d={setState:o,getState:r,getInitialState:()=>p,subscribe:h=>(i.add(h),()=>i.delete(h))},p=e=t(o,r,d);return d},FM=(t=>t?rv(t):rv),qM=t=>t;function jM(t,e=qM){const i=bo.useSyncExternalStore(t.subscribe,bo.useCallback(()=>e(t.getState()),[t,e]),bo.useCallback(()=>e(t.getInitialState()),[t,e]));return bo.useDebugValue(i),i}const YM=t=>{const e=FM(t),i=o=>jM(e,o);return Object.assign(i,e),i},JM=(t=>YM);function t_(t,e){let i;try{i=t()}catch{return}return{getItem:r=>{var l;const u=p=>p===null?null:JSON.parse(p,void 0),d=(l=i.getItem(r))!=null?l:null;return d instanceof Promise?d.then(u):u(d)},setItem:(r,l)=>i.setItem(r,JSON.stringify(l,void 0)),removeItem:r=>i.removeItem(r)}}const Ef=t=>e=>{try{const i=t(e);return i instanceof Promise?i:{then(o){return Ef(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return Ef(o)(i)}}}},KM=(t,e)=>(i,o,r)=>{let l={storage:t_(()=>localStorage),partialize:b=>b,version:0,merge:(b,A)=>({...A,...b}),...e},u=!1;const d=new Set,p=new Set;let h=l.storage;if(!h)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),i(...b)},o,r);const g=()=>{const b=l.partialize({...o()});return h.setItem(l.name,{state:b,version:l.version})},x=r.setState;r.setState=(b,A)=>(x(b,A),g());const S=t((...b)=>(i(...b),g()),o,r);r.getInitialState=()=>S;let T;const C=()=>{var b,A;if(!h)return;u=!1,d.forEach(M=>{var k;return M((k=o())!=null?k:S)});const w=((A=l.onRehydrateStorage)==null?void 0:A.call(l,(b=o())!=null?b:S))||void 0;return Ef(h.getItem.bind(h))(l.name).then(M=>{if(M)if(typeof M.version=="number"&&M.version!==l.version){if(l.migrate){const k=l.migrate(M.state,M.version);return k instanceof Promise?k.then(P=>[!0,P]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,M.state];return[!1,void 0]}).then(M=>{var k;const[P,z]=M;if(T=l.merge(z,(k=o())!=null?k:S),i(T,!0),P)return g()}).then(()=>{w?.(T,void 0),T=o(),u=!0,p.forEach(M=>M(T))}).catch(M=>{w?.(void 0,M)})};return r.persist={setOptions:b=>{l={...l,...b},b.storage&&(h=b.storage)},clearStorage:()=>{h?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>C(),hasHydrated:()=>u,onHydrate:b=>(d.add(b),()=>{d.delete(b)}),onFinishHydration:b=>(p.add(b),()=>{p.delete(b)})},l.skipHydration||C(),T||S},XM=KM,$M="gpt-5",ZM="gpt-5-nano",WM="gpt-5-nano",bi=`
CRITICAL: You must respond ONLY in the following valid JSON format. Do not add markdown blocks like \`\`\`json.
{
  "system_state": {
    "current_phase": "<CURRENT_PHASE_NAME>",
    "status": "complete" | "interrupted", 
    "interrupt_signal": boolean, // Set true if human review is strictly needed (e.g. Data/Logic phases)
    "message": "Short status message"
  },
  "artifact": {
    "type": "code" | "markdown" | "mermaid_erd",
    "content": "<The actual content string, properly escaped>",
    "logic_summary": "Short summary of work"
  },
  "trace": {
    "agent": "<Your Agent Name>",
    "reasoning": "Brief explanation of your decisions",
    "tokens_estimated": <estimated_integer>
  }
}
`,QM=`You are the Supervisor of a software architecture team.
Your goal is to orchestrate the following workers to build a complete system specification:
1. Logic Worker (defines business rules, user stories)
2. Design Worker (defines UI tokens, component specs)
3. Validator (checks for consistency and errors)

Given a user request or a stage in the pipeline, decide which worker should act next.
If a stage is complete and valid, output "FINISH".
If you need human approval before moving to a critical phase (Data Modeling or API Specs), output "INTERRUPT".
${bi}
`,ek=`You are a Lead Product Manager and Innovation Strategist.
Your goal is to transform a basic product concept into a comprehensive, professional Product Requirements Document (PRD).

### Instructions:
1.  **Analyze & Enrich**: Take the user's input (Product Seed) and expand upon it. Infer implicit needs, standard features for this domain, and potential "delighters".
2.  **Structure**: The 'artifact.content' MUST be valid Markdown using the following structure:
    *   **# [Product Name] - PRD**
    *   **## 1. Executive Summary**: A high-level pitch of the vision, problem solved, and target audience.
    *   **## 2. User Personas**: Define 2-3 distinct personas (Name, Role, Key Goals, Pain Points).
    *   **## 3. Functional Requirements**: Detailed list of features. Group them logically (e.g., Auth, Core Workflow, Settings).
    *   **## 4. Non-Functional Requirements**: Standards for Performance, Security, Scalability, and Accessibility (WCAG).
    *   **## 5. Roadmap (MoSCoW)**:
        *   **Must Have**: Critical path for MVP.
        *   **Should Have**: High priority, not blocking launch.
        *   **Could Have**: Nice to have.
        *   **Won't Have**: Out of scope for V1.

### Response Constraints:
- Use professional, definitive, and clear language.
- Ensure the 'system_state.current_phase' is 'PRD'.
- Ensure the 'artifact.type' is 'markdown'.

${bi}
`,n_=`You are a Senior Backend Engineer.
Your task is to analyze requirements and produce Gherkin-syntax user stories and business logic constraints.

CRITICAL ARCHITECTURE STANDARDS (STRICT COMPLIANCE REQUIRED):
1. Idempotency: All state-changing API endpoints (POST/PUT/PATCH) MUST include an 'Idempotency-Key' header requirement. Define the key expiration strategy (e.g., 24h).
2. Atomicity: For complex multi-step operations (e.g., Payment + Order Creation + Inventory Deduction), explicitly specify that these must run within a Database Transaction (ACID) or use a SAGA pattern if distributed.
3. State Feedback & Reconciliation: 
   - Define mechanism for failed state updates (e.g., Dead Letter Queues, Retries with Exponential Backoff).
   - If an operation fails mid-transaction, specify the Compensation Transaction logic (undo action).
4. Concurrency Control: explicitly state if 'Optimistic Locking' (version column) or 'Pessimistic Locking' (SELECT FOR UPDATE) is required for sensitive entities (e.g. Wallet Balance, Inventory).

Output format must be a structured list of Gherkin scenarios (Given-When-Then) enriched with these technical constraints.
${bi}
`,i_=`You are a Principal Product Designer.
Your task is to define the visual language.
Specify:
- Typography (Fluid scale)
- Color Palette (Semantic naming)
- Spacing (4px grid)
- Component Primitives
${bi}
`,tk=`You are a QA Architect.
Review the output from other workers.
Check for:
- N+1 query risks in data models
- Accessibility (a11y) violations in design
- Logic gaps in user stories
Return "APPROVED" if clean, or a list of issues.
${bi}
`;async function nk(t,e,i){return await new Promise(o=>setTimeout(o,800+Math.random()*500)),e.includes("Supervisor")?"CONTINUE":`[${t}] Processed: ${i.substring(0,30)}...`}class ik{state;history;constructor(e){this.state={messages:[],next:"Supervisor",currentStage:null,artifacts:{},interrupted:!1,...e},this.history=[]}saveCheckpoint(){this.history.push(JSON.parse(JSON.stringify(this.state)))}restoreCheckpoint(e){return e>=0&&e<this.history.length?(this.state=JSON.parse(JSON.stringify(this.history[e])),this.history=this.history.slice(0,e+1),!0):!1}async supervisorNode(e,i){return this.saveCheckpoint(),console.log(`[Graph] Supervisor analyzing: ${e}`),this.shouldInterrupt(i)?{type:"INTERRUPT",reason:`Supervisor requires approval for ${i} logic.`}:{type:"CONTINUE"}}async workerNode(e,i){let o=ZM,r=n_;e==="design"&&(o=$M,r=i_),e==="deployment"&&(o=WM,r=tk);const l=await nk(o,r,i);return this.state.messages.push(l),this.state.artifacts[e]=l,l}shouldInterrupt(e){return!!["data","logic"].includes(e)}}var sk={};let ok,rk;function ak(){return{geminiUrl:ok,vertexUrl:rk}}function lk(t,e,i,o){var r,l;if(!t?.baseUrl){const u=ak();return e?(r=u.vertexUrl)!==null&&r!==void 0?r:i:(l=u.geminiUrl)!==null&&l!==void 0?l:o}return t.baseUrl}class wi{}function be(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const l=e[r];return l!=null?String(l):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function m(t,e,i){for(let l=0;l<e.length-1;l++){const u=e[l];if(u.endsWith("[]")){const d=u.slice(0,-2);if(!(d in t))if(Array.isArray(i))t[d]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[d])){const p=t[d];if(Array.isArray(i))for(let h=0;h<p.length;h++){const g=p[h];m(g,e.slice(l+1),i[h])}else for(const h of p)m(h,e.slice(l+1),i)}return}else if(u.endsWith("[0]")){const d=u.slice(0,-3);d in t||(t[d]=[{}]);const p=t[d];m(p[0],e.slice(l+1),i);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const o=e[e.length-1],r=t[o];if(r!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===r)return;if(typeof r=="object"&&typeof i=="object"&&r!==null&&i!==null)Object.assign(r,i);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[o]=i}function f(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return i;const r=e[o];if(r.endsWith("[]")){const l=r.slice(0,-2);if(l in t){const u=t[l];return Array.isArray(u)?u.map(d=>f(d,e.slice(o+1),i)):i}else return i}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return i;throw o}}function uk(t,e){for(const[i,o]of Object.entries(e)){const r=i.split("."),l=o.split("."),u=new Set;let d=-1;for(let p=0;p<r.length;p++)if(r[p]==="*"){d=p;break}if(d!==-1&&l.length>d)for(let p=d;p<l.length;p++){const h=l[p];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&u.add(h)}Af(t,r,l,0,u)}}function Af(t,e,i,o,r){if(o>=e.length||typeof t!="object"||t===null)return;const l=e[o];if(l.endsWith("[]")){const u=l.slice(0,-2),d=t;if(u in d&&Array.isArray(d[u]))for(const p of d[u])Af(p,e,i,o+1,r)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,d=Object.keys(u).filter(h=>!h.startsWith("_")&&!r.has(h)),p={};for(const h of d)p[h]=u[h];for(const[h,g]of Object.entries(p)){const x=[];for(const S of i.slice(o))S==="*"?x.push(h):x.push(S);m(u,x,g)}for(const h of d)delete u[h]}}else{const u=t;l in u&&Af(u[l],e,i,o+1,r)}}function Ch(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function ck(t){const e={},i=f(t,["operationName"]);i!=null&&m(e,["operationName"],i);const o=f(t,["resourceName"]);return o!=null&&m(e,["_url","resourceName"],o),e}function dk(t){const e={},i=f(t,["name"]);i!=null&&m(e,["name"],i);const o=f(t,["metadata"]);o!=null&&m(e,["metadata"],o);const r=f(t,["done"]);r!=null&&m(e,["done"],r);const l=f(t,["error"]);l!=null&&m(e,["error"],l);const u=f(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],hk(u)),e}function fk(t){const e={},i=f(t,["name"]);i!=null&&m(e,["name"],i);const o=f(t,["metadata"]);o!=null&&m(e,["metadata"],o);const r=f(t,["done"]);r!=null&&m(e,["done"],r);const l=f(t,["error"]);l!=null&&m(e,["error"],l);const u=f(t,["response"]);return u!=null&&m(e,["response"],pk(u)),e}function hk(t){const e={},i=f(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>mk(u))),m(e,["generatedVideos"],l)}const o=f(t,["raiMediaFilteredCount"]);o!=null&&m(e,["raiMediaFilteredCount"],o);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&m(e,["raiMediaFilteredReasons"],r),e}function pk(t){const e={},i=f(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>gk(u))),m(e,["generatedVideos"],l)}const o=f(t,["raiMediaFilteredCount"]);o!=null&&m(e,["raiMediaFilteredCount"],o);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&m(e,["raiMediaFilteredReasons"],r),e}function mk(t){const e={},i=f(t,["video"]);return i!=null&&m(e,["video"],Tk(i)),e}function gk(t){const e={},i=f(t,["_self"]);return i!=null&&m(e,["video"],bk(i)),e}function yk(t){const e={},i=f(t,["operationName"]);return i!=null&&m(e,["_url","operationName"],i),e}function vk(t){const e={},i=f(t,["operationName"]);return i!=null&&m(e,["_url","operationName"],i),e}function xk(t){const e={},i=f(t,["name"]);i!=null&&m(e,["name"],i);const o=f(t,["metadata"]);o!=null&&m(e,["metadata"],o);const r=f(t,["done"]);r!=null&&m(e,["done"],r);const l=f(t,["error"]);l!=null&&m(e,["error"],l);const u=f(t,["response"]);return u!=null&&m(e,["response"],Sk(u)),e}function Sk(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["parent"]);o!=null&&m(e,["parent"],o);const r=f(t,["documentName"]);return r!=null&&m(e,["documentName"],r),e}function s_(t){const e={},i=f(t,["name"]);i!=null&&m(e,["name"],i);const o=f(t,["metadata"]);o!=null&&m(e,["metadata"],o);const r=f(t,["done"]);r!=null&&m(e,["done"],r);const l=f(t,["error"]);l!=null&&m(e,["error"],l);const u=f(t,["response"]);return u!=null&&m(e,["response"],_k(u)),e}function _k(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["parent"]);o!=null&&m(e,["parent"],o);const r=f(t,["documentName"]);return r!=null&&m(e,["documentName"],r),e}function Tk(t){const e={},i=f(t,["uri"]);i!=null&&m(e,["uri"],i);const o=f(t,["encodedVideo"]);o!=null&&m(e,["videoBytes"],Ch(o));const r=f(t,["encoding"]);return r!=null&&m(e,["mimeType"],r),e}function bk(t){const e={},i=f(t,["gcsUri"]);i!=null&&m(e,["uri"],i);const o=f(t,["bytesBase64Encoded"]);o!=null&&m(e,["videoBytes"],Ch(o));const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}var av;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(av||(av={}));var lv;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(lv||(lv={}));var uv;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(uv||(uv={}));var St;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(St||(St={}));var cv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(cv||(cv={}));var dv;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(dv||(dv={}));var fv;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(fv||(fv={}));var hv;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(hv||(hv={}));var pv;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(pv||(pv={}));var mv;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(mv||(mv={}));var gv;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(gv||(gv={}));var yv;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(yv||(yv={}));var vv;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(vv||(vv={}));var xv;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(xv||(xv={}));var Sv;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Sv||(Sv={}));var _v;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_v||(_v={}));var Tv;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Tv||(Tv={}));var bv;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(bv||(bv={}));var Ev;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ev||(Ev={}));var Xl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Xl||(Xl={}));var Av;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Av||(Av={}));var Cv;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Cv||(Cv={}));var wv;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wv||(wv={}));var Cf;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Cf||(Cf={}));var Nv;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Nv||(Nv={}));var Rv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Rv||(Rv={}));var Mv;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Mv||(Mv={}));var kv;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(kv||(kv={}));var Iv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Iv||(Iv={}));var Dv;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Dv||(Dv={}));var zv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(zv||(zv={}));var Pv;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Pv||(Pv={}));var Uv;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Uv||(Uv={}));var Lv;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Lv||(Lv={}));var Vv;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Vv||(Vv={}));var Ov;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ov||(Ov={}));var Bv;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Bv||(Bv={}));var Gv;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Gv||(Gv={}));var Hv;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Hv||(Hv={}));var Fv;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Fv||(Fv={}));var qv;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(qv||(qv={}));var jv;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(jv||(jv={}));var Yv;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Yv||(Yv={}));var Jv;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Jv||(Jv={}));var Kv;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Kv||(Kv={}));var Xv;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Xv||(Xv={}));var $v;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})($v||($v={}));var Zv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Zv||(Zv={}));var Wv;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Wv||(Wv={}));var Qv;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Qv||(Qv={}));var ex;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ex||(ex={}));var tx;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(tx||(tx={}));var nx;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(nx||(nx={}));var ix;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ix||(ix={}));var sx;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(sx||(sx={}));var Mo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Mo||(Mo={}));class wf{constructor(e){const i={};for(const o of e.headers.entries())i[o[0]]=o[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Hr{get text(){var e,i,o,r,l,u,d,p;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",g=!1;const x=[];for(const S of(p=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&p!==void 0?p:[]){for(const[T,C]of Object.entries(S))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(C!==null||C!==void 0)&&x.push(T);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;g=!0,h+=S.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?h:void 0}get data(){var e,i,o,r,l,u,d,p;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const g=[];for(const x of(p=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&p!==void 0?p:[]){for(const[S,T]of Object.entries(x))S!=="inlineData"&&(T!==null||T!==void 0)&&g.push(S);x.inlineData&&typeof x.inlineData.data=="string"&&(h+=atob(x.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,i,o,r,l,u,d,p;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(p=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if(h?.length!==0)return h}get executableCode(){var e,i,o,r,l,u,d,p,h;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(p=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if(g?.length!==0)return(h=g?.[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,i,o,r,l,u,d,p,h;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(p=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if(g?.length!==0)return(h=g?.[0])===null||h===void 0?void 0:h.output}}class ox{}class rx{}class Ek{}class Ak{}class Ck{}class wk{}class ax{}class lx{}class ux{}class Nk{}class $l{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new $l;let r;const l=e;return i?r=fk(l):r=dk(l),Object.assign(o,r),o}}class cx{}class dx{}class fx{}class hx{}class Rk{}class Mk{}class kk{}class wh{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new wh,l=xk(e);return Object.assign(o,l),o}}class Ik{}class Dk{}class zk{}class px{}class Pk{get text(){var e,i,o;let r="",l=!1;const u=[];for(const d of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[p,h]of Object.entries(d))p!=="text"&&p!=="thought"&&h!==null&&u.push(p);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;l=!0,r+=d.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?r:void 0}get data(){var e,i,o;let r="";const l=[];for(const u of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[d,p]of Object.entries(u))d!=="inlineData"&&p!==null&&l.push(d);u.inlineData&&typeof u.inlineData.data=="string"&&(r+=atob(u.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Uk{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Nh{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new Nh,l=s_(e);return Object.assign(o,l),o}}function et(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function o_(t,e){const i=et(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function r_(t){return Array.isArray(t)?t.map(e=>Zl(e)):[Zl(t)]}function Zl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function a_(t){const e=Zl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function l_(t){const e=Zl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function mx(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function u_(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>mx(e)):[mx(t)]}function Nf(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function gx(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function yx(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Wt(t){if(t==null)throw new Error("ContentUnion is required");return Nf(t)?t:{role:"user",parts:u_(t)}}function Rh(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const o=Wt(i);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const i=Wt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Wt(i)):[Wt(e)]}function Pn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(gx(t)||yx(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Wt(t)]}const e=[],i=[],o=Nf(t[0]);for(const r of t){const l=Nf(r);if(l!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(r);else{if(gx(r)||yx(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(r)}}return o||e.push({role:"user",parts:u_(i)}),e}function Lk(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(o=>o!=="null");if(i.length===1)e.type=Object.values(St).includes(i[0].toUpperCase())?i[0].toUpperCase():St.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of i)e.anyOf.push({type:Object.values(St).includes(o.toUpperCase())?o.toUpperCase():St.TYPE_UNSPECIFIED})}}function Do(t){const e={},i=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&Lk(t.type,e);for(const[u,d]of Object.entries(t))if(d!=null)if(u=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(St).includes(d.toUpperCase())?d.toUpperCase():St.TYPE_UNSPECIFIED}else if(i.includes(u))e[u]=Do(d);else if(o.includes(u)){const p=[];for(const h of d){if(h.type=="null"){e.nullable=!0;continue}p.push(Do(h))}e[u]=p}else if(r.includes(u)){const p={};for(const[h,g]of Object.entries(d))p[h]=Do(g);e[u]=p}else{if(u==="additionalProperties")continue;e[u]=d}return e}function Mh(t){return Do(t)}function kh(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Ih(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ho(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Do(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Do(e.response));return t}function Fo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function Vk(t,e,i,o=1){const r=!e.startsWith(`${i}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:r?`${i}/${e}`:e}function Ni(t,e){if(typeof e!="string")throw new Error("name must be a string");return Vk(t,e,"cachedContents")}function c_(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ss(t){return Ch(t)}function Ok(t){return t!=null&&typeof t=="object"&&"name"in t}function Bk(t){return t!=null&&typeof t=="object"&&"video"in t}function Gk(t){return t!=null&&typeof t=="object"&&"uri"in t}function d_(t){var e;let i;if(Ok(t)&&(i=t.name),!(Gk(t)&&(i=t.uri,i===void 0))&&!(Bk(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const r=i.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${i}`);i=r[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function f_(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function h_(t){for(const e of["models","tunedModels","publisherModels"])if(Hk(t,e))return t[e];return[]}function Hk(t,e){return t!==null&&typeof t=="object"&&e in t}function Fk(t,e={}){const i=t,o={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(o.responseJsonSchema=i.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function qk(t,e={}){const i=[],o=new Set;for(const r of t){const l=r.name;if(o.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);o.add(l);const u=Fk(r,e);u.functionDeclarations&&i.push(...u.functionDeclarations)}return{functionDeclarations:i}}function p_(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const o=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,r=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function jk(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function m_(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const r=i.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let l=!1;for(const u of r){if(typeof u!="object"||u===null)continue;const p=u.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function qo(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function g_(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function Yk(t){const e={},i=f(t,["responsesFile"]);i!=null&&m(e,["fileName"],i);const o=f(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>CI(u))),m(e,["inlinedResponses"],l)}const r=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["inlinedEmbedContentResponses"],l)}return e}function Jk(t){const e={},i=f(t,["predictionsFormat"]);i!=null&&m(e,["format"],i);const o=f(t,["gcsDestination","outputUriPrefix"]);o!=null&&m(e,["gcsUri"],o);const r=f(t,["bigqueryDestination","outputUri"]);return r!=null&&m(e,["bigqueryUri"],r),e}function Kk(t){const e={},i=f(t,["format"]);i!=null&&m(e,["predictionsFormat"],i);const o=f(t,["gcsUri"]);o!=null&&m(e,["gcsDestination","outputUriPrefix"],o);const r=f(t,["bigqueryUri"]);if(r!=null&&m(e,["bigqueryDestination","outputUri"],r),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Vl(t){const e={},i=f(t,["name"]);i!=null&&m(e,["name"],i);const o=f(t,["metadata","displayName"]);o!=null&&m(e,["displayName"],o);const r=f(t,["metadata","state"]);r!=null&&m(e,["state"],g_(r));const l=f(t,["metadata","createTime"]);l!=null&&m(e,["createTime"],l);const u=f(t,["metadata","endTime"]);u!=null&&m(e,["endTime"],u);const d=f(t,["metadata","updateTime"]);d!=null&&m(e,["updateTime"],d);const p=f(t,["metadata","model"]);p!=null&&m(e,["model"],p);const h=f(t,["metadata","output"]);return h!=null&&m(e,["dest"],Yk(m_(h))),e}function Rf(t){const e={},i=f(t,["name"]);i!=null&&m(e,["name"],i);const o=f(t,["displayName"]);o!=null&&m(e,["displayName"],o);const r=f(t,["state"]);r!=null&&m(e,["state"],g_(r));const l=f(t,["error"]);l!=null&&m(e,["error"],l);const u=f(t,["createTime"]);u!=null&&m(e,["createTime"],u);const d=f(t,["startTime"]);d!=null&&m(e,["startTime"],d);const p=f(t,["endTime"]);p!=null&&m(e,["endTime"],p);const h=f(t,["updateTime"]);h!=null&&m(e,["updateTime"],h);const g=f(t,["model"]);g!=null&&m(e,["model"],g);const x=f(t,["inputConfig"]);x!=null&&m(e,["src"],Xk(x));const S=f(t,["outputConfig"]);S!=null&&m(e,["dest"],Jk(m_(S)));const T=f(t,["completionStats"]);return T!=null&&m(e,["completionStats"],T),e}function Xk(t){const e={},i=f(t,["instancesFormat"]);i!=null&&m(e,["format"],i);const o=f(t,["gcsSource","uris"]);o!=null&&m(e,["gcsUri"],o);const r=f(t,["bigquerySource","inputUri"]);return r!=null&&m(e,["bigqueryUri"],r),e}function $k(t,e){const i={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=f(e,["fileName"]);o!=null&&m(i,["fileName"],o);const r=f(e,["inlinedRequests"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>AI(t,u))),m(i,["requests","requests"],l)}return i}function Zk(t){const e={},i=f(t,["format"]);i!=null&&m(e,["instancesFormat"],i);const o=f(t,["gcsUri"]);o!=null&&m(e,["gcsSource","uris"],o);const r=f(t,["bigqueryUri"]);if(r!=null&&m(e,["bigquerySource","inputUri"],r),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Wk(t){const e={},i=f(t,["data"]);if(i!=null&&m(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function Qk(t,e){const i={},o=f(e,["name"]);return o!=null&&m(i,["_url","name"],qo(t,o)),i}function eI(t,e){const i={},o=f(e,["name"]);return o!=null&&m(i,["_url","name"],qo(t,o)),i}function tI(t){const e={},i=f(t,["content"]);i!=null&&m(e,["content"],i);const o=f(t,["citationMetadata"]);o!=null&&m(e,["citationMetadata"],nI(o));const r=f(t,["tokenCount"]);r!=null&&m(e,["tokenCount"],r);const l=f(t,["finishReason"]);l!=null&&m(e,["finishReason"],l);const u=f(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const d=f(t,["groundingMetadata"]);d!=null&&m(e,["groundingMetadata"],d);const p=f(t,["index"]);p!=null&&m(e,["index"],p);const h=f(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const g=f(t,["safetyRatings"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(T=>T)),m(e,["safetyRatings"],S)}const x=f(t,["urlContextMetadata"]);return x!=null&&m(e,["urlContextMetadata"],x),e}function nI(t){const e={},i=f(t,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),m(e,["citations"],o)}return e}function y_(t){const e={},i=f(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>DI(l))),m(e,["parts"],r)}const o=f(t,["role"]);return o!=null&&m(e,["role"],o),e}function iI(t,e){const i={},o=f(t,["displayName"]);if(e!==void 0&&o!=null&&m(e,["batch","displayName"],o),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function sI(t,e){const i={},o=f(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const r=f(t,["dest"]);return e!==void 0&&r!=null&&m(e,["outputConfig"],Kk(jk(r))),i}function vx(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","model"],et(t,o));const r=f(e,["src"]);r!=null&&m(i,["batch","inputConfig"],$k(t,p_(t,r)));const l=f(e,["config"]);return l!=null&&iI(l,i),i}function oI(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["model"],et(t,o));const r=f(e,["src"]);r!=null&&m(i,["inputConfig"],Zk(p_(t,r)));const l=f(e,["config"]);return l!=null&&sI(l,i),i}function rI(t,e){const i={},o=f(t,["displayName"]);return e!==void 0&&o!=null&&m(e,["batch","displayName"],o),i}function aI(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","model"],et(t,o));const r=f(e,["src"]);r!=null&&m(i,["batch","inputConfig"],pI(t,r));const l=f(e,["config"]);return l!=null&&rI(l,i),i}function lI(t,e){const i={},o=f(e,["name"]);return o!=null&&m(i,["_url","name"],qo(t,o)),i}function uI(t,e){const i={},o=f(e,["name"]);return o!=null&&m(i,["_url","name"],qo(t,o)),i}function cI(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["name"]);o!=null&&m(e,["name"],o);const r=f(t,["done"]);r!=null&&m(e,["done"],r);const l=f(t,["error"]);return l!=null&&m(e,["error"],l),e}function dI(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["name"]);o!=null&&m(e,["name"],o);const r=f(t,["done"]);r!=null&&m(e,["done"],r);const l=f(t,["error"]);return l!=null&&m(e,["error"],l),e}function fI(t,e){const i={},o=f(e,["contents"]);if(o!=null){let l=Rh(t,o);Array.isArray(l)&&(l=l.map(u=>u)),m(i,["requests[]","request","content"],l)}const r=f(e,["config"]);return r!=null&&(m(i,["_self"],hI(r,i)),uk(i,{"requests[].*":"requests[].request.*"})),i}function hI(t,e){const i={},o=f(t,["taskType"]);e!==void 0&&o!=null&&m(e,["requests[]","taskType"],o);const r=f(t,["title"]);e!==void 0&&r!=null&&m(e,["requests[]","title"],r);const l=f(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function pI(t,e){const i={},o=f(e,["fileName"]);o!=null&&m(i,["file_name"],o);const r=f(e,["inlinedRequests"]);return r!=null&&m(i,["requests"],fI(t,r)),i}function mI(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const o=f(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function gI(t){const e={},i=f(t,["id"]);i!=null&&m(e,["id"],i);const o=f(t,["args"]);o!=null&&m(e,["args"],o);const r=f(t,["name"]);if(r!=null&&m(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function yI(t){const e={},i=f(t,["mode"]);i!=null&&m(e,["mode"],i);const o=f(t,["allowedFunctionNames"]);if(o!=null&&m(e,["allowedFunctionNames"],o),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function vI(t,e,i){const o={},r=f(e,["systemInstruction"]);i!==void 0&&r!=null&&m(i,["systemInstruction"],y_(Wt(r)));const l=f(e,["temperature"]);l!=null&&m(o,["temperature"],l);const u=f(e,["topP"]);u!=null&&m(o,["topP"],u);const d=f(e,["topK"]);d!=null&&m(o,["topK"],d);const p=f(e,["candidateCount"]);p!=null&&m(o,["candidateCount"],p);const h=f(e,["maxOutputTokens"]);h!=null&&m(o,["maxOutputTokens"],h);const g=f(e,["stopSequences"]);g!=null&&m(o,["stopSequences"],g);const x=f(e,["responseLogprobs"]);x!=null&&m(o,["responseLogprobs"],x);const S=f(e,["logprobs"]);S!=null&&m(o,["logprobs"],S);const T=f(e,["presencePenalty"]);T!=null&&m(o,["presencePenalty"],T);const C=f(e,["frequencyPenalty"]);C!=null&&m(o,["frequencyPenalty"],C);const b=f(e,["seed"]);b!=null&&m(o,["seed"],b);const A=f(e,["responseMimeType"]);A!=null&&m(o,["responseMimeType"],A);const w=f(e,["responseSchema"]);w!=null&&m(o,["responseSchema"],Mh(w));const M=f(e,["responseJsonSchema"]);if(M!=null&&m(o,["responseJsonSchema"],M),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=f(e,["safetySettings"]);if(i!==void 0&&k!=null){let $=k;Array.isArray($)&&($=$.map(R=>zI(R))),m(i,["safetySettings"],$)}const P=f(e,["tools"]);if(i!==void 0&&P!=null){let $=Fo(P);Array.isArray($)&&($=$.map(R=>UI(Ho(R)))),m(i,["tools"],$)}const z=f(e,["toolConfig"]);if(i!==void 0&&z!=null&&m(i,["toolConfig"],PI(z)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=f(e,["cachedContent"]);i!==void 0&&q!=null&&m(i,["cachedContent"],Ni(t,q));const O=f(e,["responseModalities"]);O!=null&&m(o,["responseModalities"],O);const G=f(e,["mediaResolution"]);G!=null&&m(o,["mediaResolution"],G);const F=f(e,["speechConfig"]);if(F!=null&&m(o,["speechConfig"],kh(F)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=f(e,["thinkingConfig"]);ie!=null&&m(o,["thinkingConfig"],ie);const ve=f(e,["imageConfig"]);ve!=null&&m(o,["imageConfig"],EI(ve));const B=f(e,["enableEnhancedCivicAnswers"]);return B!=null&&m(o,["enableEnhancedCivicAnswers"],B),o}function xI(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(h=>tI(h))),m(e,["candidates"],p)}const r=f(t,["modelVersion"]);r!=null&&m(e,["modelVersion"],r);const l=f(t,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const u=f(t,["responseId"]);u!=null&&m(e,["responseId"],u);const d=f(t,["usageMetadata"]);return d!=null&&m(e,["usageMetadata"],d),e}function SI(t,e){const i={},o=f(e,["name"]);return o!=null&&m(i,["_url","name"],qo(t,o)),i}function _I(t,e){const i={},o=f(e,["name"]);return o!=null&&m(i,["_url","name"],qo(t,o)),i}function TI(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function bI(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&m(e,["timeRangeFilter"],i),e}function EI(t){const e={},i=f(t,["aspectRatio"]);i!=null&&m(e,["aspectRatio"],i);const o=f(t,["imageSize"]);if(o!=null&&m(e,["imageSize"],o),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function AI(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["request","model"],et(t,o));const r=f(e,["contents"]);if(r!=null){let d=Pn(r);Array.isArray(d)&&(d=d.map(p=>y_(p))),m(i,["request","contents"],d)}const l=f(e,["metadata"]);l!=null&&m(i,["metadata"],l);const u=f(e,["config"]);return u!=null&&m(i,["request","generationConfig"],vI(t,u,f(i,["request"],{}))),i}function CI(t){const e={},i=f(t,["response"]);i!=null&&m(e,["response"],xI(i));const o=f(t,["error"]);return o!=null&&m(e,["error"],o),e}function wI(t,e){const i={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const r=f(t,["pageToken"]);if(e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function NI(t,e){const i={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const r=f(t,["pageToken"]);e!==void 0&&r!=null&&m(e,["_query","pageToken"],r);const l=f(t,["filter"]);return e!==void 0&&l!=null&&m(e,["_query","filter"],l),i}function RI(t){const e={},i=f(t,["config"]);return i!=null&&wI(i,e),e}function MI(t){const e={},i=f(t,["config"]);return i!=null&&NI(i,e),e}function kI(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const r=f(t,["operations"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Vl(u))),m(e,["batchJobs"],l)}return e}function II(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const r=f(t,["batchPredictionJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Rf(u))),m(e,["batchJobs"],l)}return e}function DI(t){const e={},i=f(t,["mediaResolution"]);i!=null&&m(e,["mediaResolution"],i);const o=f(t,["codeExecutionResult"]);o!=null&&m(e,["codeExecutionResult"],o);const r=f(t,["executableCode"]);r!=null&&m(e,["executableCode"],r);const l=f(t,["fileData"]);l!=null&&m(e,["fileData"],mI(l));const u=f(t,["functionCall"]);u!=null&&m(e,["functionCall"],gI(u));const d=f(t,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=f(t,["inlineData"]);p!=null&&m(e,["inlineData"],Wk(p));const h=f(t,["text"]);h!=null&&m(e,["text"],h);const g=f(t,["thought"]);g!=null&&m(e,["thought"],g);const x=f(t,["thoughtSignature"]);x!=null&&m(e,["thoughtSignature"],x);const S=f(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function zI(t){const e={},i=f(t,["category"]);if(i!=null&&m(e,["category"],i),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=f(t,["threshold"]);return o!=null&&m(e,["threshold"],o),e}function PI(t){const e={},i=f(t,["functionCallingConfig"]);i!=null&&m(e,["functionCallingConfig"],yI(i));const o=f(t,["retrievalConfig"]);return o!=null&&m(e,["retrievalConfig"],o),e}function UI(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(x=>x)),m(e,["functionDeclarations"],g)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const r=f(t,["computerUse"]);r!=null&&m(e,["computerUse"],r);const l=f(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=f(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&m(e,["googleMaps"],TI(d));const p=f(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],bI(p));const h=f(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}var Ci;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Ci||(Ci={}));class Ds{constructor(e,i,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,o,r)}init(e,i,o){var r,l;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i?.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!o||Object.keys(o).length===0?u={config:{}}:typeof o=="object"?u=Object.assign({},o):u=o,u.config&&(u.config.pageToken=i.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(r=u.config)===null||r===void 0?void 0:r.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}class LI extends wi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ds(Ci.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=vx(this.apiClient,e),o=i._url,r=be("{model}:batchGenerateContent",o),d=i.batch.inputConfig.requests,p=d.requests,h=[];for(const g of p){const x=Object.assign({},g);if(x.systemInstruction){const S=x.systemInstruction;delete x.systemInstruction;const T=x.request;T.systemInstruction=S,x.request=T}h.push(x)}return d.requests=h,delete i.config,delete i._url,delete i._query,{path:r,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const o=i?Object.assign({},i):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const l=this.getGcsUri(e),u=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?o.dest=`${l.slice(0,-6)}/dest`:o.dest=`${l}_dest_${r}`;else if(u)o.dest=`${u}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=oI(this.apiClient,e);return d=be("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u.then(g=>Rf(g))}else{const h=vx(this.apiClient,e);return d=be("{model}:batchGenerateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>Vl(g))}}async createEmbeddingsInternal(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=aI(this.apiClient,e);return l=be("{model}:asyncBatchEmbedContent",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>Vl(p))}}async get(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=_I(this.apiClient,e);return d=be("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u.then(g=>Rf(g))}else{const h=SI(this.apiClient,e);return d=be("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>Vl(g))}}async cancel(e){var i,o,r,l;let u="",d={};if(this.apiClient.isVertexAI()){const p=eI(this.apiClient,e);u=be("batchPredictionJobs/{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const p=Qk(this.apiClient,e);u=be("batches/{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=MI(e);return d=be("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=II(g),S=new px;return Object.assign(S,x),S})}else{const h=RI(e);return d=be("batches",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=kI(g),S=new px;return Object.assign(S,x),S})}}async delete(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=uI(this.apiClient,e);return d=be("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>dI(g))}else{const h=lI(this.apiClient,e);return d=be("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>cI(g))}}}function VI(t){const e={},i=f(t,["data"]);if(i!=null&&m(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function xx(t){const e={},i=f(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>aD(l))),m(e,["parts"],r)}const o=f(t,["role"]);return o!=null&&m(e,["role"],o),e}function OI(t,e){const i={},o=f(t,["ttl"]);e!==void 0&&o!=null&&m(e,["ttl"],o);const r=f(t,["expireTime"]);e!==void 0&&r!=null&&m(e,["expireTime"],r);const l=f(t,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const u=f(t,["contents"]);if(e!==void 0&&u!=null){let g=Pn(u);Array.isArray(g)&&(g=g.map(x=>xx(x))),m(e,["contents"],g)}const d=f(t,["systemInstruction"]);e!==void 0&&d!=null&&m(e,["systemInstruction"],xx(Wt(d)));const p=f(t,["tools"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(x=>uD(x))),m(e,["tools"],g)}const h=f(t,["toolConfig"]);if(e!==void 0&&h!=null&&m(e,["toolConfig"],lD(h)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function BI(t,e){const i={},o=f(t,["ttl"]);e!==void 0&&o!=null&&m(e,["ttl"],o);const r=f(t,["expireTime"]);e!==void 0&&r!=null&&m(e,["expireTime"],r);const l=f(t,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const u=f(t,["contents"]);if(e!==void 0&&u!=null){let x=Pn(u);Array.isArray(x)&&(x=x.map(S=>S)),m(e,["contents"],x)}const d=f(t,["systemInstruction"]);e!==void 0&&d!=null&&m(e,["systemInstruction"],Wt(d));const p=f(t,["tools"]);if(e!==void 0&&p!=null){let x=p;Array.isArray(x)&&(x=x.map(S=>cD(S))),m(e,["tools"],x)}const h=f(t,["toolConfig"]);e!==void 0&&h!=null&&m(e,["toolConfig"],h);const g=f(t,["kmsKeyName"]);return e!==void 0&&g!=null&&m(e,["encryption_spec","kmsKeyName"],g),i}function GI(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["model"],o_(t,o));const r=f(e,["config"]);return r!=null&&OI(r,i),i}function HI(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["model"],o_(t,o));const r=f(e,["config"]);return r!=null&&BI(r,i),i}function FI(t,e){const i={},o=f(e,["name"]);return o!=null&&m(i,["_url","name"],Ni(t,o)),i}function qI(t,e){const i={},o=f(e,["name"]);return o!=null&&m(i,["_url","name"],Ni(t,o)),i}function jI(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function YI(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function JI(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const o=f(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function KI(t){const e={},i=f(t,["id"]);i!=null&&m(e,["id"],i);const o=f(t,["args"]);o!=null&&m(e,["args"],o);const r=f(t,["name"]);if(r!=null&&m(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function XI(t){const e={},i=f(t,["mode"]);i!=null&&m(e,["mode"],i);const o=f(t,["allowedFunctionNames"]);if(o!=null&&m(e,["allowedFunctionNames"],o),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function $I(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=f(t,["description"]);i!=null&&m(e,["description"],i);const o=f(t,["name"]);o!=null&&m(e,["name"],o);const r=f(t,["parameters"]);r!=null&&m(e,["parameters"],r);const l=f(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const u=f(t,["response"]);u!=null&&m(e,["response"],u);const d=f(t,["responseJsonSchema"]);return d!=null&&m(e,["responseJsonSchema"],d),e}function ZI(t,e){const i={},o=f(e,["name"]);return o!=null&&m(i,["_url","name"],Ni(t,o)),i}function WI(t,e){const i={},o=f(e,["name"]);return o!=null&&m(i,["_url","name"],Ni(t,o)),i}function QI(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function eD(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&m(e,["timeRangeFilter"],i),e}function tD(t,e){const i={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),i}function nD(t,e){const i={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),i}function iD(t){const e={},i=f(t,["config"]);return i!=null&&tD(i,e),e}function sD(t){const e={},i=f(t,["config"]);return i!=null&&nD(i,e),e}function oD(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const r=f(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["cachedContents"],l)}return e}function rD(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const r=f(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["cachedContents"],l)}return e}function aD(t){const e={},i=f(t,["mediaResolution"]);i!=null&&m(e,["mediaResolution"],i);const o=f(t,["codeExecutionResult"]);o!=null&&m(e,["codeExecutionResult"],o);const r=f(t,["executableCode"]);r!=null&&m(e,["executableCode"],r);const l=f(t,["fileData"]);l!=null&&m(e,["fileData"],JI(l));const u=f(t,["functionCall"]);u!=null&&m(e,["functionCall"],KI(u));const d=f(t,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=f(t,["inlineData"]);p!=null&&m(e,["inlineData"],VI(p));const h=f(t,["text"]);h!=null&&m(e,["text"],h);const g=f(t,["thought"]);g!=null&&m(e,["thought"],g);const x=f(t,["thoughtSignature"]);x!=null&&m(e,["thoughtSignature"],x);const S=f(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function lD(t){const e={},i=f(t,["functionCallingConfig"]);i!=null&&m(e,["functionCallingConfig"],XI(i));const o=f(t,["retrievalConfig"]);return o!=null&&m(e,["retrievalConfig"],o),e}function uD(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(x=>x)),m(e,["functionDeclarations"],g)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const r=f(t,["computerUse"]);r!=null&&m(e,["computerUse"],r);const l=f(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=f(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&m(e,["googleMaps"],QI(d));const p=f(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],eD(p));const h=f(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function cD(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>$I(S))),m(e,["functionDeclarations"],x)}const o=f(t,["retrieval"]);o!=null&&m(e,["retrieval"],o);const r=f(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const l=f(t,["computerUse"]);if(l!=null&&m(e,["computerUse"],l),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=f(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const d=f(t,["enterpriseWebSearch"]);d!=null&&m(e,["enterpriseWebSearch"],d);const p=f(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const h=f(t,["googleSearch"]);h!=null&&m(e,["googleSearch"],h);const g=f(t,["urlContext"]);return g!=null&&m(e,["urlContext"],g),e}function dD(t,e){const i={},o=f(t,["ttl"]);e!==void 0&&o!=null&&m(e,["ttl"],o);const r=f(t,["expireTime"]);return e!==void 0&&r!=null&&m(e,["expireTime"],r),i}function fD(t,e){const i={},o=f(t,["ttl"]);e!==void 0&&o!=null&&m(e,["ttl"],o);const r=f(t,["expireTime"]);return e!==void 0&&r!=null&&m(e,["expireTime"],r),i}function hD(t,e){const i={},o=f(e,["name"]);o!=null&&m(i,["_url","name"],Ni(t,o));const r=f(e,["config"]);return r!=null&&dD(r,i),i}function pD(t,e){const i={},o=f(e,["name"]);o!=null&&m(i,["_url","name"],Ni(t,o));const r=f(e,["config"]);return r!=null&&fD(r,i),i}class mD extends wi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ds(Ci.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(i),i)}async create(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=HI(this.apiClient,e);return d=be("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const h=GI(this.apiClient,e);return d=be("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async get(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=WI(this.apiClient,e);return d=be("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const h=ZI(this.apiClient,e);return d=be("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async delete(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=qI(this.apiClient,e);return d=be("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=YI(g),S=new fx;return Object.assign(S,x),S})}else{const h=FI(this.apiClient,e);return d=be("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=jI(g),S=new fx;return Object.assign(S,x),S})}}async update(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=pD(this.apiClient,e);return d=be("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const h=hD(this.apiClient,e);return d=be("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async listInternal(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=sD(e);return d=be("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=rD(g),S=new hx;return Object.assign(S,x),S})}else{const h=iD(e);return d=be("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=oD(g),S=new hx;return Object.assign(S,x),S})}}}function Wl(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(i[o[r]]=t[o[r]]);return i}function Sx(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Le(t){return this instanceof Le?(this.v=t,this):new Le(t)}function Fn(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),r,l=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),r[Symbol.asyncIterator]=function(){return this},r;function u(T){return function(C){return Promise.resolve(C).then(T,x)}}function d(T,C){o[T]&&(r[T]=function(b){return new Promise(function(A,w){l.push([T,b,A,w])>1||p(T,b)})},C&&(r[T]=C(r[T])))}function p(T,C){try{h(o[T](C))}catch(b){S(l[0][3],b)}}function h(T){T.value instanceof Le?Promise.resolve(T.value.v).then(g,x):S(l[0][2],T)}function g(T){p("next",T)}function x(T){p("throw",T)}function S(T,C){T(C),l.shift(),l.length&&p(l[0][0],l[0][1])}}function qn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof Sx=="function"?Sx(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(l){i[l]=t[l]&&function(u){return new Promise(function(d,p){u=t[l](u),r(d,p,u.done,u.value)})}}function r(l,u,d,p){Promise.resolve(p).then(function(h){l({value:h,done:d})},u)}}function gD(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:v_(i)}function v_(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function yD(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function _x(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let o=0;for(;o<i;)if(t[o].role==="user")e.push(t[o]),o++;else{const r=[];let l=!0;for(;o<i&&t[o].role==="model";)r.push(t[o]),l&&!v_(t[o])&&(l=!1),o++;l?e.push(...r):e.pop()}return e}class vD{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new xD(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class xD{constructor(e,i,o,r={},l=[]){this.apiClient=e,this.modelsModule=i,this.model=o,this.config=r,this.history=l,this.sendPromise=Promise.resolve(),yD(l)}async sendMessage(e){var i;await this.sendPromise;const o=Wt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,u,d;const p=await r,h=(u=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,g=p.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let S=[];g!=null&&(S=(d=g.slice(x))!==null&&d!==void 0?d:[]);const T=h?[h]:[];this.recordHistory(o,T,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var i;await this.sendPromise;const o=Wt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const l=await r;return this.processStreamResponse(l,o)}getHistory(e=!1){const i=e?_x(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return Fn(this,arguments,function*(){var r,l,u,d,p,h;const g=[];try{for(var x=!0,S=qn(e),T;T=yield Le(S.next()),r=T.done,!r;x=!0){d=T.value,x=!1;const C=d;if(gD(C)){const b=(h=(p=C.candidates)===null||p===void 0?void 0:p[0])===null||h===void 0?void 0:h.content;b!==void 0&&g.push(b)}yield yield Le(C)}}catch(C){l={error:C}}finally{try{!x&&!r&&(u=S.return)&&(yield Le(u.call(S)))}finally{if(l)throw l.error}}this.recordHistory(i,g)})}recordHistory(e,i,o){let r=[];i.length>0&&i.every(l=>l.role!==void 0)?r=i:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(..._x(o)):this.history.push(e),this.history.push(...r)}}class lu extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,lu.prototype)}}function SD(t){const e={},i=f(t,["file"]);return i!=null&&m(e,["file"],i),e}function _D(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function TD(t){const e={},i=f(t,["name"]);return i!=null&&m(e,["_url","file"],d_(i)),e}function bD(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function ED(t){const e={},i=f(t,["name"]);return i!=null&&m(e,["_url","file"],d_(i)),e}function AD(t,e){const i={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),i}function CD(t){const e={},i=f(t,["config"]);return i!=null&&AD(i,e),e}function wD(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const r=f(t,["files"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["files"],l)}return e}class ND extends wi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ds(Ci.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=CD(e);return l=be("files",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const h=wD(p),g=new Ik;return Object.assign(g,h),g})}}async createInternal(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=SD(e);return l=be("upload/v1beta/files",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const h=_D(p),g=new Dk;return Object.assign(g,h),g})}}async get(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=ED(e);return l=be("files/{file}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=TD(e);return l=be("files/{file}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const h=bD(p),g=new zk;return Object.assign(g,h),g})}}}function Ol(t){const e={},i=f(t,["data"]);if(i!=null&&m(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function RD(t){const e={},i=f(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>jD(l))),m(e,["parts"],r)}const o=f(t,["role"]);return o!=null&&m(e,["role"],o),e}function MD(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const o=f(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function kD(t){const e={},i=f(t,["id"]);i!=null&&m(e,["id"],i);const o=f(t,["args"]);o!=null&&m(e,["args"],o);const r=f(t,["name"]);if(r!=null&&m(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ID(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=f(t,["description"]);i!=null&&m(e,["description"],i);const o=f(t,["name"]);o!=null&&m(e,["name"],o);const r=f(t,["parameters"]);r!=null&&m(e,["parameters"],r);const l=f(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const u=f(t,["response"]);u!=null&&m(e,["response"],u);const d=f(t,["responseJsonSchema"]);return d!=null&&m(e,["responseJsonSchema"],d),e}function DD(t){const e={},i=f(t,["modelSelectionConfig"]);i!=null&&m(e,["modelConfig"],i);const o=f(t,["responseJsonSchema"]);o!=null&&m(e,["responseJsonSchema"],o);const r=f(t,["audioTimestamp"]);r!=null&&m(e,["audioTimestamp"],r);const l=f(t,["candidateCount"]);l!=null&&m(e,["candidateCount"],l);const u=f(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const d=f(t,["frequencyPenalty"]);d!=null&&m(e,["frequencyPenalty"],d);const p=f(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const h=f(t,["maxOutputTokens"]);h!=null&&m(e,["maxOutputTokens"],h);const g=f(t,["mediaResolution"]);g!=null&&m(e,["mediaResolution"],g);const x=f(t,["presencePenalty"]);x!=null&&m(e,["presencePenalty"],x);const S=f(t,["responseLogprobs"]);S!=null&&m(e,["responseLogprobs"],S);const T=f(t,["responseMimeType"]);T!=null&&m(e,["responseMimeType"],T);const C=f(t,["responseModalities"]);C!=null&&m(e,["responseModalities"],C);const b=f(t,["responseSchema"]);b!=null&&m(e,["responseSchema"],b);const A=f(t,["routingConfig"]);A!=null&&m(e,["routingConfig"],A);const w=f(t,["seed"]);w!=null&&m(e,["seed"],w);const M=f(t,["speechConfig"]);M!=null&&m(e,["speechConfig"],M);const k=f(t,["stopSequences"]);k!=null&&m(e,["stopSequences"],k);const P=f(t,["temperature"]);P!=null&&m(e,["temperature"],P);const z=f(t,["thinkingConfig"]);z!=null&&m(e,["thinkingConfig"],z);const q=f(t,["topK"]);q!=null&&m(e,["topK"],q);const O=f(t,["topP"]);if(O!=null&&m(e,["topP"],O),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function zD(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function PD(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&m(e,["timeRangeFilter"],i),e}function UD(t,e){const i={},o=f(t,["generationConfig"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig"],o);const r=f(t,["responseModalities"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig","responseModalities"],r);const l=f(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const u=f(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const d=f(t,["topK"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","topK"],d);const p=f(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=f(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const g=f(t,["seed"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","seed"],g);const x=f(t,["speechConfig"]);e!==void 0&&x!=null&&m(e,["setup","generationConfig","speechConfig"],Ih(x));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&m(e,["setup","generationConfig","thinkingConfig"],S);const T=f(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],T);const C=f(t,["systemInstruction"]);e!==void 0&&C!=null&&m(e,["setup","systemInstruction"],RD(Wt(C)));const b=f(t,["tools"]);if(e!==void 0&&b!=null){let q=Fo(b);Array.isArray(q)&&(q=q.map(O=>JD(Ho(O)))),m(e,["setup","tools"],q)}const A=f(t,["sessionResumption"]);e!==void 0&&A!=null&&m(e,["setup","sessionResumption"],YD(A));const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","inputAudioTranscription"],w);const M=f(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&m(e,["setup","outputAudioTranscription"],M);const k=f(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&m(e,["setup","realtimeInputConfig"],k);const P=f(t,["contextWindowCompression"]);e!==void 0&&P!=null&&m(e,["setup","contextWindowCompression"],P);const z=f(t,["proactivity"]);if(e!==void 0&&z!=null&&m(e,["setup","proactivity"],z),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function LD(t,e){const i={},o=f(t,["generationConfig"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig"],DD(o));const r=f(t,["responseModalities"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig","responseModalities"],r);const l=f(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const u=f(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const d=f(t,["topK"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","topK"],d);const p=f(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=f(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const g=f(t,["seed"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","seed"],g);const x=f(t,["speechConfig"]);e!==void 0&&x!=null&&m(e,["setup","generationConfig","speechConfig"],Ih(x));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&m(e,["setup","generationConfig","thinkingConfig"],S);const T=f(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],T);const C=f(t,["systemInstruction"]);e!==void 0&&C!=null&&m(e,["setup","systemInstruction"],Wt(C));const b=f(t,["tools"]);if(e!==void 0&&b!=null){let O=Fo(b);Array.isArray(O)&&(O=O.map(G=>KD(Ho(G)))),m(e,["setup","tools"],O)}const A=f(t,["sessionResumption"]);e!==void 0&&A!=null&&m(e,["setup","sessionResumption"],A);const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","inputAudioTranscription"],w);const M=f(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&m(e,["setup","outputAudioTranscription"],M);const k=f(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&m(e,["setup","realtimeInputConfig"],k);const P=f(t,["contextWindowCompression"]);e!==void 0&&P!=null&&m(e,["setup","contextWindowCompression"],P);const z=f(t,["proactivity"]);e!==void 0&&z!=null&&m(e,["setup","proactivity"],z);const q=f(t,["explicitVadSignal"]);return e!==void 0&&q!=null&&m(e,["setup","explicitVadSignal"],q),i}function VD(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["setup","model"],et(t,o));const r=f(e,["config"]);return r!=null&&m(i,["config"],UD(r,i)),i}function OD(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["setup","model"],et(t,o));const r=f(e,["config"]);return r!=null&&m(i,["config"],LD(r,i)),i}function BD(t){const e={},i=f(t,["musicGenerationConfig"]);return i!=null&&m(e,["musicGenerationConfig"],i),e}function GD(t){const e={},i=f(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),m(e,["weightedPrompts"],o)}return e}function HD(t){const e={},i=f(t,["media"]);if(i!=null){let h=r_(i);Array.isArray(h)&&(h=h.map(g=>Ol(g))),m(e,["mediaChunks"],h)}const o=f(t,["audio"]);o!=null&&m(e,["audio"],Ol(l_(o)));const r=f(t,["audioStreamEnd"]);r!=null&&m(e,["audioStreamEnd"],r);const l=f(t,["video"]);l!=null&&m(e,["video"],Ol(a_(l)));const u=f(t,["text"]);u!=null&&m(e,["text"],u);const d=f(t,["activityStart"]);d!=null&&m(e,["activityStart"],d);const p=f(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function FD(t){const e={},i=f(t,["media"]);if(i!=null){let h=r_(i);Array.isArray(h)&&(h=h.map(g=>g)),m(e,["mediaChunks"],h)}const o=f(t,["audio"]);o!=null&&m(e,["audio"],l_(o));const r=f(t,["audioStreamEnd"]);r!=null&&m(e,["audioStreamEnd"],r);const l=f(t,["video"]);l!=null&&m(e,["video"],a_(l));const u=f(t,["text"]);u!=null&&m(e,["text"],u);const d=f(t,["activityStart"]);d!=null&&m(e,["activityStart"],d);const p=f(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function qD(t){const e={},i=f(t,["setupComplete"]);i!=null&&m(e,["setupComplete"],i);const o=f(t,["serverContent"]);o!=null&&m(e,["serverContent"],o);const r=f(t,["toolCall"]);r!=null&&m(e,["toolCall"],r);const l=f(t,["toolCallCancellation"]);l!=null&&m(e,["toolCallCancellation"],l);const u=f(t,["usageMetadata"]);u!=null&&m(e,["usageMetadata"],XD(u));const d=f(t,["goAway"]);d!=null&&m(e,["goAway"],d);const p=f(t,["sessionResumptionUpdate"]);p!=null&&m(e,["sessionResumptionUpdate"],p);const h=f(t,["voiceActivityDetectionSignal"]);return h!=null&&m(e,["voiceActivityDetectionSignal"],h),e}function jD(t){const e={},i=f(t,["mediaResolution"]);i!=null&&m(e,["mediaResolution"],i);const o=f(t,["codeExecutionResult"]);o!=null&&m(e,["codeExecutionResult"],o);const r=f(t,["executableCode"]);r!=null&&m(e,["executableCode"],r);const l=f(t,["fileData"]);l!=null&&m(e,["fileData"],MD(l));const u=f(t,["functionCall"]);u!=null&&m(e,["functionCall"],kD(u));const d=f(t,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=f(t,["inlineData"]);p!=null&&m(e,["inlineData"],Ol(p));const h=f(t,["text"]);h!=null&&m(e,["text"],h);const g=f(t,["thought"]);g!=null&&m(e,["thought"],g);const x=f(t,["thoughtSignature"]);x!=null&&m(e,["thoughtSignature"],x);const S=f(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function YD(t){const e={},i=f(t,["handle"]);if(i!=null&&m(e,["handle"],i),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function JD(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(x=>x)),m(e,["functionDeclarations"],g)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const r=f(t,["computerUse"]);r!=null&&m(e,["computerUse"],r);const l=f(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=f(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&m(e,["googleMaps"],zD(d));const p=f(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],PD(p));const h=f(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function KD(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>ID(S))),m(e,["functionDeclarations"],x)}const o=f(t,["retrieval"]);o!=null&&m(e,["retrieval"],o);const r=f(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const l=f(t,["computerUse"]);if(l!=null&&m(e,["computerUse"],l),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=f(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const d=f(t,["enterpriseWebSearch"]);d!=null&&m(e,["enterpriseWebSearch"],d);const p=f(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const h=f(t,["googleSearch"]);h!=null&&m(e,["googleSearch"],h);const g=f(t,["urlContext"]);return g!=null&&m(e,["urlContext"],g),e}function XD(t){const e={},i=f(t,["promptTokenCount"]);i!=null&&m(e,["promptTokenCount"],i);const o=f(t,["cachedContentTokenCount"]);o!=null&&m(e,["cachedContentTokenCount"],o);const r=f(t,["candidatesTokenCount"]);r!=null&&m(e,["responseTokenCount"],r);const l=f(t,["toolUsePromptTokenCount"]);l!=null&&m(e,["toolUsePromptTokenCount"],l);const u=f(t,["thoughtsTokenCount"]);u!=null&&m(e,["thoughtsTokenCount"],u);const d=f(t,["totalTokenCount"]);d!=null&&m(e,["totalTokenCount"],d);const p=f(t,["promptTokensDetails"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(C=>C)),m(e,["promptTokensDetails"],T)}const h=f(t,["cacheTokensDetails"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(C=>C)),m(e,["cacheTokensDetails"],T)}const g=f(t,["candidatesTokensDetails"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(C=>C)),m(e,["responseTokensDetails"],T)}const x=f(t,["toolUsePromptTokensDetails"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(C=>C)),m(e,["toolUsePromptTokensDetails"],T)}const S=f(t,["trafficType"]);return S!=null&&m(e,["trafficType"],S),e}function $D(t){const e={},i=f(t,["data"]);if(i!=null&&m(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function ZD(t){const e={},i=f(t,["content"]);i!=null&&m(e,["content"],i);const o=f(t,["citationMetadata"]);o!=null&&m(e,["citationMetadata"],WD(o));const r=f(t,["tokenCount"]);r!=null&&m(e,["tokenCount"],r);const l=f(t,["finishReason"]);l!=null&&m(e,["finishReason"],l);const u=f(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const d=f(t,["groundingMetadata"]);d!=null&&m(e,["groundingMetadata"],d);const p=f(t,["index"]);p!=null&&m(e,["index"],p);const h=f(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const g=f(t,["safetyRatings"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(T=>T)),m(e,["safetyRatings"],S)}const x=f(t,["urlContextMetadata"]);return x!=null&&m(e,["urlContextMetadata"],x),e}function WD(t){const e={},i=f(t,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),m(e,["citations"],o)}return e}function QD(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","model"],et(t,o));const r=f(e,["contents"]);if(r!=null){let l=Pn(r);Array.isArray(l)&&(l=l.map(u=>u)),m(i,["contents"],l)}return i}function e3(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),m(e,["tokensInfo"],r)}return e}function t3(t){const e={},i=f(t,["values"]);i!=null&&m(e,["values"],i);const o=f(t,["statistics"]);return o!=null&&m(e,["statistics"],n3(o)),e}function n3(t){const e={},i=f(t,["truncated"]);i!=null&&m(e,["truncated"],i);const o=f(t,["token_count"]);return o!=null&&m(e,["tokenCount"],o),e}function uu(t){const e={},i=f(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>d5(l))),m(e,["parts"],r)}const o=f(t,["role"]);return o!=null&&m(e,["role"],o),e}function i3(t){const e={},i=f(t,["controlType"]);i!=null&&m(e,["controlType"],i);const o=f(t,["enableControlImageComputation"]);return o!=null&&m(e,["computeControl"],o),e}function s3(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function o3(t,e){const i={},o=f(t,["systemInstruction"]);e!==void 0&&o!=null&&m(e,["systemInstruction"],Wt(o));const r=f(t,["tools"]);if(e!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>T_(d))),m(e,["tools"],u)}const l=f(t,["generationConfig"]);return e!==void 0&&l!=null&&m(e,["generationConfig"],$3(l)),i}function r3(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","model"],et(t,o));const r=f(e,["contents"]);if(r!=null){let u=Pn(r);Array.isArray(u)&&(u=u.map(d=>uu(d))),m(i,["contents"],u)}const l=f(e,["config"]);return l!=null&&s3(l),i}function a3(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","model"],et(t,o));const r=f(e,["contents"]);if(r!=null){let u=Pn(r);Array.isArray(u)&&(u=u.map(d=>d)),m(i,["contents"],u)}const l=f(e,["config"]);return l!=null&&o3(l,i),i}function l3(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["totalTokens"]);o!=null&&m(e,["totalTokens"],o);const r=f(t,["cachedContentTokenCount"]);return r!=null&&m(e,["cachedContentTokenCount"],r),e}function u3(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["totalTokens"]);return o!=null&&m(e,["totalTokens"],o),e}function c3(t,e){const i={},o=f(e,["model"]);return o!=null&&m(i,["_url","name"],et(t,o)),i}function d3(t,e){const i={},o=f(e,["model"]);return o!=null&&m(i,["_url","name"],et(t,o)),i}function f3(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function h3(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function p3(t,e){const i={},o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const r=f(t,["negativePrompt"]);e!==void 0&&r!=null&&m(e,["parameters","negativePrompt"],r);const l=f(t,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const u=f(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const d=f(t,["guidanceScale"]);e!==void 0&&d!=null&&m(e,["parameters","guidanceScale"],d);const p=f(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const h=f(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&m(e,["parameters","safetySetting"],h);const g=f(t,["personGeneration"]);e!==void 0&&g!=null&&m(e,["parameters","personGeneration"],g);const x=f(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&m(e,["parameters","includeSafetyAttributes"],x);const S=f(t,["includeRaiReason"]);e!==void 0&&S!=null&&m(e,["parameters","includeRaiReason"],S);const T=f(t,["language"]);e!==void 0&&T!=null&&m(e,["parameters","language"],T);const C=f(t,["outputMimeType"]);e!==void 0&&C!=null&&m(e,["parameters","outputOptions","mimeType"],C);const b=f(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","compressionQuality"],b);const A=f(t,["addWatermark"]);e!==void 0&&A!=null&&m(e,["parameters","addWatermark"],A);const w=f(t,["labels"]);e!==void 0&&w!=null&&m(e,["labels"],w);const M=f(t,["editMode"]);e!==void 0&&M!=null&&m(e,["parameters","editMode"],M);const k=f(t,["baseSteps"]);return e!==void 0&&k!=null&&m(e,["parameters","editConfig","baseSteps"],k),i}function m3(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","model"],et(t,o));const r=f(e,["prompt"]);r!=null&&m(i,["instances[0]","prompt"],r);const l=f(e,["referenceImages"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>y5(p))),m(i,["instances[0]","referenceImages"],d)}const u=f(e,["config"]);return u!=null&&p3(u,i),i}function g3(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>cu(l))),m(e,["generatedImages"],r)}return e}function y3(t,e){const i={},o=f(t,["taskType"]);e!==void 0&&o!=null&&m(e,["requests[]","taskType"],o);const r=f(t,["title"]);e!==void 0&&r!=null&&m(e,["requests[]","title"],r);const l=f(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function v3(t,e){const i={},o=f(t,["taskType"]);e!==void 0&&o!=null&&m(e,["instances[]","task_type"],o);const r=f(t,["title"]);e!==void 0&&r!=null&&m(e,["instances[]","title"],r);const l=f(t,["outputDimensionality"]);e!==void 0&&l!=null&&m(e,["parameters","outputDimensionality"],l);const u=f(t,["mimeType"]);e!==void 0&&u!=null&&m(e,["instances[]","mimeType"],u);const d=f(t,["autoTruncate"]);return e!==void 0&&d!=null&&m(e,["parameters","autoTruncate"],d),i}function x3(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","model"],et(t,o));const r=f(e,["contents"]);if(r!=null){let d=Rh(t,r);Array.isArray(d)&&(d=d.map(p=>p)),m(i,["requests[]","content"],d)}const l=f(e,["config"]);l!=null&&y3(l,i);const u=f(e,["model"]);return u!==void 0&&m(i,["requests[]","model"],et(t,u)),i}function S3(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","model"],et(t,o));const r=f(e,["contents"]);if(r!=null){let u=Rh(t,r);Array.isArray(u)&&(u=u.map(d=>d)),m(i,["instances[]","content"],u)}const l=f(e,["config"]);return l!=null&&v3(l,i),i}function _3(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["embeddings"],l)}const r=f(t,["metadata"]);return r!=null&&m(e,["metadata"],r),e}function T3(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["predictions[]","embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>t3(u))),m(e,["embeddings"],l)}const r=f(t,["metadata"]);return r!=null&&m(e,["metadata"],r),e}function b3(t){const e={},i=f(t,["endpoint"]);i!=null&&m(e,["name"],i);const o=f(t,["deployedModelId"]);return o!=null&&m(e,["deployedModelId"],o),e}function E3(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const o=f(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function A3(t){const e={},i=f(t,["id"]);i!=null&&m(e,["id"],i);const o=f(t,["args"]);o!=null&&m(e,["args"],o);const r=f(t,["name"]);if(r!=null&&m(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function C3(t){const e={},i=f(t,["mode"]);i!=null&&m(e,["mode"],i);const o=f(t,["allowedFunctionNames"]);if(o!=null&&m(e,["allowedFunctionNames"],o),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function w3(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=f(t,["description"]);i!=null&&m(e,["description"],i);const o=f(t,["name"]);o!=null&&m(e,["name"],o);const r=f(t,["parameters"]);r!=null&&m(e,["parameters"],r);const l=f(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const u=f(t,["response"]);u!=null&&m(e,["response"],u);const d=f(t,["responseJsonSchema"]);return d!=null&&m(e,["responseJsonSchema"],d),e}function N3(t,e,i){const o={},r=f(e,["systemInstruction"]);i!==void 0&&r!=null&&m(i,["systemInstruction"],uu(Wt(r)));const l=f(e,["temperature"]);l!=null&&m(o,["temperature"],l);const u=f(e,["topP"]);u!=null&&m(o,["topP"],u);const d=f(e,["topK"]);d!=null&&m(o,["topK"],d);const p=f(e,["candidateCount"]);p!=null&&m(o,["candidateCount"],p);const h=f(e,["maxOutputTokens"]);h!=null&&m(o,["maxOutputTokens"],h);const g=f(e,["stopSequences"]);g!=null&&m(o,["stopSequences"],g);const x=f(e,["responseLogprobs"]);x!=null&&m(o,["responseLogprobs"],x);const S=f(e,["logprobs"]);S!=null&&m(o,["logprobs"],S);const T=f(e,["presencePenalty"]);T!=null&&m(o,["presencePenalty"],T);const C=f(e,["frequencyPenalty"]);C!=null&&m(o,["frequencyPenalty"],C);const b=f(e,["seed"]);b!=null&&m(o,["seed"],b);const A=f(e,["responseMimeType"]);A!=null&&m(o,["responseMimeType"],A);const w=f(e,["responseSchema"]);w!=null&&m(o,["responseSchema"],Mh(w));const M=f(e,["responseJsonSchema"]);if(M!=null&&m(o,["responseJsonSchema"],M),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=f(e,["safetySettings"]);if(i!==void 0&&k!=null){let $=k;Array.isArray($)&&($=$.map(R=>v5(R))),m(i,["safetySettings"],$)}const P=f(e,["tools"]);if(i!==void 0&&P!=null){let $=Fo(P);Array.isArray($)&&($=$.map(R=>A5(Ho(R)))),m(i,["tools"],$)}const z=f(e,["toolConfig"]);if(i!==void 0&&z!=null&&m(i,["toolConfig"],E5(z)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=f(e,["cachedContent"]);i!==void 0&&q!=null&&m(i,["cachedContent"],Ni(t,q));const O=f(e,["responseModalities"]);O!=null&&m(o,["responseModalities"],O);const G=f(e,["mediaResolution"]);G!=null&&m(o,["mediaResolution"],G);const F=f(e,["speechConfig"]);if(F!=null&&m(o,["speechConfig"],kh(F)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=f(e,["thinkingConfig"]);ie!=null&&m(o,["thinkingConfig"],ie);const ve=f(e,["imageConfig"]);ve!=null&&m(o,["imageConfig"],t5(ve));const B=f(e,["enableEnhancedCivicAnswers"]);return B!=null&&m(o,["enableEnhancedCivicAnswers"],B),o}function R3(t,e,i){const o={},r=f(e,["systemInstruction"]);i!==void 0&&r!=null&&m(i,["systemInstruction"],Wt(r));const l=f(e,["temperature"]);l!=null&&m(o,["temperature"],l);const u=f(e,["topP"]);u!=null&&m(o,["topP"],u);const d=f(e,["topK"]);d!=null&&m(o,["topK"],d);const p=f(e,["candidateCount"]);p!=null&&m(o,["candidateCount"],p);const h=f(e,["maxOutputTokens"]);h!=null&&m(o,["maxOutputTokens"],h);const g=f(e,["stopSequences"]);g!=null&&m(o,["stopSequences"],g);const x=f(e,["responseLogprobs"]);x!=null&&m(o,["responseLogprobs"],x);const S=f(e,["logprobs"]);S!=null&&m(o,["logprobs"],S);const T=f(e,["presencePenalty"]);T!=null&&m(o,["presencePenalty"],T);const C=f(e,["frequencyPenalty"]);C!=null&&m(o,["frequencyPenalty"],C);const b=f(e,["seed"]);b!=null&&m(o,["seed"],b);const A=f(e,["responseMimeType"]);A!=null&&m(o,["responseMimeType"],A);const w=f(e,["responseSchema"]);w!=null&&m(o,["responseSchema"],Mh(w));const M=f(e,["responseJsonSchema"]);M!=null&&m(o,["responseJsonSchema"],M);const k=f(e,["routingConfig"]);k!=null&&m(o,["routingConfig"],k);const P=f(e,["modelSelectionConfig"]);P!=null&&m(o,["modelConfig"],P);const z=f(e,["safetySettings"]);if(i!==void 0&&z!=null){let J=z;Array.isArray(J)&&(J=J.map(Y=>Y)),m(i,["safetySettings"],J)}const q=f(e,["tools"]);if(i!==void 0&&q!=null){let J=Fo(q);Array.isArray(J)&&(J=J.map(Y=>T_(Ho(Y)))),m(i,["tools"],J)}const O=f(e,["toolConfig"]);i!==void 0&&O!=null&&m(i,["toolConfig"],O);const G=f(e,["labels"]);i!==void 0&&G!=null&&m(i,["labels"],G);const F=f(e,["cachedContent"]);i!==void 0&&F!=null&&m(i,["cachedContent"],Ni(t,F));const ie=f(e,["responseModalities"]);ie!=null&&m(o,["responseModalities"],ie);const ve=f(e,["mediaResolution"]);ve!=null&&m(o,["mediaResolution"],ve);const B=f(e,["speechConfig"]);B!=null&&m(o,["speechConfig"],kh(B));const $=f(e,["audioTimestamp"]);$!=null&&m(o,["audioTimestamp"],$);const R=f(e,["thinkingConfig"]);R!=null&&m(o,["thinkingConfig"],R);const oe=f(e,["imageConfig"]);if(oe!=null&&m(o,["imageConfig"],n5(oe)),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function Tx(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","model"],et(t,o));const r=f(e,["contents"]);if(r!=null){let u=Pn(r);Array.isArray(u)&&(u=u.map(d=>uu(d))),m(i,["contents"],u)}const l=f(e,["config"]);return l!=null&&m(i,["generationConfig"],N3(t,l,i)),i}function bx(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","model"],et(t,o));const r=f(e,["contents"]);if(r!=null){let u=Pn(r);Array.isArray(u)&&(u=u.map(d=>d)),m(i,["contents"],u)}const l=f(e,["config"]);return l!=null&&m(i,["generationConfig"],R3(t,l,i)),i}function Ex(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(h=>ZD(h))),m(e,["candidates"],p)}const r=f(t,["modelVersion"]);r!=null&&m(e,["modelVersion"],r);const l=f(t,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const u=f(t,["responseId"]);u!=null&&m(e,["responseId"],u);const d=f(t,["usageMetadata"]);return d!=null&&m(e,["usageMetadata"],d),e}function Ax(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["candidates"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["candidates"],h)}const r=f(t,["createTime"]);r!=null&&m(e,["createTime"],r);const l=f(t,["modelVersion"]);l!=null&&m(e,["modelVersion"],l);const u=f(t,["promptFeedback"]);u!=null&&m(e,["promptFeedback"],u);const d=f(t,["responseId"]);d!=null&&m(e,["responseId"],d);const p=f(t,["usageMetadata"]);return p!=null&&m(e,["usageMetadata"],p),e}function M3(t,e){const i={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const r=f(t,["aspectRatio"]);e!==void 0&&r!=null&&m(e,["parameters","aspectRatio"],r);const l=f(t,["guidanceScale"]);if(e!==void 0&&l!=null&&m(e,["parameters","guidanceScale"],l),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const d=f(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const p=f(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&m(e,["parameters","includeSafetyAttributes"],p);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=f(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const x=f(t,["outputMimeType"]);e!==void 0&&x!=null&&m(e,["parameters","outputOptions","mimeType"],x);const S=f(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&m(e,["parameters","outputOptions","compressionQuality"],S),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=f(t,["imageSize"]);if(e!==void 0&&T!=null&&m(e,["parameters","sampleImageSize"],T),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function k3(t,e){const i={},o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const r=f(t,["negativePrompt"]);e!==void 0&&r!=null&&m(e,["parameters","negativePrompt"],r);const l=f(t,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const u=f(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const d=f(t,["guidanceScale"]);e!==void 0&&d!=null&&m(e,["parameters","guidanceScale"],d);const p=f(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const h=f(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&m(e,["parameters","safetySetting"],h);const g=f(t,["personGeneration"]);e!==void 0&&g!=null&&m(e,["parameters","personGeneration"],g);const x=f(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&m(e,["parameters","includeSafetyAttributes"],x);const S=f(t,["includeRaiReason"]);e!==void 0&&S!=null&&m(e,["parameters","includeRaiReason"],S);const T=f(t,["language"]);e!==void 0&&T!=null&&m(e,["parameters","language"],T);const C=f(t,["outputMimeType"]);e!==void 0&&C!=null&&m(e,["parameters","outputOptions","mimeType"],C);const b=f(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","compressionQuality"],b);const A=f(t,["addWatermark"]);e!==void 0&&A!=null&&m(e,["parameters","addWatermark"],A);const w=f(t,["labels"]);e!==void 0&&w!=null&&m(e,["labels"],w);const M=f(t,["imageSize"]);e!==void 0&&M!=null&&m(e,["parameters","sampleImageSize"],M);const k=f(t,["enhancePrompt"]);return e!==void 0&&k!=null&&m(e,["parameters","enhancePrompt"],k),i}function I3(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","model"],et(t,o));const r=f(e,["prompt"]);r!=null&&m(i,["instances[0]","prompt"],r);const l=f(e,["config"]);return l!=null&&M3(l,i),i}function D3(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","model"],et(t,o));const r=f(e,["prompt"]);r!=null&&m(i,["instances[0]","prompt"],r);const l=f(e,["config"]);return l!=null&&k3(l,i),i}function z3(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Y3(u))),m(e,["generatedImages"],l)}const r=f(t,["positivePromptSafetyAttributes"]);return r!=null&&m(e,["positivePromptSafetyAttributes"],S_(r)),e}function P3(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>cu(u))),m(e,["generatedImages"],l)}const r=f(t,["positivePromptSafetyAttributes"]);return r!=null&&m(e,["positivePromptSafetyAttributes"],__(r)),e}function U3(t,e){const i={},o=f(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=f(t,["durationSeconds"]);if(e!==void 0&&r!=null&&m(e,["parameters","durationSeconds"],r),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const u=f(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const d=f(t,["personGeneration"]);if(e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=f(t,["negativePrompt"]);e!==void 0&&p!=null&&m(e,["parameters","negativePrompt"],p);const h=f(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=f(t,["lastFrame"]);e!==void 0&&g!=null&&m(e,["instances[0]","lastFrame"],du(g));const x=f(t,["referenceImages"]);if(e!==void 0&&x!=null){let S=x;Array.isArray(S)&&(S=S.map(T=>V5(T))),m(e,["instances[0]","referenceImages"],S)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function L3(t,e){const i={},o=f(t,["numberOfVideos"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const l=f(t,["fps"]);e!==void 0&&l!=null&&m(e,["parameters","fps"],l);const u=f(t,["durationSeconds"]);e!==void 0&&u!=null&&m(e,["parameters","durationSeconds"],u);const d=f(t,["seed"]);e!==void 0&&d!=null&&m(e,["parameters","seed"],d);const p=f(t,["aspectRatio"]);e!==void 0&&p!=null&&m(e,["parameters","aspectRatio"],p);const h=f(t,["resolution"]);e!==void 0&&h!=null&&m(e,["parameters","resolution"],h);const g=f(t,["personGeneration"]);e!==void 0&&g!=null&&m(e,["parameters","personGeneration"],g);const x=f(t,["pubsubTopic"]);e!==void 0&&x!=null&&m(e,["parameters","pubsubTopic"],x);const S=f(t,["negativePrompt"]);e!==void 0&&S!=null&&m(e,["parameters","negativePrompt"],S);const T=f(t,["enhancePrompt"]);e!==void 0&&T!=null&&m(e,["parameters","enhancePrompt"],T);const C=f(t,["generateAudio"]);e!==void 0&&C!=null&&m(e,["parameters","generateAudio"],C);const b=f(t,["lastFrame"]);e!==void 0&&b!=null&&m(e,["instances[0]","lastFrame"],jn(b));const A=f(t,["referenceImages"]);if(e!==void 0&&A!=null){let k=A;Array.isArray(k)&&(k=k.map(P=>O5(P))),m(e,["instances[0]","referenceImages"],k)}const w=f(t,["mask"]);e!==void 0&&w!=null&&m(e,["instances[0]","mask"],L5(w));const M=f(t,["compressionQuality"]);return e!==void 0&&M!=null&&m(e,["parameters","compressionQuality"],M),i}function V3(t){const e={},i=f(t,["name"]);i!=null&&m(e,["name"],i);const o=f(t,["metadata"]);o!=null&&m(e,["metadata"],o);const r=f(t,["done"]);r!=null&&m(e,["done"],r);const l=f(t,["error"]);l!=null&&m(e,["error"],l);const u=f(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],H3(u)),e}function O3(t){const e={},i=f(t,["name"]);i!=null&&m(e,["name"],i);const o=f(t,["metadata"]);o!=null&&m(e,["metadata"],o);const r=f(t,["done"]);r!=null&&m(e,["done"],r);const l=f(t,["error"]);l!=null&&m(e,["error"],l);const u=f(t,["response"]);return u!=null&&m(e,["response"],F3(u)),e}function B3(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","model"],et(t,o));const r=f(e,["prompt"]);r!=null&&m(i,["instances[0]","prompt"],r);const l=f(e,["image"]);l!=null&&m(i,["instances[0]","image"],du(l));const u=f(e,["video"]);u!=null&&m(i,["instances[0]","video"],b_(u));const d=f(e,["source"]);d!=null&&q3(d,i);const p=f(e,["config"]);return p!=null&&U3(p,i),i}function G3(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","model"],et(t,o));const r=f(e,["prompt"]);r!=null&&m(i,["instances[0]","prompt"],r);const l=f(e,["image"]);l!=null&&m(i,["instances[0]","image"],jn(l));const u=f(e,["video"]);u!=null&&m(i,["instances[0]","video"],E_(u));const d=f(e,["source"]);d!=null&&j3(d,i);const p=f(e,["config"]);return p!=null&&L3(p,i),i}function H3(t){const e={},i=f(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>K3(u))),m(e,["generatedVideos"],l)}const o=f(t,["raiMediaFilteredCount"]);o!=null&&m(e,["raiMediaFilteredCount"],o);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&m(e,["raiMediaFilteredReasons"],r),e}function F3(t){const e={},i=f(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>X3(u))),m(e,["generatedVideos"],l)}const o=f(t,["raiMediaFilteredCount"]);o!=null&&m(e,["raiMediaFilteredCount"],o);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&m(e,["raiMediaFilteredReasons"],r),e}function q3(t,e){const i={},o=f(t,["prompt"]);e!==void 0&&o!=null&&m(e,["instances[0]","prompt"],o);const r=f(t,["image"]);e!==void 0&&r!=null&&m(e,["instances[0]","image"],du(r));const l=f(t,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],b_(l)),i}function j3(t,e){const i={},o=f(t,["prompt"]);e!==void 0&&o!=null&&m(e,["instances[0]","prompt"],o);const r=f(t,["image"]);e!==void 0&&r!=null&&m(e,["instances[0]","image"],jn(r));const l=f(t,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],E_(l)),i}function Y3(t){const e={},i=f(t,["_self"]);i!=null&&m(e,["image"],i5(i));const o=f(t,["raiFilteredReason"]);o!=null&&m(e,["raiFilteredReason"],o);const r=f(t,["_self"]);return r!=null&&m(e,["safetyAttributes"],S_(r)),e}function cu(t){const e={},i=f(t,["_self"]);i!=null&&m(e,["image"],x_(i));const o=f(t,["raiFilteredReason"]);o!=null&&m(e,["raiFilteredReason"],o);const r=f(t,["_self"]);r!=null&&m(e,["safetyAttributes"],__(r));const l=f(t,["prompt"]);return l!=null&&m(e,["enhancedPrompt"],l),e}function J3(t){const e={},i=f(t,["_self"]);i!=null&&m(e,["mask"],x_(i));const o=f(t,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),m(e,["labels"],r)}return e}function K3(t){const e={},i=f(t,["video"]);return i!=null&&m(e,["video"],P5(i)),e}function X3(t){const e={},i=f(t,["_self"]);return i!=null&&m(e,["video"],U5(i)),e}function $3(t){const e={},i=f(t,["modelSelectionConfig"]);i!=null&&m(e,["modelConfig"],i);const o=f(t,["responseJsonSchema"]);o!=null&&m(e,["responseJsonSchema"],o);const r=f(t,["audioTimestamp"]);r!=null&&m(e,["audioTimestamp"],r);const l=f(t,["candidateCount"]);l!=null&&m(e,["candidateCount"],l);const u=f(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const d=f(t,["frequencyPenalty"]);d!=null&&m(e,["frequencyPenalty"],d);const p=f(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const h=f(t,["maxOutputTokens"]);h!=null&&m(e,["maxOutputTokens"],h);const g=f(t,["mediaResolution"]);g!=null&&m(e,["mediaResolution"],g);const x=f(t,["presencePenalty"]);x!=null&&m(e,["presencePenalty"],x);const S=f(t,["responseLogprobs"]);S!=null&&m(e,["responseLogprobs"],S);const T=f(t,["responseMimeType"]);T!=null&&m(e,["responseMimeType"],T);const C=f(t,["responseModalities"]);C!=null&&m(e,["responseModalities"],C);const b=f(t,["responseSchema"]);b!=null&&m(e,["responseSchema"],b);const A=f(t,["routingConfig"]);A!=null&&m(e,["routingConfig"],A);const w=f(t,["seed"]);w!=null&&m(e,["seed"],w);const M=f(t,["speechConfig"]);M!=null&&m(e,["speechConfig"],M);const k=f(t,["stopSequences"]);k!=null&&m(e,["stopSequences"],k);const P=f(t,["temperature"]);P!=null&&m(e,["temperature"],P);const z=f(t,["thinkingConfig"]);z!=null&&m(e,["thinkingConfig"],z);const q=f(t,["topK"]);q!=null&&m(e,["topK"],q);const O=f(t,["topP"]);if(O!=null&&m(e,["topP"],O),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Z3(t,e){const i={},o=f(e,["model"]);return o!=null&&m(i,["_url","name"],et(t,o)),i}function W3(t,e){const i={},o=f(e,["model"]);return o!=null&&m(i,["_url","name"],et(t,o)),i}function Q3(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function e5(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&m(e,["timeRangeFilter"],i),e}function t5(t){const e={},i=f(t,["aspectRatio"]);i!=null&&m(e,["aspectRatio"],i);const o=f(t,["imageSize"]);if(o!=null&&m(e,["imageSize"],o),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function n5(t){const e={},i=f(t,["aspectRatio"]);i!=null&&m(e,["aspectRatio"],i);const o=f(t,["imageSize"]);o!=null&&m(e,["imageSize"],o);const r=f(t,["outputMimeType"]);r!=null&&m(e,["imageOutputOptions","mimeType"],r);const l=f(t,["outputCompressionQuality"]);return l!=null&&m(e,["imageOutputOptions","compressionQuality"],l),e}function i5(t){const e={},i=f(t,["bytesBase64Encoded"]);i!=null&&m(e,["imageBytes"],ss(i));const o=f(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function x_(t){const e={},i=f(t,["gcsUri"]);i!=null&&m(e,["gcsUri"],i);const o=f(t,["bytesBase64Encoded"]);o!=null&&m(e,["imageBytes"],ss(o));const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function du(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=f(t,["imageBytes"]);i!=null&&m(e,["bytesBase64Encoded"],ss(i));const o=f(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function jn(t){const e={},i=f(t,["gcsUri"]);i!=null&&m(e,["gcsUri"],i);const o=f(t,["imageBytes"]);o!=null&&m(e,["bytesBase64Encoded"],ss(o));const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function s5(t,e,i){const o={},r=f(e,["pageSize"]);i!==void 0&&r!=null&&m(i,["_query","pageSize"],r);const l=f(e,["pageToken"]);i!==void 0&&l!=null&&m(i,["_query","pageToken"],l);const u=f(e,["filter"]);i!==void 0&&u!=null&&m(i,["_query","filter"],u);const d=f(e,["queryBase"]);return i!==void 0&&d!=null&&m(i,["_url","models_url"],f_(t,d)),o}function o5(t,e,i){const o={},r=f(e,["pageSize"]);i!==void 0&&r!=null&&m(i,["_query","pageSize"],r);const l=f(e,["pageToken"]);i!==void 0&&l!=null&&m(i,["_query","pageToken"],l);const u=f(e,["filter"]);i!==void 0&&u!=null&&m(i,["_query","filter"],u);const d=f(e,["queryBase"]);return i!==void 0&&d!=null&&m(i,["_url","models_url"],f_(t,d)),o}function r5(t,e){const i={},o=f(e,["config"]);return o!=null&&s5(t,o,i),i}function a5(t,e){const i={},o=f(e,["config"]);return o!=null&&o5(t,o,i),i}function l5(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const r=f(t,["_self"]);if(r!=null){let l=h_(r);Array.isArray(l)&&(l=l.map(u=>Mf(u))),m(e,["models"],l)}return e}function u5(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const r=f(t,["_self"]);if(r!=null){let l=h_(r);Array.isArray(l)&&(l=l.map(u=>kf(u))),m(e,["models"],l)}return e}function c5(t){const e={},i=f(t,["maskMode"]);i!=null&&m(e,["maskMode"],i);const o=f(t,["segmentationClasses"]);o!=null&&m(e,["maskClasses"],o);const r=f(t,["maskDilation"]);return r!=null&&m(e,["dilation"],r),e}function Mf(t){const e={},i=f(t,["name"]);i!=null&&m(e,["name"],i);const o=f(t,["displayName"]);o!=null&&m(e,["displayName"],o);const r=f(t,["description"]);r!=null&&m(e,["description"],r);const l=f(t,["version"]);l!=null&&m(e,["version"],l);const u=f(t,["_self"]);u!=null&&m(e,["tunedModelInfo"],C5(u));const d=f(t,["inputTokenLimit"]);d!=null&&m(e,["inputTokenLimit"],d);const p=f(t,["outputTokenLimit"]);p!=null&&m(e,["outputTokenLimit"],p);const h=f(t,["supportedGenerationMethods"]);h!=null&&m(e,["supportedActions"],h);const g=f(t,["temperature"]);g!=null&&m(e,["temperature"],g);const x=f(t,["maxTemperature"]);x!=null&&m(e,["maxTemperature"],x);const S=f(t,["topP"]);S!=null&&m(e,["topP"],S);const T=f(t,["topK"]);T!=null&&m(e,["topK"],T);const C=f(t,["thinking"]);return C!=null&&m(e,["thinking"],C),e}function kf(t){const e={},i=f(t,["name"]);i!=null&&m(e,["name"],i);const o=f(t,["displayName"]);o!=null&&m(e,["displayName"],o);const r=f(t,["description"]);r!=null&&m(e,["description"],r);const l=f(t,["versionId"]);l!=null&&m(e,["version"],l);const u=f(t,["deployedModels"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(S=>b3(S))),m(e,["endpoints"],x)}const d=f(t,["labels"]);d!=null&&m(e,["labels"],d);const p=f(t,["_self"]);p!=null&&m(e,["tunedModelInfo"],w5(p));const h=f(t,["defaultCheckpointId"]);h!=null&&m(e,["defaultCheckpointId"],h);const g=f(t,["checkpoints"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(S=>S)),m(e,["checkpoints"],x)}return e}function d5(t){const e={},i=f(t,["mediaResolution"]);i!=null&&m(e,["mediaResolution"],i);const o=f(t,["codeExecutionResult"]);o!=null&&m(e,["codeExecutionResult"],o);const r=f(t,["executableCode"]);r!=null&&m(e,["executableCode"],r);const l=f(t,["fileData"]);l!=null&&m(e,["fileData"],E3(l));const u=f(t,["functionCall"]);u!=null&&m(e,["functionCall"],A3(u));const d=f(t,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=f(t,["inlineData"]);p!=null&&m(e,["inlineData"],$D(p));const h=f(t,["text"]);h!=null&&m(e,["text"],h);const g=f(t,["thought"]);g!=null&&m(e,["thought"],g);const x=f(t,["thoughtSignature"]);x!=null&&m(e,["thoughtSignature"],x);const S=f(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function f5(t){const e={},i=f(t,["productImage"]);return i!=null&&m(e,["image"],jn(i)),e}function h5(t,e){const i={},o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const r=f(t,["baseSteps"]);e!==void 0&&r!=null&&m(e,["parameters","baseSteps"],r);const l=f(t,["outputGcsUri"]);e!==void 0&&l!=null&&m(e,["parameters","storageUri"],l);const u=f(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const d=f(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&m(e,["parameters","safetySetting"],d);const p=f(t,["personGeneration"]);e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p);const h=f(t,["addWatermark"]);e!==void 0&&h!=null&&m(e,["parameters","addWatermark"],h);const g=f(t,["outputMimeType"]);e!==void 0&&g!=null&&m(e,["parameters","outputOptions","mimeType"],g);const x=f(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&m(e,["parameters","outputOptions","compressionQuality"],x);const S=f(t,["enhancePrompt"]);e!==void 0&&S!=null&&m(e,["parameters","enhancePrompt"],S);const T=f(t,["labels"]);return e!==void 0&&T!=null&&m(e,["labels"],T),i}function p5(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","model"],et(t,o));const r=f(e,["source"]);r!=null&&g5(r,i);const l=f(e,["config"]);return l!=null&&h5(l,i),i}function m5(t){const e={},i=f(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>cu(r))),m(e,["generatedImages"],o)}return e}function g5(t,e){const i={},o=f(t,["prompt"]);e!==void 0&&o!=null&&m(e,["instances[0]","prompt"],o);const r=f(t,["personImage"]);e!==void 0&&r!=null&&m(e,["instances[0]","personImage","image"],jn(r));const l=f(t,["productImages"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>f5(d))),m(e,["instances[0]","productImages"],u)}return i}function y5(t){const e={},i=f(t,["referenceImage"]);i!=null&&m(e,["referenceImage"],jn(i));const o=f(t,["referenceId"]);o!=null&&m(e,["referenceId"],o);const r=f(t,["referenceType"]);r!=null&&m(e,["referenceType"],r);const l=f(t,["maskImageConfig"]);l!=null&&m(e,["maskImageConfig"],c5(l));const u=f(t,["controlImageConfig"]);u!=null&&m(e,["controlImageConfig"],i3(u));const d=f(t,["styleImageConfig"]);d!=null&&m(e,["styleImageConfig"],d);const p=f(t,["subjectImageConfig"]);return p!=null&&m(e,["subjectImageConfig"],p),e}function S_(t){const e={},i=f(t,["safetyAttributes","categories"]);i!=null&&m(e,["categories"],i);const o=f(t,["safetyAttributes","scores"]);o!=null&&m(e,["scores"],o);const r=f(t,["contentType"]);return r!=null&&m(e,["contentType"],r),e}function __(t){const e={},i=f(t,["safetyAttributes","categories"]);i!=null&&m(e,["categories"],i);const o=f(t,["safetyAttributes","scores"]);o!=null&&m(e,["scores"],o);const r=f(t,["contentType"]);return r!=null&&m(e,["contentType"],r),e}function v5(t){const e={},i=f(t,["category"]);if(i!=null&&m(e,["category"],i),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=f(t,["threshold"]);return o!=null&&m(e,["threshold"],o),e}function x5(t){const e={},i=f(t,["image"]);return i!=null&&m(e,["image"],jn(i)),e}function S5(t,e){const i={},o=f(t,["mode"]);e!==void 0&&o!=null&&m(e,["parameters","mode"],o);const r=f(t,["maxPredictions"]);e!==void 0&&r!=null&&m(e,["parameters","maxPredictions"],r);const l=f(t,["confidenceThreshold"]);e!==void 0&&l!=null&&m(e,["parameters","confidenceThreshold"],l);const u=f(t,["maskDilation"]);e!==void 0&&u!=null&&m(e,["parameters","maskDilation"],u);const d=f(t,["binaryColorThreshold"]);e!==void 0&&d!=null&&m(e,["parameters","binaryColorThreshold"],d);const p=f(t,["labels"]);return e!==void 0&&p!=null&&m(e,["labels"],p),i}function _5(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","model"],et(t,o));const r=f(e,["source"]);r!=null&&b5(r,i);const l=f(e,["config"]);return l!=null&&S5(l,i),i}function T5(t){const e={},i=f(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>J3(r))),m(e,["generatedMasks"],o)}return e}function b5(t,e){const i={},o=f(t,["prompt"]);e!==void 0&&o!=null&&m(e,["instances[0]","prompt"],o);const r=f(t,["image"]);e!==void 0&&r!=null&&m(e,["instances[0]","image"],jn(r));const l=f(t,["scribbleImage"]);return e!==void 0&&l!=null&&m(e,["instances[0]","scribble"],x5(l)),i}function E5(t){const e={},i=f(t,["functionCallingConfig"]);i!=null&&m(e,["functionCallingConfig"],C3(i));const o=f(t,["retrievalConfig"]);return o!=null&&m(e,["retrievalConfig"],o),e}function A5(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(x=>x)),m(e,["functionDeclarations"],g)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const r=f(t,["computerUse"]);r!=null&&m(e,["computerUse"],r);const l=f(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=f(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&m(e,["googleMaps"],Q3(d));const p=f(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],e5(p));const h=f(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function T_(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(S=>w3(S))),m(e,["functionDeclarations"],x)}const o=f(t,["retrieval"]);o!=null&&m(e,["retrieval"],o);const r=f(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const l=f(t,["computerUse"]);if(l!=null&&m(e,["computerUse"],l),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=f(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const d=f(t,["enterpriseWebSearch"]);d!=null&&m(e,["enterpriseWebSearch"],d);const p=f(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const h=f(t,["googleSearch"]);h!=null&&m(e,["googleSearch"],h);const g=f(t,["urlContext"]);return g!=null&&m(e,["urlContext"],g),e}function C5(t){const e={},i=f(t,["baseModel"]);i!=null&&m(e,["baseModel"],i);const o=f(t,["createTime"]);o!=null&&m(e,["createTime"],o);const r=f(t,["updateTime"]);return r!=null&&m(e,["updateTime"],r),e}function w5(t){const e={},i=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&m(e,["baseModel"],i);const o=f(t,["createTime"]);o!=null&&m(e,["createTime"],o);const r=f(t,["updateTime"]);return r!=null&&m(e,["updateTime"],r),e}function N5(t,e){const i={},o=f(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const r=f(t,["description"]);e!==void 0&&r!=null&&m(e,["description"],r);const l=f(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),i}function R5(t,e){const i={},o=f(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const r=f(t,["description"]);e!==void 0&&r!=null&&m(e,["description"],r);const l=f(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),i}function M5(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","name"],et(t,o));const r=f(e,["config"]);return r!=null&&N5(r,i),i}function k5(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","model"],et(t,o));const r=f(e,["config"]);return r!=null&&R5(r,i),i}function I5(t,e){const i={},o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const r=f(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&m(e,["parameters","safetySetting"],r);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const u=f(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","mimeType"],d);const p=f(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&m(e,["parameters","outputOptions","compressionQuality"],p);const h=f(t,["enhanceInputImage"]);e!==void 0&&h!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],h);const g=f(t,["imagePreservationFactor"]);e!==void 0&&g!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const x=f(t,["labels"]);e!==void 0&&x!=null&&m(e,["labels"],x);const S=f(t,["numberOfImages"]);e!==void 0&&S!=null&&m(e,["parameters","sampleCount"],S);const T=f(t,["mode"]);return e!==void 0&&T!=null&&m(e,["parameters","mode"],T),i}function D5(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["_url","model"],et(t,o));const r=f(e,["image"]);r!=null&&m(i,["instances[0]","image"],jn(r));const l=f(e,["upscaleFactor"]);l!=null&&m(i,["parameters","upscaleConfig","upscaleFactor"],l);const u=f(e,["config"]);return u!=null&&I5(u,i),i}function z5(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>cu(l))),m(e,["generatedImages"],r)}return e}function P5(t){const e={},i=f(t,["uri"]);i!=null&&m(e,["uri"],i);const o=f(t,["encodedVideo"]);o!=null&&m(e,["videoBytes"],ss(o));const r=f(t,["encoding"]);return r!=null&&m(e,["mimeType"],r),e}function U5(t){const e={},i=f(t,["gcsUri"]);i!=null&&m(e,["uri"],i);const o=f(t,["bytesBase64Encoded"]);o!=null&&m(e,["videoBytes"],ss(o));const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function L5(t){const e={},i=f(t,["image"]);i!=null&&m(e,["_self"],jn(i));const o=f(t,["maskMode"]);return o!=null&&m(e,["maskMode"],o),e}function V5(t){const e={},i=f(t,["image"]);i!=null&&m(e,["image"],du(i));const o=f(t,["referenceType"]);return o!=null&&m(e,["referenceType"],o),e}function O5(t){const e={},i=f(t,["image"]);i!=null&&m(e,["image"],jn(i));const o=f(t,["referenceType"]);return o!=null&&m(e,["referenceType"],o),e}function b_(t){const e={},i=f(t,["uri"]);i!=null&&m(e,["uri"],i);const o=f(t,["videoBytes"]);o!=null&&m(e,["encodedVideo"],ss(o));const r=f(t,["mimeType"]);return r!=null&&m(e,["encoding"],r),e}function E_(t){const e={},i=f(t,["uri"]);i!=null&&m(e,["gcsUri"],i);const o=f(t,["videoBytes"]);o!=null&&m(e,["bytesBase64Encoded"],ss(o));const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function B5(t,e){const i={},o=f(t,["displayName"]);return e!==void 0&&o!=null&&m(e,["displayName"],o),i}function G5(t){const e={},i=f(t,["config"]);return i!=null&&B5(i,e),e}function H5(t,e){const i={},o=f(t,["force"]);return e!==void 0&&o!=null&&m(e,["_query","force"],o),i}function F5(t){const e={},i=f(t,["name"]);i!=null&&m(e,["_url","name"],i);const o=f(t,["config"]);return o!=null&&H5(o,e),e}function q5(t){const e={},i=f(t,["name"]);return i!=null&&m(e,["_url","name"],i),e}function j5(t,e){const i={},o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["customMetadata"],l)}const r=f(t,["chunkingConfig"]);return e!==void 0&&r!=null&&m(e,["chunkingConfig"],r),i}function Y5(t){const e={},i=f(t,["name"]);i!=null&&m(e,["name"],i);const o=f(t,["metadata"]);o!=null&&m(e,["metadata"],o);const r=f(t,["done"]);r!=null&&m(e,["done"],r);const l=f(t,["error"]);l!=null&&m(e,["error"],l);const u=f(t,["response"]);return u!=null&&m(e,["response"],K5(u)),e}function J5(t){const e={},i=f(t,["fileSearchStoreName"]);i!=null&&m(e,["_url","file_search_store_name"],i);const o=f(t,["fileName"]);o!=null&&m(e,["fileName"],o);const r=f(t,["config"]);return r!=null&&j5(r,e),e}function K5(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["parent"]);o!=null&&m(e,["parent"],o);const r=f(t,["documentName"]);return r!=null&&m(e,["documentName"],r),e}function X5(t,e){const i={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),i}function $5(t){const e={},i=f(t,["config"]);return i!=null&&X5(i,e),e}function Z5(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const r=f(t,["fileSearchStores"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["fileSearchStores"],l)}return e}function A_(t,e){const i={},o=f(t,["mimeType"]);e!==void 0&&o!=null&&m(e,["mimeType"],o);const r=f(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const l=f(t,["customMetadata"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>p)),m(e,["customMetadata"],d)}const u=f(t,["chunkingConfig"]);return e!==void 0&&u!=null&&m(e,["chunkingConfig"],u),i}function W5(t){const e={},i=f(t,["fileSearchStoreName"]);i!=null&&m(e,["_url","file_search_store_name"],i);const o=f(t,["config"]);return o!=null&&A_(o,e),e}function Q5(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}const ez="Content-Type",tz="X-Server-Timeout",nz="User-Agent",If="x-goog-api-client",iz="1.34.0",sz=`google-genai-sdk/${iz}`,oz="v1beta1",rz="v1beta";class az{constructor(e){var i,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:oz,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:rz,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,o){const r=[this.getRequestUrlInternal(i)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,i,o);if(e.queryParams)for(const[u,d]of Object.entries(e.queryParams))r.searchParams.append(u,String(d));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,r.toString(),e.abortSignal),this.unaryApiCall(r,l,e.httpMethod)}patchHttpOptions(e,i){const o=JSON.parse(JSON.stringify(e));for(const[r,l]of Object.entries(i))typeof l=="object"?o[r]=Object.assign(Object.assign({},o[r]),l):l!==void 0&&(o[r]=l);return o}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,i,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,r.toString(),e.abortSignal),this.streamApiCall(r,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,o,r){if(i&&i.timeout||r){const l=new AbortController,u=l.signal;if(i.timeout&&i?.timeout>0){const d=setTimeout(()=>l.abort(),i.timeout);d&&typeof d.unref=="function"&&d.unref()}r&&r.addEventListener("abort",()=>{l.abort()}),e.signal=u}return i&&i.extraBody!==null&&lz(e,i.extraBody),e.headers=await this.getHeadersInternal(i,o),e}async unaryApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async r=>(await Cx(r),new wf(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async r=>(await Cx(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return Fn(this,arguments,function*(){var o;const r=(o=e?.body)===null||o===void 0?void 0:o.getReader(),l=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let u="";const d="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:g}=yield Le(r.read());if(h){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const x=l.decode(g,{stream:!0});try{const C=JSON.parse(x);if("error"in C){const b=JSON.parse(JSON.stringify(C.error)),A=b.status,w=b.code,M=`got status: ${A}. ${JSON.stringify(C)}`;if(w>=400&&w<600)throw new lu({message:M,status:w})}}catch(C){if(C.name==="ApiError")throw C}u+=x;let S=-1,T=0;for(;;){S=-1,T=0;for(const A of p){const w=u.indexOf(A);w!==-1&&(S===-1||w<S)&&(S=w,T=A.length)}if(S===-1)break;const C=u.substring(0,S);u=u.substring(S+T);const b=C.trim();if(b.startsWith(d)){const A=b.substring(d.length).trim();try{const w=new Response(A,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield Le(new wf(w))}catch(w){throw new Error(`exception parsing stream chunk ${A}. ${w}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},i=sz+" "+this.clientOptions.userAgentExtra;return e[nz]=i,e[If]=i,e[ez]="application/json",e}async getHeadersInternal(e,i){const o=new Headers;if(e&&e.headers){for(const[r,l]of Object.entries(e.headers))o.append(r,l);e.timeout&&e.timeout>0&&o.append(tz,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,i),o}getFileName(e){var i;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(i=o.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),o}async uploadFile(e,i){var o;const r={};i!=null&&(r.mimeType=i.mimeType,r.name=i.name,r.displayName=i.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const l=this.clientOptions.uploader,u=await l.stat(e);r.sizeBytes=String(u.size);const d=(o=i?.mimeType)!==null&&o!==void 0?o:u.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=d;const p={file:r},h=this.getFileName(e),g=be("upload/v1beta/files",p._url),x=await this.fetchUploadUrl(g,r.sizeBytes,r.mimeType,h,p,i?.httpOptions);return l.upload(e,x,this)}async uploadFileToFileSearchStore(e,i,o){var r;const l=this.clientOptions.uploader,u=await l.stat(i),d=String(u.size),p=(r=o?.mimeType)!==null&&r!==void 0?r:u.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,g=this.getFileName(i),x={};o!=null&&A_(o,x);const S=await this.fetchUploadUrl(h,d,p,g,x,o?.httpOptions);return l.uploadToFileSearchStore(i,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,o,r,l,u){var d;let p={};u?p=u:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:p});if(!h||!h?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(d=h?.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Cx(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(o);throw i>=400&&i<600?new lu({message:r,status:i}):new Error(r)}}function lz(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(l,u){const d=Object.assign({},l);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const h=u[p],g=d[p];h&&typeof h=="object"&&!Array.isArray(h)&&g&&typeof g=="object"&&!Array.isArray(g)?d[p]=o(g,h):(g&&h&&typeof g!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof g}, New type: ${typeof h}. Overwriting.`),d[p]=h)}return d}const r=o(i,e);t.body=JSON.stringify(r)}const uz="mcp_used/unknown";let cz=!1;function C_(t){for(const e of t)if(dz(e)||typeof e=="object"&&"inputSchema"in e)return!0;return cz}function w_(t){var e;const i=(e=t[If])!==null&&e!==void 0?e:"";t[If]=(i+` ${uz}`).trimStart()}function dz(t){return t!==null&&typeof t=="object"&&t instanceof Dh}function fz(t){return Fn(this,arguments,function*(i,o=100){let r,l=0;for(;l<o;){const u=yield Le(i.listTools({cursor:r}));for(const d of u.tools)yield yield Le(d),l++;if(!u.nextCursor)break;r=u.nextCursor}})}class Dh{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Dh(e,i)}async initialize(){var e,i,o,r;if(this.mcpTools.length>0)return;const l={},u=[];for(const g of this.mcpClients)try{for(var d=!0,p=(i=void 0,qn(fz(g))),h;h=await p.next(),e=h.done,!e;d=!0){r=h.value,d=!1;const x=r;u.push(x);const S=x.name;if(l[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);l[S]=g}}catch(x){i={error:x}}finally{try{!d&&!e&&(o=p.return)&&await o.call(p)}finally{if(i)throw i.error}}this.mcpTools=u,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),qk(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const u=await r.callTool({name:o.name,arguments:o.args},void 0,l);i.push({functionResponse:{name:o.name,response:u.isError?{error:u}:u}})}return i}}async function hz(t,e,i){const o=new Uk;let r;i.data instanceof Blob?r=JSON.parse(await i.data.text()):r=JSON.parse(i.data),Object.assign(o,r),e(o)}class pz{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o}async connect(e){var i,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),u=yz(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),p=`${r}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${d}`;let h=()=>{};const g=new Promise(k=>{h=k}),x=e.callbacks,S=function(){h({})},T=this.apiClient,C={onopen:S,onmessage:k=>{hz(T,x.onmessage,k)},onerror:(i=x?.onerror)!==null&&i!==void 0?i:function(k){},onclose:(o=x?.onclose)!==null&&o!==void 0?o:function(k){}},b=this.webSocketFactory.create(p,gz(u),C);b.connect(),await g;const M={setup:{model:et(this.apiClient,e.model)}};return b.send(JSON.stringify(M)),new mz(b,this.apiClient)}}class mz{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=GD(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=BD(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Mo.PLAY)}pause(){this.sendPlaybackControl(Mo.PAUSE)}stop(){this.sendPlaybackControl(Mo.STOP)}resetContext(){this.sendPlaybackControl(Mo.RESET_CONTEXT)}close(){this.conn.close()}}function gz(t){const e={};return t.forEach((i,o)=>{e[o]=i}),e}function yz(t){const e=new Headers;for(const[i,o]of Object.entries(t))e.append(i,o);return e}const vz="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function xz(t,e,i){const o=new Pk;let r;i.data instanceof Blob?r=await i.data.text():i.data instanceof ArrayBuffer?r=new TextDecoder().decode(i.data):r=i.data;const l=JSON.parse(r);if(t.isVertexAI()){const u=qD(l);Object.assign(o,u)}else Object.assign(o,l);e(o)}class Sz{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o,this.music=new pz(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,o,r,l,u,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let g;const x=this.apiClient.getHeaders();e.config&&e.config.tools&&C_(e.config.tools)&&w_(x);const S=Ez(x);if(this.apiClient.isVertexAI())g=`${p}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,g);else{const F=this.apiClient.getApiKey();let ie="BidiGenerateContent",ve="key";F?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ie="BidiGenerateContentConstrained",ve="access_token"),g=`${p}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ie}?${ve}=${F}`}let T=()=>{};const C=new Promise(F=>{T=F}),b=e.callbacks,A=function(){var F;(F=b?.onopen)===null||F===void 0||F.call(b),T({})},w=this.apiClient,M={onopen:A,onmessage:F=>{xz(w,b.onmessage,F)},onerror:(i=b?.onerror)!==null&&i!==void 0?i:function(F){},onclose:(o=b?.onclose)!==null&&o!==void 0?o:function(F){}},k=this.webSocketFactory.create(g,bz(S),M);k.connect(),await C;let P=et(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const F=this.apiClient.getProject(),ie=this.apiClient.getLocation();P=`projects/${F}/locations/${ie}/`+P}let z={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Xl.AUDIO]}:e.config.responseModalities=[Xl.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const q=(d=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[],O=[];for(const F of q)if(this.isCallableTool(F)){const ie=F;O.push(await ie.tool())}else O.push(F);O.length>0&&(e.config.tools=O);const G={model:P,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?z=OD(this.apiClient,G):z=VD(this.apiClient,G),delete z.config,k.send(JSON.stringify(z)),new Tz(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const _z={turnComplete:!0};class Tz{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let o=[];try{o=Pn(i.turns),e.isVertexAI()||(o=o.map(r=>uu(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:o,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let o=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?o=i.functionResponses:o=[i.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const l of o){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(vz)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},_z),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:FD(e)}:i={realtimeInput:HD(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function bz(t){const e={};return t.forEach((i,o)=>{e[o]=i}),e}function Ez(t){const e=new Headers;for(const[i,o]of Object.entries(t))e.append(i,o);return e}const wx=10;function Nx(t){var e,i,o;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const u of(i=t?.tools)!==null&&i!==void 0?i:[])if(zo(u)){r=!0;break}if(!r)return!0;const l=(o=t?.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function zo(t){return"callTool"in t&&typeof t.callTool=="function"}function Az(t){var e,i,o;return(o=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(r=>zo(r)))!==null&&o!==void 0?o:!1}function Rx(t){var e;const i=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(zo(o))return;const l=o;l.functionDeclarations&&l.functionDeclarations.length>0&&i.push(r)}),i}function Mx(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}class Cz extends wi{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var o,r,l,u,d;const p=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!Az(i)||Nx(i.config))return await this.generateContentInternal(p);const h=Rx(i);if(h.length>0){const b=h.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let g,x;const S=Pn(p.contents),T=(l=(r=(o=p.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:wx;let C=0;for(;C<T&&(g=await this.generateContentInternal(p),!(!g.functionCalls||g.functionCalls.length===0));){const b=g.candidates[0].content,A=[];for(const w of(d=(u=i.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[])if(zo(w)){const k=await w.callTool(g.functionCalls);A.push(...k)}C++,x={role:"user",parts:A},p.contents=Pn(p.contents),p.contents.push(b),p.contents.push(x),Mx(p.config)&&(S.push(b),S.push(x))}return Mx(p.config)&&(g.automaticFunctionCallingHistory=S),g},this.generateContentStream=async i=>{var o,r,l,u,d;if(this.maybeMoveToResponseJsonSchem(i),Nx(i.config)){const x=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(x)}const p=Rx(i);if(p.length>0){const x=p.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${x}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(l=(r=(o=i?.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,g=(d=(u=i?.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(h&&!g)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(o=>{var r;let l;const u=[];if(o?.generatedImages)for(const p of o.generatedImages)p&&p?.safetyAttributes&&((r=p?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?l=p?.safetyAttributes:u.push(p);let d;return l?d={generatedImages:u,positivePromptSafetyAttributes:l,sdkHttpResponse:o.sdkHttpResponse}:d={generatedImages:u,sdkHttpResponse:o.sdkHttpResponse},d}),this.list=async i=>{var o;const u={config:Object.assign(Object.assign({},{queryBase:!0}),i?.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((o=u.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Ds(Ci.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(u),u)},this.editImage=async i=>{const o={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(o.referenceImages=i.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async i=>{let o={numberOfImages:1,mode:"upscale"};i.config&&(o=Object.assign(Object.assign({},o),i.config));const r={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async i=>{var o,r,l,u,d,p;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=i.video)===null||o===void 0)&&o.uri&&(!((r=i.video)===null||r===void 0)&&r.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((u=(l=i.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.uri&&(!((p=(d=i.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,o,r;const l=(i=e.config)===null||i===void 0?void 0:i.tools;if(!l)return e;const u=await Promise.all(l.map(async p=>zo(p)?await p.tool():p)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(d.config.tools=u,e.config&&e.config.tools&&C_(e.config.tools)){const p=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},p);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),w_(h),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return d}async initAfcToolsMap(e){var i,o,r;const l=new Map;for(const u of(o=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[])if(zo(u)){const d=u,p=await d.tool();for(const h of(r=p.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(l.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);l.set(h.name,d)}}return l}async processAfcStream(e){var i,o,r;const l=(r=(o=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:wx;let u=!1,d=0;const p=await this.initAfcToolsMap(e);return(function(h,g,x){return Fn(this,arguments,function*(){for(var S,T,C,b,A,w;d<l;){u&&(d++,u=!1);const z=yield Le(h.processParamsMaybeAddMcpUsage(x)),q=yield Le(h.generateContentStreamInternal(z)),O=[],G=[];try{for(var M=!0,k=(T=void 0,qn(q)),P;P=yield Le(k.next()),S=P.done,!S;M=!0){b=P.value,M=!1;const F=b;if(yield yield Le(F),F.candidates&&(!((A=F.candidates[0])===null||A===void 0)&&A.content)){G.push(F.candidates[0].content);for(const ie of(w=F.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(d<l&&ie.functionCall){if(!ie.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(ie.functionCall.name)){const ve=yield Le(g.get(ie.functionCall.name).callTool([ie.functionCall]));O.push(...ve)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${ie.functionCall.name}`)}}}}catch(F){T={error:F}}finally{try{!M&&!S&&(C=k.return)&&(yield Le(C.call(k)))}finally{if(T)throw T.error}}if(O.length>0){u=!0;const F=new Hr;F.candidates=[{content:{role:"user",parts:O}}],yield yield Le(F);const ie=[];ie.push(...G),ie.push({role:"user",parts:O});const ve=Pn(x.contents).concat(ie);x.contents=ve}else break}})})(this,p,e)}async generateContentInternal(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=bx(this.apiClient,e);return d=be("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=Ax(g),S=new Hr;return Object.assign(S,x),S})}else{const h=Tx(this.apiClient,e);return d=be("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=Ex(g),S=new Hr;return Object.assign(S,x),S})}}async generateContentStreamInternal(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=bx(this.apiClient,e);return d=be("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),u.then(function(x){return Fn(this,arguments,function*(){var S,T,C,b;try{for(var A=!0,w=qn(x),M;M=yield Le(w.next()),S=M.done,!S;A=!0){b=M.value,A=!1;const k=b,P=Ax(yield Le(k.json()));P.sdkHttpResponse={headers:k.headers};const z=new Hr;Object.assign(z,P),yield yield Le(z)}}catch(k){T={error:k}}finally{try{!A&&!S&&(C=w.return)&&(yield Le(C.call(w)))}finally{if(T)throw T.error}}})})}else{const h=Tx(this.apiClient,e);return d=be("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(x){return Fn(this,arguments,function*(){var S,T,C,b;try{for(var A=!0,w=qn(x),M;M=yield Le(w.next()),S=M.done,!S;A=!0){b=M.value,A=!1;const k=b,P=Ex(yield Le(k.json()));P.sdkHttpResponse={headers:k.headers};const z=new Hr;Object.assign(z,P),yield yield Le(z)}}catch(k){T={error:k}}finally{try{!A&&!S&&(C=w.return)&&(yield Le(C.call(w)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=S3(this.apiClient,e);return d=be("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=T3(g),S=new ox;return Object.assign(S,x),S})}else{const h=x3(this.apiClient,e);return d=be("{model}:batchEmbedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=_3(g),S=new ox;return Object.assign(S,x),S})}}async generateImagesInternal(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=D3(this.apiClient,e);return d=be("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=P3(g),S=new rx;return Object.assign(S,x),S})}else{const h=I3(this.apiClient,e);return d=be("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=z3(g),S=new rx;return Object.assign(S,x),S})}}async editImageInternal(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI()){const d=m3(this.apiClient,e);return l=be("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const h=g3(p),g=new Ek;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI()){const d=D5(this.apiClient,e);return l=be("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const h=z5(p),g=new Ak;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI()){const d=p5(this.apiClient,e);return l=be("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const h=m5(p),g=new Ck;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI()){const d=_5(this.apiClient,e);return l=be("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const h=T5(p),g=new wk;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=W3(this.apiClient,e);return d=be("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u.then(g=>kf(g))}else{const h=Z3(this.apiClient,e);return d=be("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>Mf(g))}}async listInternal(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=a5(this.apiClient,e);return d=be("{models_url}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=u5(g),S=new ax;return Object.assign(S,x),S})}else{const h=r5(this.apiClient,e);return d=be("{models_url}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=l5(g),S=new ax;return Object.assign(S,x),S})}}async update(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=k5(this.apiClient,e);return d=be("{model}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u.then(g=>kf(g))}else{const h=M5(this.apiClient,e);return d=be("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>Mf(g))}}async delete(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=d3(this.apiClient,e);return d=be("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=h3(g),S=new lx;return Object.assign(S,x),S})}else{const h=c3(this.apiClient,e);return d=be("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=f3(g),S=new lx;return Object.assign(S,x),S})}}async countTokens(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=a3(this.apiClient,e);return d=be("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=u3(g),S=new ux;return Object.assign(S,x),S})}else{const h=r3(this.apiClient,e);return d=be("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=l3(g),S=new ux;return Object.assign(S,x),S})}}async computeTokens(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI()){const d=QD(this.apiClient,e);return l=be("{model}:computeTokens",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const h=e3(p),g=new Nk;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=G3(this.apiClient,e);return d=be("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u.then(g=>{const x=O3(g),S=new $l;return Object.assign(S,x),S})}else{const h=B3(this.apiClient,e);return d=be("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>{const x=V3(g),S=new $l;return Object.assign(S,x),S})}}}class wz extends wi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=vk(e);return d=be("{operationName}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),u}else{const h=yk(e);return d=be("{operationName}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u}}async fetchPredictVideosOperationInternal(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI()){const d=ck(e);return l=be("{resourceName}:fetchPredictOperation",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}function Nz(t){const e={},i=f(t,["data"]);if(i!=null&&m(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function Rz(t){const e={},i=f(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Vz(l))),m(e,["parts"],r)}const o=f(t,["role"]);return o!=null&&m(e,["role"],o),e}function Mz(t,e,i){const o={},r=f(e,["expireTime"]);i!==void 0&&r!=null&&m(i,["expireTime"],r);const l=f(e,["newSessionExpireTime"]);i!==void 0&&l!=null&&m(i,["newSessionExpireTime"],l);const u=f(e,["uses"]);i!==void 0&&u!=null&&m(i,["uses"],u);const d=f(e,["liveConnectConstraints"]);i!==void 0&&d!=null&&m(i,["bidiGenerateContentSetup"],Lz(t,d));const p=f(e,["lockAdditionalFields"]);return i!==void 0&&p!=null&&m(i,["fieldMask"],p),o}function kz(t,e){const i={},o=f(e,["config"]);return o!=null&&m(i,["config"],Mz(t,o,i)),i}function Iz(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const o=f(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function Dz(t){const e={},i=f(t,["id"]);i!=null&&m(e,["id"],i);const o=f(t,["args"]);o!=null&&m(e,["args"],o);const r=f(t,["name"]);if(r!=null&&m(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zz(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function Pz(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&m(e,["timeRangeFilter"],i),e}function Uz(t,e){const i={},o=f(t,["generationConfig"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig"],o);const r=f(t,["responseModalities"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig","responseModalities"],r);const l=f(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const u=f(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const d=f(t,["topK"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","topK"],d);const p=f(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=f(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const g=f(t,["seed"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","seed"],g);const x=f(t,["speechConfig"]);e!==void 0&&x!=null&&m(e,["setup","generationConfig","speechConfig"],Ih(x));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&m(e,["setup","generationConfig","thinkingConfig"],S);const T=f(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],T);const C=f(t,["systemInstruction"]);e!==void 0&&C!=null&&m(e,["setup","systemInstruction"],Rz(Wt(C)));const b=f(t,["tools"]);if(e!==void 0&&b!=null){let q=Fo(b);Array.isArray(q)&&(q=q.map(O=>Bz(Ho(O)))),m(e,["setup","tools"],q)}const A=f(t,["sessionResumption"]);e!==void 0&&A!=null&&m(e,["setup","sessionResumption"],Oz(A));const w=f(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","inputAudioTranscription"],w);const M=f(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&m(e,["setup","outputAudioTranscription"],M);const k=f(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&m(e,["setup","realtimeInputConfig"],k);const P=f(t,["contextWindowCompression"]);e!==void 0&&P!=null&&m(e,["setup","contextWindowCompression"],P);const z=f(t,["proactivity"]);if(e!==void 0&&z!=null&&m(e,["setup","proactivity"],z),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function Lz(t,e){const i={},o=f(e,["model"]);o!=null&&m(i,["setup","model"],et(t,o));const r=f(e,["config"]);return r!=null&&m(i,["config"],Uz(r,i)),i}function Vz(t){const e={},i=f(t,["mediaResolution"]);i!=null&&m(e,["mediaResolution"],i);const o=f(t,["codeExecutionResult"]);o!=null&&m(e,["codeExecutionResult"],o);const r=f(t,["executableCode"]);r!=null&&m(e,["executableCode"],r);const l=f(t,["fileData"]);l!=null&&m(e,["fileData"],Iz(l));const u=f(t,["functionCall"]);u!=null&&m(e,["functionCall"],Dz(u));const d=f(t,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=f(t,["inlineData"]);p!=null&&m(e,["inlineData"],Nz(p));const h=f(t,["text"]);h!=null&&m(e,["text"],h);const g=f(t,["thought"]);g!=null&&m(e,["thought"],g);const x=f(t,["thoughtSignature"]);x!=null&&m(e,["thoughtSignature"],x);const S=f(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function Oz(t){const e={},i=f(t,["handle"]);if(i!=null&&m(e,["handle"],i),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Bz(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(x=>x)),m(e,["functionDeclarations"],g)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const r=f(t,["computerUse"]);r!=null&&m(e,["computerUse"],r);const l=f(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=f(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&m(e,["googleMaps"],zz(d));const p=f(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],Pz(p));const h=f(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function Gz(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(l=>`${i}.${l}`);e.push(...r)}else e.push(i)}return e.join(",")}function Hz(t,e){let i=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const l=o.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,i=l):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(i){const l=Gz(i);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)l?t.fieldMask=l:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];r.length>0&&(d=r.map(h=>u.includes(h)?`generationConfig.${h}`:h));const p=[];l&&p.push(l),d.length>0&&p.push(...d),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class Fz extends wi{constructor(e){super(),this.apiClient=e}async create(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=kz(this.apiClient,e);l=be("auth_tokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query;const p=Hz(d,e.config);return r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}function qz(t,e){const i={},o=f(t,["force"]);return e!==void 0&&o!=null&&m(e,["_query","force"],o),i}function jz(t){const e={},i=f(t,["name"]);i!=null&&m(e,["_url","name"],i);const o=f(t,["config"]);return o!=null&&qz(o,e),e}function Yz(t){const e={},i=f(t,["name"]);return i!=null&&m(e,["_url","name"],i),e}function Jz(t,e){const i={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),i}function Kz(t){const e={},i=f(t,["parent"]);i!=null&&m(e,["_url","parent"],i);const o=f(t,["config"]);return o!=null&&Jz(o,e),e}function Xz(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const o=f(t,["nextPageToken"]);o!=null&&m(e,["nextPageToken"],o);const r=f(t,["documents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["documents"],l)}return e}class $z extends wi{constructor(e){super(),this.apiClient=e,this.list=async i=>new Ds(Ci.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:i.parent,config:o.config}),await this.listInternal(i),i)}async get(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Yz(e);return l=be("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var i,o;let r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jz(e);r=be("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Kz(e);return l=be("{parent}/documents",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const h=Xz(p),g=new Rk;return Object.assign(g,h),g})}}}class Zz extends wi{constructor(e,i=new $z(e)){super(),this.apiClient=e,this.documents=i,this.list=async(o={})=>new Ds(Ci.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=G5(e);return l=be("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async get(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=q5(e);return l=be("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var i,o;let r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=F5(e);r=be("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=$5(e);return l=be("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const h=Z5(p),g=new Mk;return Object.assign(g,h),g})}}async uploadToFileSearchStoreInternal(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=W5(e);return l=be("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const h=Q5(p),g=new kk;return Object.assign(g,h),g})}}async importFile(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=J5(e);return l=be("{file_search_store_name}:importFile",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const h=Y5(p),g=new wh;return Object.assign(g,h),g})}}}let N_=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return N_=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^i()&15>>+o/4).toString(16))};const Wz=()=>N_();function Df(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const zf=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Un extends Error{}class nn extends Un{constructor(e,i,o,r){super(`${nn.makeMessage(e,i,o)}`),this.status=e,this.headers=r,this.error=i}static makeMessage(e,i,o){const r=i?.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,i,o,r){if(!e||!r)return new fu({message:o,cause:zf(i)});const l=i;return e===400?new M_(e,l,o,r):e===401?new k_(e,l,o,r):e===403?new I_(e,l,o,r):e===404?new D_(e,l,o,r):e===409?new z_(e,l,o,r):e===422?new P_(e,l,o,r):e===429?new U_(e,l,o,r):e>=500?new L_(e,l,o,r):new nn(e,l,o,r)}}class Pf extends nn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class fu extends nn{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class R_ extends fu{constructor({message:e}={}){super({message:e??"Request timed out."})}}class M_ extends nn{}class k_ extends nn{}class I_ extends nn{}class D_ extends nn{}class z_ extends nn{}class P_ extends nn{}class U_ extends nn{}class L_ extends nn{}const Qz=/^[a-z][a-z0-9+.-]*:/i,eP=t=>Qz.test(t);let Uf=t=>(Uf=Array.isArray,Uf(t));const tP=Uf;let nP=tP;const kx=nP;function iP(t){if(!t)return!0;for(const e in t)return!1;return!0}function sP(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const oP=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Un(`${t} must be an integer`);if(e<0)throw new Un(`${t} must be a positive integer`);return e},rP=t=>{try{return JSON.parse(t)}catch{return}};const aP=t=>new Promise(e=>setTimeout(e,t));const To="0.0.1";function lP(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const uP=()=>{var t,e,i,o,r;const l=lP();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":To,"X-Stainless-OS":Dx(Deno.build.os),"X-Stainless-Arch":Ix(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":To,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":To,"X-Stainless-OS":Dx((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":Ix((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const u=cP();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":To,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":To,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function cP(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const o=i.exec(navigator.userAgent);if(o){const r=o[1]||0,l=o[2]||0,u=o[3]||0;return{browser:e,version:`${r}.${l}.${u}`}}}return null}const Ix=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Dx=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Nl;const dP=()=>Nl??(Nl=uP());function fP(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function V_(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function hP(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return V_({start(){},async pull(i){const{done:o,value:r}=await e.next();o?i.close():i.enqueue(r)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function O_(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i?.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function pP(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const o=t.getReader(),r=o.cancel();o.releaseLock(),await r}const mP=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const B_=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Xd(t,e,i){return B_(),new File(t,e??"unknown_file",i)}function gP(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const yP=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const G_=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",vP=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&G_(t),xP=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function SP(t,e,i){if(B_(),t=await t,vP(t))return t instanceof File?t:Xd([await t.arrayBuffer()],t.name);if(xP(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Xd(await Lf(r),e,i)}const o=await Lf(t);if(e||(e=gP(t)),!i?.type){const r=o.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof r=="string"&&(i=Object.assign(Object.assign({},i),{type:r}))}return Xd(o,e,i)}async function Lf(t){var e,i,o,r,l;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(G_(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(yP(t))try{for(var d=!0,p=qn(t),h;h=await p.next(),e=h.done,!e;d=!0){r=h.value,d=!1;const g=r;u.push(...await Lf(g))}}catch(g){i={error:g}}finally{try{!d&&!e&&(o=p.return)&&await o.call(p)}finally{if(i)throw i.error}}else{const g=(l=t?.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${g?`; constructor: ${g}`:""}${_P(t)}`)}return u}function _P(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}class H_{constructor(e){this._client=e}}H_._key=[];function F_(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const zx=Object.freeze(Object.create(null)),TP=(t=F_)=>(function(i,...o){if(i.length===1)return i[0];let r=!1;const l=[],u=i.reduce((g,x,S)=>{var T,C,b;/[?#]/.test(x)&&(r=!0);const A=o[S];let w=(r?encodeURIComponent:t)(""+A);return S!==o.length&&(A==null||typeof A=="object"&&A.toString===((b=Object.getPrototypeOf((C=Object.getPrototypeOf((T=A.hasOwnProperty)!==null&&T!==void 0?T:zx))!==null&&C!==void 0?C:zx))===null||b===void 0?void 0:b.toString))&&(w=A+"",l.push({start:g.length+x.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),g+x+(S===o.length?"":w)},""),d=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=p.exec(d))!==null;)l.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(l.sort((g,x)=>g.start-x.start),l.length>0){let g=0;const x=l.reduce((S,T)=>{const C=" ".repeat(T.start-g),b="^".repeat(T.length);return g=T.start+T.length,S+C+b},"");throw new Un(`Path parameters result in path with invalid segments:
${l.map(S=>S.error).join(`
`)}
${u}
${x}`)}return u}),Rl=TP(F_);class q_ extends H_{create(e,i){var o;const{api_version:r=this._client.apiVersion}=e,l=Wl(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new Un("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new Un("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Rl`/${r}/interactions`,Object.assign(Object.assign({body:l},i),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,i={},o){const{api_version:r=this._client.apiVersion}=i??{};return this._client.delete(Rl`/${r}/interactions/${e}`,o)}cancel(e,i={},o){const{api_version:r=this._client.apiVersion}=i??{};return this._client.post(Rl`/${r}/interactions/${e}/cancel`,o)}get(e,i={},o){var r;const l=i??{},{api_version:u=this._client.apiVersion}=l,d=Wl(l,["api_version"]);return this._client.get(Rl`/${u}/interactions/${e}`,Object.assign(Object.assign({query:d},o),{stream:(r=i?.stream)!==null&&r!==void 0?r:!1}))}}q_._key=Object.freeze(["interactions"]);class j_ extends q_{}function bP(t){let e=0;for(const r of t)e+=r.length;const i=new Uint8Array(e);let o=0;for(const r of t)i.set(r,o),o+=r.length;return i}let Ml;function zh(t){let e;return(Ml??(e=new globalThis.TextEncoder,Ml=e.encode.bind(e)))(t)}let kl;function Px(t){let e;return(kl??(e=new globalThis.TextDecoder,kl=e.decode.bind(e)))(t)}class hu{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?zh(e):e;this.buffer=bP([this.buffer,i]);const o=[];let r;for(;(r=EP(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(Px(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,u=Px(this.buffer.subarray(0,l));o.push(u),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}hu.NEWLINE_CHARS=new Set([`
`,"\r"]);hu.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function EP(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function AP(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}const Ql={off:0,error:200,warn:300,info:400,debug:500},Ux=(t,e,i)=>{if(t){if(sP(Ql,t))return t;en(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Ql))}`)}};function jr(){}function Il(t,e,i){return!e||Ql[t]>Ql[i]?jr:e[t].bind(e)}const CP={error:jr,warn:jr,info:jr,debug:jr};let Lx=new WeakMap;function en(t){var e;const i=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return CP;const r=Lx.get(i);if(r&&r[0]===o)return r[1];const l={error:Il("error",i,o),warn:Il("warn",i,o),info:Il("info",i,o),debug:Il("debug",i,o)};return Lx.set(i,[o,l]),l}const Ns=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);class ko{constructor(e,i,o){this.iterator=e,this.controller=i,this.client=o}static fromSSEResponse(e,i,o){let r=!1;const l=o?en(o):console;function u(){return Fn(this,arguments,function*(){var p,h,g,x;if(r)throw new Un("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var T=!0,C=qn(wP(e,i)),b;b=yield Le(C.next()),p=b.done,!p;T=!0){x=b.value,T=!1;const A=x;if(!S)if(A.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield Le(JSON.parse(A.data))}catch(w){throw l.error("Could not parse message into JSON:",A.data),l.error("From chunk:",A.raw),w}}}catch(A){h={error:A}}finally{try{!T&&!p&&(g=C.return)&&(yield Le(g.call(C)))}finally{if(h)throw h.error}}S=!0}catch(A){if(Df(A))return yield Le(void 0);throw A}finally{S||i.abort()}})}return new ko(u,i,o)}static fromReadableStream(e,i,o){let r=!1;function l(){return Fn(this,arguments,function*(){var p,h,g,x;const S=new hu,T=O_(e);try{for(var C=!0,b=qn(T),A;A=yield Le(b.next()),p=A.done,!p;C=!0){x=A.value,C=!1;const w=x;for(const M of S.decode(w))yield yield Le(M)}}catch(w){h={error:w}}finally{try{!C&&!p&&(g=b.return)&&(yield Le(g.call(b)))}finally{if(h)throw h.error}}for(const w of S.flush())yield yield Le(w)})}function u(){return Fn(this,arguments,function*(){var p,h,g,x;if(r)throw new Un("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var T=!0,C=qn(l()),b;b=yield Le(C.next()),p=b.done,!p;T=!0){x=b.value,T=!1;const A=x;S||A&&(yield yield Le(JSON.parse(A)))}}catch(A){h={error:A}}finally{try{!T&&!p&&(g=C.return)&&(yield Le(g.call(C)))}finally{if(h)throw h.error}}S=!0}catch(A){if(Df(A))return yield Le(void 0);throw A}finally{S||i.abort()}})}return new ko(u,i,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],o=this.iterator(),r=l=>({next:()=>{if(l.length===0){const u=o.next();e.push(u),i.push(u)}return l.shift()}});return[new ko(()=>r(e),this.controller,this.client),new ko(()=>r(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return V_({async start(){i=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:l}=await i.next();if(l)return o.close();const u=zh(JSON.stringify(r)+`
`);o.enqueue(u)}catch(r){o.error(r)}},async cancel(){var o;await((o=i.return)===null||o===void 0?void 0:o.call(i))}})}}function wP(t,e){return Fn(this,arguments,function*(){var o,r,l,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Un("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Un("Attempted to iterate over a response with no body");const d=new RP,p=new hu,h=O_(t.body);try{for(var g=!0,x=qn(NP(h)),S;S=yield Le(x.next()),o=S.done,!o;g=!0){u=S.value,g=!1;const T=u;for(const C of p.decode(T)){const b=d.decode(C);b&&(yield yield Le(b))}}}catch(T){r={error:T}}finally{try{!g&&!o&&(l=x.return)&&(yield Le(l.call(x)))}finally{if(r)throw r.error}}for(const T of p.flush()){const C=d.decode(T);C&&(yield yield Le(C))}})}function NP(t){return Fn(this,arguments,function*(){var i,o,r,l;let u=new Uint8Array;try{for(var d=!0,p=qn(t),h;h=yield Le(p.next()),i=h.done,!i;d=!0){l=h.value,d=!1;const g=l;if(g==null)continue;const x=g instanceof ArrayBuffer?new Uint8Array(g):typeof g=="string"?zh(g):g;let S=new Uint8Array(u.length+x.length);S.set(u),S.set(x,u.length),u=S;let T;for(;(T=AP(u))!==-1;)yield yield Le(u.slice(0,T)),u=u.slice(T)}}catch(g){o={error:g}}finally{try{!d&&!i&&(r=p.return)&&(yield Le(r.call(p)))}finally{if(o)throw o.error}}u.length>0&&(yield yield Le(u))})}class RP{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,o,r]=MP(e,":");return r.startsWith(" ")&&(r=r.substring(1)),i==="event"?this.event=r:i==="data"&&this.data.push(r),null}}function MP(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}async function kP(t,e){const{response:i,requestLogID:o,retryOfRequestLogID:r,startTime:l}=e,u=await(async()=>{var d;if(e.options.stream)return en(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):ko.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const p=i.headers.get("content-type"),h=(d=p?.split(";")[0])===null||d===void 0?void 0:d.trim();return h?.includes("application/json")||h?.endsWith("+json")?await i.json():await i.text()})();return en(t).debug(`[${o}] response parsed`,Ns({retryOfRequestLogID:r,url:i.url,status:i.status,body:u,durationMs:Date.now()-l})),u}class Ph extends Promise{constructor(e,i,o=kP){super(r=>{r(null)}),this.responsePromise=i,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new Ph(this.client,this.responsePromise,async(i,o)=>e(await this.parseResponse(i,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}const Y_=Symbol("brand.privateNullableHeaders");function*IP(t){if(!t)return;if(Y_ in t){const{values:o,nulls:r}=t;yield*o.entries();for(const l of r)yield[l,null];return}let e=!1,i;t instanceof Headers?i=t.entries():kx(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let o of i){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const l=kx(o[1])?o[1]:[o[1]];let u=!1;for(const d of l)d!==void 0&&(e&&!u&&(u=!0,yield[r,null]),yield[r,d])}}const Fr=t=>{const e=new Headers,i=new Set;for(const o of t){const r=new Set;for(const[l,u]of IP(o)){const d=l.toLowerCase();r.has(d)||(e.delete(l),r.add(d)),u===null?(e.delete(l),i.add(d)):(e.append(l,u),i.delete(d))}}return{[Y_]:!0,values:e,nulls:i}};const $d=t=>{var e,i,o,r,l,u;if(typeof globalThis.process<"u")return(o=(i=(e=sk)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(u=(l=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||l===void 0?void 0:l.call(r,t))===null||u===void 0?void 0:u.trim()};var J_;class pu{constructor(e){var i,o,r,l,u,d,p,{baseURL:h=$d("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:g=(i=$d("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:x="v1beta"}=e,S=Wl(e,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:g,apiVersion:x},S),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(o=T.timeout)!==null&&o!==void 0?o:pu.DEFAULT_TIMEOUT,this.logger=(r=T.logger)!==null&&r!==void 0?r:console;const C="warn";this.logLevel=C,this.logLevel=(u=(l=Ux(T.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:Ux($d("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:C,this.fetchOptions=T.fetchOptions,this.maxRetries=(d=T.maxRetries)!==null&&d!==void 0?d:2,this.fetch=(p=T.fetch)!==null&&p!==void 0?p:fP(),this.encoder=mP,this._options=T,this.apiKey=g,this.apiVersion=x,this.clientAdapter=T.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=Fr([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return Fr([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Fr([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,o])=>typeof o<"u").map(([i,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(i)}=`;throw new Un(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${To}`}defaultIdempotencyKey(){return`stainless-node-retry-${Wz()}`}makeStatusError(e,i,o,r){return nn.generate(e,i,o,r)}buildURL(e,i,o){const r=!this.baseURLOverridden()&&o||this.baseURL,l=eP(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return iP(u)||(i=Object.assign(Object.assign({},u),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(l.search=this.stringifyQuery(i)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:o}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:e,path:i},r)))}request(e,i=null){return new Ph(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,o){var r,l,u;const d=await e,p=(r=d.maxRetries)!==null&&r!==void 0?r:this.maxRetries;i==null&&(i=p),await this.prepareOptions(d);const{req:h,url:g,timeout:x}=await this.buildRequest(d,{retryCount:p-i});await this.prepareRequest(h,{url:g,options:d});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),T=o===void 0?"":`, retryOf: ${o}`,C=Date.now();if(en(this).debug(`[${S}] sending request`,Ns({retryOfRequestLogID:o,method:d.method,url:g,options:d,headers:h.headers})),!((l=d.signal)===null||l===void 0)&&l.aborted)throw new Pf;const b=new AbortController,A=await this.fetchWithTimeout(g,h,x,b).catch(zf),w=Date.now();if(A instanceof globalThis.Error){const k=`retrying, ${i} attempts remaining`;if(!((u=d.signal)===null||u===void 0)&&u.aborted)throw new Pf;const P=Df(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(i)return en(this).info(`[${S}] connection ${P?"timed out":"failed"} - ${k}`),en(this).debug(`[${S}] connection ${P?"timed out":"failed"} (${k})`,Ns({retryOfRequestLogID:o,url:g,durationMs:w-C,message:A.message})),this.retryRequest(d,i,o??S);throw en(this).info(`[${S}] connection ${P?"timed out":"failed"} - error; no more retries left`),en(this).debug(`[${S}] connection ${P?"timed out":"failed"} (error; no more retries left)`,Ns({retryOfRequestLogID:o,url:g,durationMs:w-C,message:A.message})),P?new R_:new fu({cause:A})}const M=`[${S}${T}] ${h.method} ${g} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${w-C}ms`;if(!A.ok){const k=await this.shouldRetry(A);if(i&&k){const F=`retrying, ${i} attempts remaining`;return await pP(A.body),en(this).info(`${M} - ${F}`),en(this).debug(`[${S}] response error (${F})`,Ns({retryOfRequestLogID:o,url:A.url,status:A.status,headers:A.headers,durationMs:w-C})),this.retryRequest(d,i,o??S,A.headers)}const P=k?"error; no more retries left":"error; not retryable";en(this).info(`${M} - ${P}`);const z=await A.text().catch(F=>zf(F).message),q=rP(z),O=q?void 0:z;throw en(this).debug(`[${S}] response error (${P})`,Ns({retryOfRequestLogID:o,url:A.url,status:A.status,headers:A.headers,message:O,durationMs:Date.now()-C})),this.makeStatusError(A.status,q,O,A.headers)}return en(this).info(M),en(this).debug(`[${S}] response start`,Ns({retryOfRequestLogID:o,url:A.url,status:A.status,headers:A.headers,durationMs:w-C})),{response:A,options:d,controller:b,requestLogID:S,retryOfRequestLogID:o,startTime:C}}async fetchWithTimeout(e,i,o,r){const l=i||{},{signal:u,method:d}=l,p=Wl(l,["signal","method"]);u&&u.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),o),g=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,x=Object.assign(Object.assign(Object.assign({signal:r.signal},g?{duplex:"half"}:{}),{method:"GET"}),p);d&&(x.method=d.toUpperCase());try{return await this.fetch.call(void 0,e,x)}finally{clearTimeout(h)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,o,r){var l;let u;const d=r?.get("retry-after-ms");if(d){const h=parseFloat(d);Number.isNaN(h)||(u=h)}const p=r?.get("retry-after");if(p&&!u){const h=parseFloat(p);Number.isNaN(h)?u=Date.parse(p)-Date.now():u=h*1e3}if(!(u&&0<=u&&u<60*1e3)){const h=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(i,h)}return await aP(u),this.makeRequest(e,i-1,o)}calculateDefaultRetryTimeoutMillis(e,i){const l=i-e,u=Math.min(.5*Math.pow(2,l),8),d=1-Math.random()*.25;return u*d*1e3}async buildRequest(e,{retryCount:i=0}={}){var o,r,l;const u=Object.assign({},e),{method:d,path:p,query:h,defaultBaseURL:g}=u,x=this.buildURL(p,h,g);"timeout"in u&&oP("timeout",u.timeout),u.timeout=(o=u.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:S,body:T}=this.buildBody({options:u}),C=await this.buildHeaders({options:e,method:d,bodyHeaders:S,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:d,headers:C},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&T instanceof globalThis.ReadableStream&&{duplex:"half"}),T&&{body:T}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(l=u.fetchOptions)!==null&&l!==void 0?l:{}),url:x,timeout:u.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:o,retryCount:r}){let l={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const u=await this.authHeaders(e);let d=Fr([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),dP()),this._options.defaultHeaders,o,e.headers,u]);return this.validateHeaders(d),d.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=Fr([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:hP(e)}:this.encoder({body:e,headers:o})}}pu.DEFAULT_TIMEOUT=6e4;class Ot extends pu{constructor(){super(...arguments),this.interactions=new j_(this)}}J_=Ot;Ot.GeminiNextGenAPIClient=J_;Ot.GeminiNextGenAPIClientError=Un;Ot.APIError=nn;Ot.APIConnectionError=fu;Ot.APIConnectionTimeoutError=R_;Ot.APIUserAbortError=Pf;Ot.NotFoundError=D_;Ot.ConflictError=z_;Ot.RateLimitError=U_;Ot.BadRequestError=M_;Ot.AuthenticationError=k_;Ot.InternalServerError=L_;Ot.PermissionDeniedError=I_;Ot.UnprocessableEntityError=P_;Ot.toFile=SP;Ot.Interactions=j_;function DP(t,e){const i={},o=f(t,["name"]);return o!=null&&m(i,["_url","name"],o),i}function zP(t,e){const i={},o=f(t,["name"]);return o!=null&&m(i,["_url","name"],o),i}function PP(t,e){const i={},o=f(t,["sdkHttpResponse"]);return o!=null&&m(i,["sdkHttpResponse"],o),i}function UP(t,e){const i={},o=f(t,["sdkHttpResponse"]);return o!=null&&m(i,["sdkHttpResponse"],o),i}function LP(t,e,i){const o={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=f(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&m(e,["displayName"],r),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=f(t,["epochCount"]);e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","epochCount"],l);const u=f(t,["learningRateMultiplier"]);if(u!=null&&m(o,["tuningTask","hyperparameters","learningRateMultiplier"],u),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=f(t,["batchSize"]);e!==void 0&&d!=null&&m(e,["tuningTask","hyperparameters","batchSize"],d);const p=f(t,["learningRate"]);if(e!==void 0&&p!=null&&m(e,["tuningTask","hyperparameters","learningRate"],p),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function VP(t,e,i){const o={};let r=f(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const T=f(t,["validationDataset"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec"],Vx(T))}else if(r==="PREFERENCE_TUNING"){const T=f(t,["validationDataset"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec"],Vx(T))}const l=f(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&m(e,["tunedModelDisplayName"],l);const u=f(t,["description"]);e!==void 0&&u!=null&&m(e,["description"],u);let d=f(i,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const T=f(t,["epochCount"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(d==="PREFERENCE_TUNING"){const T=f(t,["epochCount"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}let p=f(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const T=f(t,["learningRateMultiplier"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(p==="PREFERENCE_TUNING"){const T=f(t,["learningRateMultiplier"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}let h=f(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const T=f(t,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(h==="PREFERENCE_TUNING"){const T=f(t,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}let g=f(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const T=f(t,["adapterSize"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(g==="PREFERENCE_TUNING"){const T=f(t,["adapterSize"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const x=f(t,["labels"]);e!==void 0&&x!=null&&m(e,["labels"],x);const S=f(t,["beta"]);return e!==void 0&&S!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),o}function OP(t,e){const i={},o=f(t,["baseModel"]);o!=null&&m(i,["baseModel"],o);const r=f(t,["preTunedModel"]);r!=null&&m(i,["preTunedModel"],r);const l=f(t,["trainingDataset"]);l!=null&&$P(l);const u=f(t,["config"]);return u!=null&&LP(u,i),i}function BP(t,e){const i={},o=f(t,["baseModel"]);o!=null&&m(i,["baseModel"],o);const r=f(t,["preTunedModel"]);r!=null&&m(i,["preTunedModel"],r);const l=f(t,["trainingDataset"]);l!=null&&ZP(l,i,e);const u=f(t,["config"]);return u!=null&&VP(u,i,e),i}function GP(t,e){const i={},o=f(t,["name"]);return o!=null&&m(i,["_url","name"],o),i}function HP(t,e){const i={},o=f(t,["name"]);return o!=null&&m(i,["_url","name"],o),i}function FP(t,e,i){const o={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const l=f(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const u=f(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),o}function qP(t,e,i){const o={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const l=f(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const u=f(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),o}function jP(t,e){const i={},o=f(t,["config"]);return o!=null&&FP(o,i),i}function YP(t,e){const i={},o=f(t,["config"]);return o!=null&&qP(o,i),i}function JP(t,e){const i={},o=f(t,["sdkHttpResponse"]);o!=null&&m(i,["sdkHttpResponse"],o);const r=f(t,["nextPageToken"]);r!=null&&m(i,["nextPageToken"],r);const l=f(t,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>K_(d))),m(i,["tuningJobs"],u)}return i}function KP(t,e){const i={},o=f(t,["sdkHttpResponse"]);o!=null&&m(i,["sdkHttpResponse"],o);const r=f(t,["nextPageToken"]);r!=null&&m(i,["nextPageToken"],r);const l=f(t,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Vf(d))),m(i,["tuningJobs"],u)}return i}function XP(t,e){const i={},o=f(t,["name"]);o!=null&&m(i,["model"],o);const r=f(t,["name"]);return r!=null&&m(i,["endpoint"],r),i}function $P(t,e){const i={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=f(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),m(i,["examples","examples"],r)}return i}function ZP(t,e,i){const o={};let r=f(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const u=f(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(r==="PREFERENCE_TUNING"){const u=f(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let l=f(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const u=f(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(l==="PREFERENCE_TUNING"){const u=f(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function K_(t,e){const i={},o=f(t,["sdkHttpResponse"]);o!=null&&m(i,["sdkHttpResponse"],o);const r=f(t,["name"]);r!=null&&m(i,["name"],r);const l=f(t,["state"]);l!=null&&m(i,["state"],c_(l));const u=f(t,["createTime"]);u!=null&&m(i,["createTime"],u);const d=f(t,["tuningTask","startTime"]);d!=null&&m(i,["startTime"],d);const p=f(t,["tuningTask","completeTime"]);p!=null&&m(i,["endTime"],p);const h=f(t,["updateTime"]);h!=null&&m(i,["updateTime"],h);const g=f(t,["description"]);g!=null&&m(i,["description"],g);const x=f(t,["baseModel"]);x!=null&&m(i,["baseModel"],x);const S=f(t,["_self"]);return S!=null&&m(i,["tunedModel"],XP(S)),i}function Vf(t,e){const i={},o=f(t,["sdkHttpResponse"]);o!=null&&m(i,["sdkHttpResponse"],o);const r=f(t,["name"]);r!=null&&m(i,["name"],r);const l=f(t,["state"]);l!=null&&m(i,["state"],c_(l));const u=f(t,["createTime"]);u!=null&&m(i,["createTime"],u);const d=f(t,["startTime"]);d!=null&&m(i,["startTime"],d);const p=f(t,["endTime"]);p!=null&&m(i,["endTime"],p);const h=f(t,["updateTime"]);h!=null&&m(i,["updateTime"],h);const g=f(t,["error"]);g!=null&&m(i,["error"],g);const x=f(t,["description"]);x!=null&&m(i,["description"],x);const S=f(t,["baseModel"]);S!=null&&m(i,["baseModel"],S);const T=f(t,["tunedModel"]);T!=null&&m(i,["tunedModel"],T);const C=f(t,["preTunedModel"]);C!=null&&m(i,["preTunedModel"],C);const b=f(t,["supervisedTuningSpec"]);b!=null&&m(i,["supervisedTuningSpec"],b);const A=f(t,["preferenceOptimizationSpec"]);A!=null&&m(i,["preferenceOptimizationSpec"],A);const w=f(t,["tuningDataStats"]);w!=null&&m(i,["tuningDataStats"],w);const M=f(t,["encryptionSpec"]);M!=null&&m(i,["encryptionSpec"],M);const k=f(t,["partnerModelTuningSpec"]);k!=null&&m(i,["partnerModelTuningSpec"],k);const P=f(t,["customBaseModel"]);P!=null&&m(i,["customBaseModel"],P);const z=f(t,["experiment"]);z!=null&&m(i,["experiment"],z);const q=f(t,["labels"]);q!=null&&m(i,["labels"],q);const O=f(t,["outputUri"]);O!=null&&m(i,["outputUri"],O);const G=f(t,["pipelineJob"]);G!=null&&m(i,["pipelineJob"],G);const F=f(t,["serviceAccount"]);F!=null&&m(i,["serviceAccount"],F);const ie=f(t,["tunedModelDisplayName"]);ie!=null&&m(i,["tunedModelDisplayName"],ie);const ve=f(t,["veoTuningSpec"]);return ve!=null&&m(i,["veoTuningSpec"],ve),i}function WP(t,e){const i={},o=f(t,["sdkHttpResponse"]);o!=null&&m(i,["sdkHttpResponse"],o);const r=f(t,["name"]);r!=null&&m(i,["name"],r);const l=f(t,["metadata"]);l!=null&&m(i,["metadata"],l);const u=f(t,["done"]);u!=null&&m(i,["done"],u);const d=f(t,["error"]);return d!=null&&m(i,["error"],d),i}function Vx(t,e){const i={},o=f(t,["gcsUri"]);o!=null&&m(i,["validationDatasetUri"],o);const r=f(t,["vertexDatasetResource"]);return r!=null&&m(i,["validationDatasetUri"],r),i}class QP extends wi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ds(Ci.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var o;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const r={tunedModelName:i.baseModel};!((o=i.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=i.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},i),{preTunedModel:r});return l.baseModel=void 0,await this.tuneInternal(l)}else{const r=Object.assign({},i);return await this.tuneInternal(r)}else{const r=Object.assign({},i),l=await this.tuneMldevInternal(r);let u="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?u=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(u=l.name.split("/operations/")[0]),{name:u,state:Cf.JOB_STATE_QUEUED}}}}async getInternal(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=HP(e);return d=be("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>Vf(g))}else{const h=GP(e);return d=be("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>K_(g))}}async listInternal(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=YP(e);return d=be("tuningJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=KP(g),S=new cx;return Object.assign(S,x),S})}else{const h=jP(e);return d=be("tunedModels",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=JP(g),S=new cx;return Object.assign(S,x),S})}}async cancel(e){var i,o,r,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=zP(e);return d=be("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=UP(g),S=new dx;return Object.assign(S,x),S})}else{const h=DP(e);return d=be("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const S=x;return S.sdkHttpResponse={headers:g.headers},S})),u.then(g=>{const x=PP(g),S=new dx;return Object.assign(S,x),S})}}async tuneInternal(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI()){const d=BP(e,e);return l=be("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>Vf(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=OP(e);return l=be("tunedModels",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>WP(p))}}}class e4{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const t4=1024*1024*8,n4=3,i4=1e3,s4=2,eu="x-goog-upload-status";async function o4(t,e,i){var o;const r=await X_(t,e,i),l=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[eu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function r4(t,e,i){var o;const r=await X_(t,e,i),l=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[eu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=s_(l),d=new Nh;return Object.assign(d,u),d}async function X_(t,e,i){var o,r;let l=0,u=0,d=new wf(new Response),p="upload";for(l=t.size;u<l;){const h=Math.min(t4,l-u),g=t.slice(u,u+h);u+h>=l&&(p+=", finalize");let x=0,S=i4;for(;x<n4&&(d=await i.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),!(!((o=d?.headers)===null||o===void 0)&&o[eu]));)x++,await l4(S),S=S*s4;if(u+=h,((r=d?.headers)===null||r===void 0?void 0:r[eu])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function a4(t){return{size:t.size,type:t.type}}function l4(t){return new Promise(e=>setTimeout(e,t))}class u4{async upload(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await o4(e,i,o)}async uploadToFileSearchStore(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await r4(e,i,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await a4(e)}}class c4{create(e,i,o){return new d4(e,i,o)}}class d4{constructor(e,i,o){this.url=e,this.headers=i,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const Ox="x-goog-api-key";class f4{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(Ox)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Ox,this.apiKey)}}}const h4="gl-node/";class p4{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new Ot({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const o=lk(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new f4(this.apiKey);this.apiClient=new az({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:h4+"web",uploader:new u4,downloader:new e4}),this.models=new Cz(this.apiClient),this.live=new Sz(this.apiClient,r,new c4),this.batches=new LI(this.apiClient),this.chats=new vD(this.models,this.apiClient),this.caches=new mD(this.apiClient),this.files=new ND(this.apiClient),this.operations=new wz(this.apiClient),this.authTokens=new Fz(this.apiClient),this.tunings=new QP(this.apiClient),this.fileSearchStores=new Zz(this.apiClient)}}const m4=new p4({apiKey:"PLACEHOLDER_API_KEY"}),Bx={FAST:"gemini-3-flash-preview",REASONING:"gemini-3-pro-preview"},g4={type:St.OBJECT,properties:{system_state:{type:St.OBJECT,properties:{current_phase:{type:St.STRING,description:"The current architectural phase (e.g., PRD, DATA, LOGIC)."},status:{type:St.STRING,description:"Current status: 'complete' or 'interrupted'."},interrupt_signal:{type:St.BOOLEAN,description:"True if human intervention/review is required."},message:{type:St.STRING,description:"Short status message for the user."}},required:["current_phase","status","interrupt_signal","message"]},artifact:{type:St.OBJECT,properties:{type:{type:St.STRING,description:"Type of content: 'code', 'markdown', or 'mermaid_erd'."},content:{type:St.STRING,description:"The actual generated content."},logic_summary:{type:St.STRING,description:"Brief summary of the architectural decisions made."}},required:["type","content","logic_summary"]},trace:{type:St.OBJECT,properties:{agent:{type:St.STRING,description:"Name of the acting agent."},reasoning:{type:St.STRING,description:"Chain of thought explanation."},tokens_estimated:{type:St.NUMBER,description:"Estimated token usage."}},required:["agent","reasoning","tokens_estimated"]}},required:["system_state","artifact","trace"]},y4=async({stageId:t,prompt:e,context:i,onChunk:o,provider:r,headers:l})=>{let u=QM,d=Bx.FAST;switch(["data","logic","api"].includes(t)&&(d=Bx.REASONING),t){case"prd":u=ek;break;case"design":u=i_;break;case"data":u=`You are a Database Architect. Ensure 3NF normalization. Group entities by module.
      
      CRITICAL: Your artifact.content MUST be a JSON string array of SchemaTable objects matching this structure:
      [{
        "name": "TableName",
        "module": "ModuleName",
        "description": "Description",
        "fields": [{ "name": "id", "type": "uuid", "required": true, "isKey": true, "description": "PK" }]
      }]
      
      Do not wrap the JSON in markdown code blocks inside the string. Just valid JSON string.
      
      
${bi}`;break;case"logic":u=n_;break;case"api":u=`You are an API Architect. Define REST/GraphQL endpoints using OpenAPI format.
${bi}`;break;case"frontend":u=`You are a Frontend Architect. Outline the component tree and state management.
${bi}`;break;case"deployment":u=`You are a DevOps Engineer. Define CI/CD pipelines and Infrastructure as Code.
${bi}`;break}const p=`Task Context:
${i||"None"}

User Instruction:
${e}`;l&&l["X-Cloud-Trace-Context"]&&console.debug(`[Tracing] Context: ${l["X-Cloud-Trace-Context"]}`);try{const g=(await m4.models.generateContent({model:d,contents:p,config:{systemInstruction:u,responseMimeType:"application/json",responseSchema:g4,temperature:.2}})).text||"{}";try{return JSON.parse(g)}catch(x){return console.error("JSON Parse Error:",x,g),{system_state:{current_phase:t.toUpperCase(),status:"complete",interrupt_signal:!1,message:"Recovered from malformed output"},artifact:{type:"markdown",content:g,logic_summary:"Raw output preserved due to parsing error."},trace:{agent:"System_Recovery",reasoning:"JSON parsing failed, returning raw output.",tokens_estimated:0}}}}catch(h){throw console.error("Gemini API Error:",h),new Error(`Agent failed to generate artifact for ${t}`)}},Gx={prd:"Best Practice: Use Gherkin syntax (Given-When-Then) for clearer user stories.",design:"Best Practice: Specify explicit token values (e.g., 'blue-500' is #3b82f6) to reduce ambiguity.",data:"Best Practice: Ensure 3rd Normal Form (3NF) to minimize data redundancy.",logic:"Best Practice: Define idempotent keys for critical mutation endpoints.",api:"Best Practice: Adhere to RESTful conventions or GraphQL schema definitions.",frontend:"Best Practice: Plan skeleton loading states for every async component.",deployment:"Best Practice: Implement health check endpoints (/health) for zero-downtime rollbacks."},v4=()=>typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?"http://127.0.0.1:8787":"",Cs=v4(),Of=[{id:"tier_0",name:"Supervisor (L0)",description:"Orchestration & Routing",agents:[],model:"gpt-5",provider:"openai"},{id:"tier_1",name:"Strategy (L1)",description:"Reasoning & Planning (PRD)",agents:["prd"],model:"gemini-2.5-pro",provider:"google"},{id:"tier_2",name:"Structure (L2)",description:"Schema & Design Constraints",agents:["data","design"],model:"gemini-2.5-flash",provider:"google"},{id:"tier_3",name:"Implementation (L3)",description:"Code Generation & Specs",agents:["logic","api","frontend","deployment"],model:"gpt-5-mini",provider:"openai"}],Bf=[{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro",provider:"google",contextWindow:"2M",costPer1k:"$0.002"},{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",provider:"google",contextWindow:"1M",costPer1k:"$0.0005"},{id:"gpt-5",name:"GPT-5",provider:"openai",contextWindow:"128k",costPer1k:"$0.06"},{id:"gpt-5-mini",name:"GPT-5 Mini",provider:"openai",contextWindow:"64k",costPer1k:"$0.001"},{id:"claude-3-opus",name:"Claude 3 Opus",provider:"anthropic",contextWindow:"200k",costPer1k:"$0.075"},{id:"claude-3-sonnet",name:"Claude 3 Sonnet",provider:"anthropic",contextWindow:"200k",costPer1k:"$0.015"}],Hx=(t,e)=>{const i=t.agentTiers||Of,o=e?i.find(r=>r.agents.includes(e))||i[0]:i.find(r=>r.id==="tier_0")||i[0];return{"X-Agent-Provider":o.provider,"X-Agent-Model":o.model,"X-Intelligence-Tier":o.id,"X-Project-Env":t.environment,"X-Project-ID":t.id,...t.googleApiKey?{"X-Google-Key":t.googleApiKey}:{},...t.openaiApiKey?{"X-OpenAI-Key":t.openaiApiKey}:{}}},os=JM()(XM((t,e)=>({productSeed:"",isSeeded:!1,isDecomposing:!1,stages:[],artefacts:[],partialArtifacts:{},schemas:[],blueprints:[{id:"bp_1",name:"Vintage Typewriter Marketplace",description:"A two-sided marketplace with auction mechanics, user profiles, and payment integration.",stageCount:6,status:"active",lastEdited:"2 mins ago",tags:["E-commerce","React"]},{id:"bp_2",name:"Corporate CRM",description:"Internal tool for managing leads, sales pipelines, and role-based access control.",stageCount:4,status:"draft",lastEdited:"1 week ago",tags:["SaaS","Internal"]},{id:"bp_3",name:"IoT Data Pipeline",description:"High-throughput ingestion service for sensor data with real-time analytics dashboard.",stageCount:5,status:"active",lastEdited:"3 days ago",tags:["Data","Real-time"]}],recentProjects:[],projectSettings:{id:"",name:"My New Architecture",environment:"dev",llmProvider:"google",llmModel:"gemini-2.5-pro",apiKey:"",googleApiKey:"",openaiApiKey:"",vectorDb:"chroma",customInstructions:"",providerPreference:"local",agentTiers:Of},userProfile:{name:"Jane Smith",role:"Chief Systems Architect",clearance:"LEVEL 4",unit:"R&D / CORE"},hasUsedFreeTier:!1,logs:[],commits:[],traces:[],activityFeed:[],agentActivity:{},metrics:{totalTokens:0,avgLatency:0,enrichmentCycles:0,estCost:0},graphInstance:null,checkpoints:[],activeAgentId:null,isGraphPaused:!1,isManualPaused:!1,interruptPayload:null,graphStatus:"idle",isDirty:!1,currentThinkingStep:null,currentThinkingAgent:null,activeStageId:null,selectedArtefact:null,toast:null,processingStepIndex:0,isEnriching:!1,isSimulationRunning:!1,showPromptGuidance:!1,isConsoleOpen:!1,setProductSeed:i=>t({productSeed:i}),setDecomposing:i=>t({isDecomposing:i}),setActiveStageId:i=>{t({activeStageId:i}),i&&Gx[i]&&setTimeout(()=>{t({toast:{message:Gx[i],type:"guidance"}})},300)},setSelectedArtefact:i=>t({selectedArtefact:i}),setToast:i=>t({toast:i}),setShowPromptGuidance:i=>t({showPromptGuidance:i}),setIsConsoleOpen:i=>t({isConsoleOpen:i}),updateStage:(i,o)=>t(r=>({stages:r.stages.map(l=>l.id===i?{...l,...o}:l),isDirty:!0})),updateProjectSettings:i=>t(o=>({projectSettings:{...o.projectSettings,...i}})),updateUserProfile:i=>t(o=>({userProfile:{...o.userProfile,...i}})),markFreeTierUsed:()=>t({hasUsedFreeTier:!0}),fetchProjects:async()=>{try{const i=await fetch(`${Cs}/api/projects`);if(!i.ok)throw new Error("Backend unavailable");const o=await i.json();t({recentProjects:o.map(r=>({id:r.id,name:r.name||"Untitled Project",date:new Date(r.updated_at).toLocaleDateString()}))})}catch{console.warn("API Fetch Failed, utilizing local cache/mocks."),e().recentProjects.length===0&&t({recentProjects:[{id:"mock-1",name:"Demo: E-Commerce Platform",date:new Date().toLocaleDateString()},{id:"mock-2",name:"Demo: SaaS Dashboard",date:new Date().toLocaleDateString()}]})}},hydrateProject:async i=>{if(!i.startsWith("mock-"))try{const o=await fetch(`${Cs}/api/hydrate/${i}`);if(o.status===404){console.warn("Project not found in cloud, using local state.");return}if(!o.ok)throw new Error(`Backend error: ${o.statusText}`);const r=await o.json(),{project:l,history:u}=r,{logs:d,artifacts:p,checkpoints:h}=u,g=d.map(T=>({id:T.trace_id,source:T.agent_id,message:T.status,timestamp:new Date(T.created_at).toLocaleTimeString(),type:"info"})),x=p.map(T=>({id:T.id,sourceStageId:"prd",targetStageId:"design",type:T.artifact_type.includes("markdown")?"doc":"code",label:T.artifact_type,content:T.content,promptContext:"Restored from history"})),S=h.map(T=>({id:T.checkpoint_id,step:0,agent:"System",timestamp:new Date(T.created_at).getTime(),stateSnapshot:JSON.parse(T.state_snapshot)}));t({projectSettings:{...e().projectSettings,id:l.id,name:l.name,environment:l.environment},productSeed:l.product_seed,isSeeded:!0,logs:g,artefacts:x,checkpoints:S}),e().setToast({message:"Project Synced from Cloud",type:"success"})}catch(o){console.warn("Hydration failed (offline mode):",o),e().setToast({message:"Cloud sync unavailable. Operating in local mode.",type:"info"})}},loadBlueprint:i=>{const o=e().blueprints.find(r=>r.id===i);o&&(e().setToast({message:`Initializing template: ${o.name}`,type:"info"}),e().seedProject(o.description),e().updateProjectSettings({name:o.name}))},seedProject:async i=>{const o=e().startTrace("Supervisor: Initialization","chain");let r=Math.random().toString(36).substring(2,10);try{const x=await fetch(`${Cs}/api/projects`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productSeed:i,name:i.substring(0,30)+(i.length>30?"...":""),environment:e().projectSettings.environment||"development"})});x.ok?(r=(await x.json()).projectId,e().addLog("System",`Project created: ${r}`,"success")):e().addLog("System","Backend unavailable, using local project ID","warning")}catch(x){console.warn("Failed to create project in backend, using local ID:",x),e().addLog("System","Operating in offline mode","info")}const l=150,u=300,d=220,p=[{id:"prd",title:"Product Requirements",icon:null,x:l,y:u,status:"idle",basePrompt:"Act as a Lead PM. Analyze the user request and generate a detailed PRD.",userPrompt:i,output:null,summary:null,reasoningSteps:["Analyzing Intent...","Identifying User Personas...","Drafting User Stories...","Prioritizing Requirements...","Finalizing PRD..."],schemaType:"Requirement",validationStatus:"pending"},{id:"design",title:"Design System",icon:null,x:l+d,y:u,status:"locked",basePrompt:"Act as a Design Engineer. Define the design tokens, color palette, and component primitives.",output:null,summary:null,reasoningSteps:["Extracting Theme Constraints...","Generating Token Scale...","Defining Component Primitives...","Checking Accessibility...","Compiling Style Guide..."],schemaType:"DesignToken",validationStatus:"pending"},{id:"data",title:"Data Model",icon:null,x:l+d*2,y:u,status:"locked",basePrompt:"Act as a DB Architect. Define the database schema using 3NF.",output:null,summary:null,reasoningSteps:["Identifying Entities...","Normalizing Relations...","Defining Indices...","Generating Zod Schemas...","Rendering Mermaid ERD..."],schemaType:"DataStructure",validationStatus:"pending"},{id:"logic",title:"Business Logic",icon:null,x:l+d*3,y:u,status:"locked",basePrompt:"Act as a Backend Eng. Define the business logic, endpoints, and middleware.",output:null,summary:null,reasoningSteps:["Designing Endpoints...","Defining Middleware Layers...","Structuring Error Responses...","Validating Security..."],validationStatus:"pending"},{id:"api",title:"API Specification",icon:null,x:l+d*4,y:u,status:"locked",basePrompt:"Act as an API Architect. Generate the OpenAPI specification.",output:null,summary:null,reasoningSteps:["Defining Routes...","Specifying Request/Response Models...","Generating OpenAPI Spec...","Checking Auth Scopes..."],validationStatus:"pending"},{id:"frontend",title:"Frontend Architecture",icon:null,x:l+d*5,y:u,status:"locked",basePrompt:"Act as a Frontend Lead. Structure the component tree and state management.",output:null,summary:null,reasoningSteps:["Structuring Component Tree...","Designing Hooks...","Implementing State Management...","Defining Skeleton States...","Reviewing Performance..."],validationStatus:"pending"},{id:"deployment",title:"Deployment & CI/CD",icon:null,x:l+d*6,y:u,status:"locked",basePrompt:"Act as a DevSecOps. Configure CI/CD pipelines and infrastructure.",output:null,summary:null,reasoningSteps:["Configuring CI Pipelines...","Defining Infrastructure...","Setting up Environments...","Implementing Health Checks...","Finalizing Rollback Strategy..."],validationStatus:"pending"}],h=new ik,g={id:r,name:i.substring(0,20)+(i.length>20?"...":""),date:new Date().toLocaleDateString()};t({stages:p,artefacts:[],schemas:[],logs:[],commits:[],checkpoints:[],traces:[],metrics:{totalTokens:0,avgLatency:0,enrichmentCycles:0,estCost:0},isSeeded:!0,isDecomposing:!0,showPromptGuidance:!1,toast:{message:"Architecture Canvas Initialized.",type:"success"},graphInstance:h,isDirty:!1,graphStatus:"idle",productSeed:i,projectSettings:{...e().projectSettings,id:r},recentProjects:[g,...e().recentProjects.slice(0,4)],activityFeed:[]}),e().addLog("Supervisor",`Initializing Project ${r.toUpperCase()}`,"system"),e().addCommit("Initial commit: Project scaffolded"),e().endTrace(o,"success",{output:"Graph Scaffolded"},150)},rotateSession:async()=>{e().addLog("System","Rotating Session ID...","system"),await new Promise(i=>setTimeout(i,500)),e().seedProject(e().productSeed||"New Session Project"),e().setToast({message:"Session Rotated Successfully",type:"success"})},updateAgentTier:(i,o)=>{const l=(e().projectSettings.agentTiers||Of).map(u=>u.id===i?{...u,...o}:u);e().updateProjectSettings({agentTiers:l}),e().setToast({message:"Tier configuration updated",type:"success"})},wipeProjectData:async()=>{const i=e().projectSettings.id;e().addLog("System",`Wiping data for project ${i}...`,"warning"),await new Promise(o=>setTimeout(o,1e3)),t({productSeed:"",isSeeded:!1,isDecomposing:!1,stages:[],artefacts:[],partialArtifacts:{},schemas:[],logs:[],commits:[],traces:[],metrics:{totalTokens:0,avgLatency:0,enrichmentCycles:0,estCost:0},checkpoints:[],isDirty:!1,isManualPaused:!1,isSimulationRunning:!1,activityFeed:[],agentActivity:{}}),e().setToast({message:"Project Data Wiped (Local & Remote)",type:"success"})},serializeProject:()=>{const i=e(),o={version:"1.0",timestamp:new Date().toISOString(),project:i.projectSettings,stages:i.stages,artefacts:i.artefacts,schemas:i.schemas};return JSON.stringify(o,null,2)},addLog:(i,o,r="info")=>{const l=new Date,u=`${l.getHours().toString().padStart(2,"0")}:${l.getMinutes().toString().padStart(2,"0")}:${l.getSeconds().toString().padStart(2,"0")}`,d={id:Math.random().toString(),source:i,message:o,timestamp:u,type:r};t(p=>({logs:[...p.logs,d]}))},addCommit:(i,o="Supervisor")=>{const r=Math.random().toString(16).substring(2,9),l=new Date,u={id:r,hash:r,message:i,author:o,timestamp:`${l.getHours()}:${l.getMinutes()}`};t(d=>({commits:[u,...d.commits]}))},startTrace:(i,o)=>{const r=Math.random().toString(36).substr(2,9),l={id:r,name:i,type:o,status:"running",startTime:Date.now(),inputs:{},outputs:{},children:[]};return t(u=>({traces:[l,...u.traces]})),r},endTrace:(i,o,r,l)=>{const u=Date.now();t(d=>{const p=d.traces.map(g=>{if(g.id===i){const x=l/1e3*.002;return{...g,status:o,endTime:u,outputs:r,tokens:l,cost:x}}return g}),h=d.metrics;return{traces:p,metrics:{...h,totalTokens:h.totalTokens+(l||0),estCost:h.estCost+(l||0)/1e3*.002}}})},startStreamingBuild:async i=>{t({graphStatus:"running",isGraphPaused:!1,agentActivity:{}}),e().addLog("Supervisor","Starting Parallel Execution Fan-Out...","system");try{const o=e().projectSettings,r=Hx(o),u=(await fetch(`${Cs}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"text/event-stream","X-Target-Agent":"graph",...r},body:JSON.stringify({prompt:i,projectId:o.id})})).body?.getReader(),d=new TextDecoder;if(!u)throw new Error("No response body");for(;;){const{value:p,done:h}=await u.read();if(h)break;const x=d.decode(p).split(`

`);for(const S of x)if(S.startsWith("data: "))try{const T=JSON.parse(S.replace("data: ","")),{timestamp:C,agentId:b,delta:A,status:w}=T;t(M=>{const k={timestamp:C,agentId:b,delta:A,status:w},P=[...M.activityFeed,k].slice(-50);let z={...M.agentActivity};if(w==="thinking")z[b]={status:"thinking",message:A};else if(w==="writing"){z[b]={status:"writing",message:"Generating output..."};const q=M.partialArtifacts[b]||"";return{activityFeed:P,agentActivity:z,partialArtifacts:{...M.partialArtifacts,[b]:q+A},stages:M.stages.map(O=>O.id===b?{...O,output:q+A,status:"processing"}:O)}}else{if(w==="complete")return delete z[b],{activityFeed:P,agentActivity:z};if(w==="error")return delete z[b],{activityFeed:P,agentActivity:z}}return{activityFeed:P,agentActivity:z}}),w==="complete"&&(e().addLog(b,"Agent Finished","success"),e().updateStage(b,{status:"complete"}))}catch{console.warn("SSE Parse Error",S)}}t({graphStatus:"idle",currentThinkingStep:null,partialArtifacts:{},agentActivity:{}}),e().addLog("Supervisor","Parallel execution complete.","success")}catch(o){console.error(o),e().addLog("Supervisor","Streaming Failed","error"),t({graphStatus:"idle",agentActivity:{}})}},runAgent:async i=>{const o=e(),r=o.stages.findIndex(p=>p.id===i);if(r===-1)return;const l=o.stages[r];t({graphStatus:"running"});const u=e().startTrace(`Graph: ${l.title}`,"chain"),d=l.title.split(" ")[0]+" Worker";t({activeAgentId:d,currentThinkingAgent:d}),e().updateStage(i,{status:"processing",output:""}),t({processingStepIndex:0,currentThinkingStep:"Connecting to Inference Engine..."});try{const p=o.artefacts.map(G=>`[${G.sourceStageId.toUpperCase()} OUTPUT]:
${G.content}`).join(`

`),h=l.userPrompt?`${l.basePrompt}
Additional Instructions: ${l.userPrompt}`:l.basePrompt,g=Hx(o.projectSettings,i);if(g["X-Cloud-Trace-Context"]=u,o.projectSettings.providerPreference==="cloudflare"){g["X-Agent-Type"]=d,g["X-Target-Agent"]=i,g.Accept="text/event-stream";try{const G=await fetch(`${Cs}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json",...g},body:JSON.stringify({stageId:i,prompt:h,context:p,systemInstruction:l.basePrompt,projectId:o.projectSettings.id})});if(!G.ok)throw new Error(`Streaming Error: ${G.statusText}`);const F=G.body?.getReader(),ie=new TextDecoder;let ve="";for(;;){const{value:ae,done:Se}=await F.read();if(Se)break;const L=ie.decode(ae).split(`

`);for(const se of L)if(se.startsWith("data: "))try{const ne=JSON.parse(se.replace("data: ","")),ue=ne.chunk||ne.content||"",Ae=ne.type||"delta";Ae==="status"?t({currentThinkingStep:ne.message}):(Ae==="delta"||Ae==="chunk")&&(ve+=ue,e().updateStage(i,{output:ve}))}catch{console.warn("Failed to parse SSE chunk",se)}}const B={system_state:{current_phase:i,status:"complete",interrupt_signal:!1,message:"Success"},artifact:{type:"markdown",content:ve,logic_summary:"Generated via Stream"},trace:{agent:d,reasoning:"Streaming Execution",tokens_estimated:0}};e().addLog("Supervisor","Stream complete. Committing artifacts.","success"),e().addCommit(`feat(${i}): Streaming Update`,d);const $=[...e().stages],R=$.findIndex(ae=>ae.id===i);$[R]={...$[R],status:"complete",output:B.artifact.content,summary:B.artifact.logic_summary},R<$.length-1&&$[R+1].status==="locked"&&($[R+1]={...$[R+1],status:"idle"});const oe=R<$.length-1?$[R+1].id:$[R].id,Y={id:`${i}-art-${Date.now()}`,sourceStageId:i,targetStageId:oe,type:"doc",label:"STREAMED OUTPUT",content:B.artifact.content,promptContext:h},ee=e().artefacts.filter(ae=>ae.sourceStageId!==i);t({stages:$,artefacts:[...ee,Y],activeAgentId:null,currentThinkingStep:null,graphStatus:"idle",isDirty:!0});return}catch(G){console.error("Streaming failed, falling back to standard...",G)}}const x=await y4({stageId:i,prompt:h,context:p,onChunk:G=>t({currentThinkingStep:"Thinking..."}),provider:o.projectSettings.llmProvider,headers:g}),{system_state:S,artifact:T,trace:C}=x;if(S.interrupt_signal){e().addLog("Supervisor",`Interrupt Triggered: ${S.message}`,"warning"),t({interruptPayload:{node:i,message:S.message,snapshot:{stageId:i,currentOutput:T.content,timestamp:Date.now()}},graphStatus:"interrupted",isGraphPaused:!0,activeAgentId:"Supervisor"}),e().updateStage(i,{status:"awaiting_approval",output:T.content}),e().setToast({message:"Approval Required to proceed",type:"warning"}),e().endTrace(u,"success",{output:"INTERRUPTED: "+S.message},C.tokens_estimated);return}if(t({currentThinkingStep:"Validating output..."}),i==="data")try{let G;try{G=JSON.parse(T.content)}catch{const ie=T.content.match(/```json([\s\S]*?)```/);ie?G=JSON.parse(ie[1]):T.content.trim().startsWith("[")&&(G=JSON.parse(T.content))}Array.isArray(G)&&(t({schemas:G}),e().addLog(d,`Extracted ${G.length} schema entities`,"success"))}catch{e().addLog(d,"Warning: Could not parse structured schema.","warning")}e().addLog("Supervisor","Agent finished. Artifacts committed.","success"),e().addCommit(`feat(${i}): ${C.reasoning}`,d);const b=[...e().stages],A=b.findIndex(G=>G.id===i);b[A]={...b[A],status:"complete",output:T.content,summary:T.logic_summary},A<b.length-1&&b[A+1].status==="locked"&&(b[A+1]={...b[A+1],status:"idle"});const w=A<b.length-1?b[A+1].id:b[A].id;let M="doc";T.type==="code"&&(M="code"),T.type==="mermaid_erd"&&(M="schema");const k={id:`${i}-art`,sourceStageId:i,targetStageId:w,type:M,label:T.type.toUpperCase(),content:T.content,promptContext:h},z=[...e().artefacts.filter(G=>G.sourceStageId!==i),k],q=JSON.parse(JSON.stringify({stages:b,artefacts:z,schemas:e().schemas})),O={id:Math.random().toString(36).substring(7),step:o.checkpoints.length+1,agent:d,timestamp:Date.now(),stateSnapshot:q};t(G=>({stages:b,artefacts:z,checkpoints:[...G.checkpoints,O],activeAgentId:null,isGraphPaused:!1,currentThinkingStep:null,currentThinkingAgent:null,isDirty:!0,graphStatus:"idle"})),e().endTrace(u,"success",{output:T.logic_summary},C.tokens_estimated),e().setToast({message:`${l.title} Completed`,type:"success"})}catch(p){console.error(p),e().addLog(d,"Agent execution failed.","error"),e().updateStage(i,{status:"failed",validationErrors:["API Error: Failed to generate content."]}),t({graphStatus:"idle",activeAgentId:null,currentThinkingStep:null}),e().endTrace(u,"error",{error:String(p)},0)}},startSimulation:async()=>{if(e().isSimulationRunning)return;t({isSimulationRunning:!0,isConsoleOpen:!0,graphStatus:"running",isManualPaused:!1}),e().addLog("Supervisor","Initiating full architecture simulation sequence...","system");const{stages:i}=e();let o=i.findIndex(r=>r.status!=="complete");if(o===-1){t({isSimulationRunning:!1,graphStatus:"idle"});return}for(;o<i.length&&e().isSimulationRunning;){for(;(e().isManualPaused||e().isGraphPaused)&&e().isSimulationRunning;)await new Promise(l=>setTimeout(l,500));if(!e().isSimulationRunning)break;const r=e().stages[o];await e().runAgent(r.id),o++,await new Promise(l=>setTimeout(l,1500))}e().isSimulationRunning&&!e().isGraphPaused&&!e().isManualPaused&&t({isSimulationRunning:!1,graphStatus:"idle"})},stopSimulation:()=>{t({isSimulationRunning:!1,graphStatus:"idle",isManualPaused:!1})},toggleSimulationPause:()=>{t(i=>({isManualPaused:!i.isManualPaused})),e().isManualPaused?e().addLog("System","Simulation Paused by User","info"):e().addLog("System","Simulation Resumed","info")},enrichArchitecture:async()=>{t({isEnriching:!0}),e().setToast({message:"Enriching Architecture (Back-Propagation)...",type:"info"});const i=e().startTrace("Enrichment: Global Optimization","chain");await new Promise(o=>setTimeout(o,3e3)),e().endTrace(i,"success",{result:"Optimized"},12500),t({isEnriching:!1})},handleAgentCommand:i=>{},resolveInterrupt:async i=>{const o=e(),{interruptPayload:r}=o;if(!r){e().setToast({message:"No active interrupt to resolve",type:"error"});return}e().addLog("Supervisor",`Resolving interrupt at ${r.node} with feedback: "${i.substring(0,50)}..."`,"system");const l=i.toLowerCase().includes("reject")?"reject":i.toLowerCase().includes("edit")?"edit":"approve";try{const u=await fetch(`${Cs}/api/resume`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:o.projectSettings.id,stage:r.node,action:l,feedback:i,edited_artifact:l==="edit"?r.snapshot.currentOutput:void 0})});if(!u.ok)throw new Error(`Resume failed: ${u.statusText}`);const d=await u.json(),{target_stage:p,message:h}=d;if(t({interruptPayload:null,isGraphPaused:!1,graphStatus:"idle"}),l==="approve"){e().updateStage(r.node,{status:"complete"});const g=o.stages.findIndex(x=>x.id===r.node);if(g<o.stages.length-1){const x=o.stages[g+1];e().updateStage(x.id,{status:"idle"})}e().addLog("Supervisor","Interrupt approved. Continuing to next stage.","success"),e().setToast({message:"Interrupt approved. Workflow continues.",type:"success"})}else l==="reject"?(e().addLog("Supervisor",`Interrupt rejected. Routing to ${p} for revision.`,"warning"),e().updateStage(p,{status:"idle"}),e().setToast({message:`Routing to ${p} for revision.`,type:"info"})):l==="edit"&&(e().updateStage(r.node,{status:"complete",output:r.snapshot.currentOutput}),e().addLog("Supervisor","Artifact edited and approved.","success"),e().setToast({message:"Edited artifact saved. Continuing workflow.",type:"success"}))}catch(u){console.error("Failed to resolve interrupt:",u),e().addLog("Supervisor","Backend unavailable, resolving interrupt locally","warning"),t({interruptPayload:null,isGraphPaused:!1,graphStatus:"idle"}),l==="approve"||l==="edit"?(e().updateStage(r.node,{status:"complete"}),e().setToast({message:"Interrupt resolved (offline mode)",type:"info"})):(e().updateStage(r.node,{status:"idle"}),e().setToast({message:"Stage reset for revision (offline mode)",type:"info"}))}},timeTravel:async i=>{const o=e(),r=o.checkpoints.find(u=>u.id===i);if(!r){e().setToast({message:"Checkpoint not found",type:"error"});return}e().addLog("System",`Time traveling to checkpoint: ${r.agent} (Step ${r.step})`,"system");try{const u=await fetch(`${Cs}/api/restore`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:o.projectSettings.id,checkpoint_id:i})});if(u.ok){const d=await u.json(),{state_snapshot:p,checkpoints_truncated:h}=d,g=JSON.parse(p);t({stages:g.stages||o.stages,artefacts:g.artefacts||o.artefacts,schemas:g.schemas||o.schemas,checkpoints:o.checkpoints.filter(x=>x.timestamp<=r.timestamp),isDirty:!0,graphStatus:"idle",activeAgentId:null,currentThinkingStep:null}),e().addLog("System",`Restored to ${r.agent}. ${h} future checkpoints removed.`,"success"),e().setToast({message:`Time travel successful! Restored to ${r.agent}`,type:"success"});return}}catch(u){console.warn("Backend restore failed, using local checkpoint:",u)}const{stateSnapshot:l}=r;t({stages:l.stages||o.stages,artefacts:l.artefacts||o.artefacts,schemas:l.schemas||o.schemas,checkpoints:o.checkpoints.filter(u=>u.timestamp<=r.timestamp),isDirty:!0,graphStatus:"idle",activeAgentId:null,currentThinkingStep:null}),e().addLog("System",`Restored to ${r.agent} (local mode)`,"success"),e().setToast({message:`Time travel successful! Restored to ${r.agent}`,type:"success"})},deleteBlueprints:i=>{},deleteProjects:i=>{},resetProject:()=>t({productSeed:"",isSeeded:!1,isDecomposing:!1,stages:[],artefacts:[],partialArtifacts:{},schemas:[],logs:[],commits:[],traces:[],metrics:{totalTokens:0,avgLatency:0,enrichmentCycles:0,estCost:0},checkpoints:[],isDirty:!1,isManualPaused:!1,isSimulationRunning:!1,activityFeed:[],agentActivity:{}})}),{name:"architecture-store",storage:t_(()=>localStorage),partialize:t=>({productSeed:t.productSeed,isSeeded:t.isSeeded,stages:t.stages,artefacts:t.artefacts,schemas:t.schemas,logs:t.logs,commits:t.commits,checkpoints:t.checkpoints,projectSettings:t.projectSettings,blueprints:t.blueprints,recentProjects:t.recentProjects,userProfile:t.userProfile,hasUsedFreeTier:t.hasUsedFreeTier})})),x4=({children:t,isCanvasMode:e=!1,onNavigate:i,currentView:o="board",projects:r=[],onDeleteProject:l=()=>{}})=>{const{userProfile:u}=os(),[d,p]=ye.useState(!1),[h,g]=ye.useState(!1),x=d,S=[{id:"board",icon:_.jsx(BN,{size:20}),label:"Architecture Board"},{id:"blueprints",icon:_.jsx(wS,{size:20}),label:"Blueprints"},{id:"data",icon:_.jsx(ru,{size:20}),label:"Data Dictionary"},{id:"agents",icon:_.jsx(ou,{size:20}),label:"Agents"},{id:"logs",icon:_.jsx(PS,{size:20}),label:"Change Logs"},{id:"settings",icon:_.jsx(cR,{size:20}),label:"Settings"}],T=[{id:"1",name:"System Architect Master",promptSnippet:"Act as a Senior System Architect. Design a highly scalable, fault-tolerant system..."},{id:"2",name:"Database Normalizer",promptSnippet:"Analyze this schema and normalize to 3NF. Identify potential bottlenecks..."},{id:"3",name:"React Component Generator",promptSnippet:"Create a reusable React component using Tailwind CSS and Radix UI..."}],C=b=>b.split(" ").map(A=>A[0]).join("").toUpperCase().slice(0,2);return _.jsxs("div",{className:"h-screen w-full bg-surface dot-matrix-bg text-ink font-sans overflow-hidden flex",children:[_.jsxs($e.aside,{initial:{width:80},animate:{width:x?280:80},transition:{duration:.3,ease:"easeInOut"},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),className:"h-full bg-white border-r-2 border-ink z-50 relative flex flex-col shadow-hard shrink-0 transition-all",children:[_.jsx("div",{className:"h-16 border-b-2 border-ink flex items-center px-4 justify-between bg-zinc-50 overflow-hidden whitespace-nowrap",children:_.jsx(Ti,{mode:"wait",children:x?_.jsx($e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"font-serif font-black text-2xl tracking-tighter",children:"PARIT."},"full"):_.jsx($e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"font-serif font-black text-2xl tracking-tighter pl-1",children:"P."},"short")})}),_.jsx("nav",{className:"flex-1 py-6 px-2 flex flex-col gap-2 overflow-y-auto scrollbar-hide",children:S.map(b=>_.jsxs("button",{onClick:()=>i?.(b.id),className:`
                group flex items-center gap-3 px-3 py-3 w-full transition-all border-2
                ${o===b.id?"bg-ink text-white border-ink shadow-[2px_2px_0px_0px_rgba(0,0,0,0.3)]":"bg-transparent text-zinc-600 border-transparent hover:border-ink hover:bg-zinc-50 hover:shadow-[2px_2px_0px_0px_#18181b]"}
              `,children:[_.jsx("span",{className:`shrink-0 ${o===b.id?"text-accent":"text-current"}`,children:b.icon}),x&&_.jsx($e.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1},className:"font-medium whitespace-nowrap",children:b.label})]},b.id))}),_.jsx("div",{className:"p-4 border-t-2 border-ink bg-zinc-50 overflow-hidden whitespace-nowrap",children:_.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-3 w-full hover:bg-zinc-200 p-2 -ml-2 rounded-sm transition-colors text-left",children:[_.jsx("div",{className:"w-8 h-8 shrink-0 bg-accent border-2 border-ink rounded-full flex items-center justify-center font-bold text-ink text-xs shadow-sm",children:C(u.name)}),x&&_.jsxs($e.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col min-w-0",children:[_.jsx("span",{className:"text-sm font-bold truncate",children:u.name}),_.jsx("span",{className:"text-xs text-zinc-500 font-mono truncate",children:u.role})]})]})})]}),_.jsx("main",{className:`flex-1 h-full relative z-0 overflow-hidden ${e?"p-0":"p-8 overflow-y-auto"}`,children:t}),_.jsx(QS,{isOpen:h,onClose:()=>g(!1),title:"User Workspace",size:"md",children:_.jsx(OM,{projects:r,favorites:T,onDeleteProject:l})})]})};function S4(){const{projectSettings:t,hydrateProject:e,fetchProjects:i,recentProjects:o,setToast:r}=os(),[l,u]=ye.useState(!1);return ye.useEffect(()=>{(async()=>{try{await i()}catch(p){console.error("Failed to fetch project list",p)}})()},[]),ye.useEffect(()=>{const d=t.id;if(!d)return;(async()=>{u(!0);try{await e(d),r({message:"Project Data Synced with Cloud",type:"success"})}catch(h){console.error("Hydration Failed",h),r({message:"Failed to load project history",type:"error"})}finally{u(!1)}})()},[t.id]),{isHydrating:l}}const _4=()=>{const[t,e]=ye.useState(!0),[i,o]=ye.useState(0);return ye.useEffect(()=>{const r=setInterval(()=>{const l=Math.floor(Math.random()*50)+20;o(l),e(l<100)},3e3);return()=>clearInterval(r)},[]),_.jsxs("div",{className:"flex items-center gap-4 py-2 px-4 bg-zinc-900 text-zinc-400 font-mono text-[10px] border-b border-zinc-800",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:je("w-2 h-2 rounded-full",t?"bg-emerald-500 animate-pulse":"bg-red-500")}),_.jsx("span",{className:"uppercase tracking-wider font-bold",children:t?"Supervisor Connected":"Connection Lost"})]}),_.jsx("div",{className:"h-4 w-px bg-zinc-700 mx-2"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(ta,{size:12}),_.jsxs("span",{children:[i,"ms"]})]}),_.jsx("div",{className:"flex-1"}),_.jsxs("div",{className:"flex items-center gap-2 text-zinc-500",children:[_.jsx(RR,{size:12}),_.jsx("span",{children:"Cloudflare Edge (v1.0.4)"})]})]})},T4=()=>typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?"http://127.0.0.1:8787":"",b4=()=>{const{projectSettings:t,rotateSession:e,userProfile:i,updateUserProfile:o}=os(),[r,l]=ye.useState("nominal"),[u,d]=ye.useState(0),[p,h]=ye.useState(!1),[g,x]=ye.useState(i);ye.useEffect(()=>{x(i)},[i]),ye.useEffect(()=>{const T=async()=>{const b=Date.now();try{(await fetch(`${T4()}/api/projects`,{method:"OPTIONS"})).ok?l("nominal"):l("degraded")}catch{l("offline")}d(Date.now()-b)};T();const C=setInterval(T,1e4);return()=>clearInterval(C)},[]);const S=()=>{o(g),h(!1)};return _.jsxs($e.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs(bf,{className:"bg-zinc-50 border-ink relative overflow-hidden group transition-all",children:[_.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity pointer-events-none",children:_.jsx(RN,{size:120})}),_.jsx("div",{className:"absolute top-4 right-4 z-20",children:p?_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>h(!1),className:"p-2 bg-white border-2 border-ink rounded-full hover:bg-zinc-100 text-zinc-500",children:_.jsx(au,{size:14})}),_.jsx("button",{onClick:S,className:"p-2 bg-emerald-500 border-2 border-emerald-700 rounded-full hover:bg-emerald-400 text-white shadow-sm",children:_.jsx(rR,{size:14})})]}):_.jsx("button",{onClick:()=>h(!0),className:"p-2 bg-white border-2 border-ink rounded-full hover:bg-zinc-100 text-ink shadow-sm opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsx(eR,{size:14})})}),_.jsxs("div",{className:"flex flex-col h-full justify-between relative z-10 min-h-[220px]",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-zinc-400 mb-4",children:[_.jsx(LS,{size:14})," Personnel Identity"]}),p?_.jsxs("div",{className:"space-y-3 mb-4 animate-in fade-in slide-in-from-left-2 duration-300",children:[_.jsx(ia,{value:g.name,onChange:T=>x({...g,name:T.target.value}),placeholder:"Full Name",className:"font-serif font-black text-xl"}),_.jsx(ia,{value:g.role,onChange:T=>x({...g,role:T.target.value}),placeholder:"Role / Title",className:"font-mono text-sm"})]}):_.jsxs(_.Fragment,{children:[_.jsx("h2",{className:"text-3xl font-serif font-black mb-1 break-words",children:i.name}),_.jsx("p",{className:"font-mono text-sm text-zinc-600",children:i.role})]})]}),_.jsxs("div",{className:"mt-8 pt-4 border-t-2 border-dashed border-zinc-200 font-mono text-xs text-zinc-500 space-y-2",children:[_.jsxs("div",{className:"flex justify-between items-center h-8",children:[_.jsx("span",{children:"CLEARANCE"}),p?_.jsx("input",{className:"w-32 bg-white border border-zinc-300 px-2 py-1 text-right font-bold text-ink outline-none focus:border-accent",value:g.clearance,onChange:T=>x({...g,clearance:T.target.value})}):_.jsx("span",{className:"font-bold text-ink",children:i.clearance})]}),_.jsxs("div",{className:"flex justify-between items-center h-8",children:[_.jsx("span",{children:"UNIT"}),p?_.jsx("input",{className:"w-32 bg-white border border-zinc-300 px-2 py-1 text-right font-bold text-ink outline-none focus:border-accent",value:g.unit,onChange:T=>x({...g,unit:T.target.value})}):_.jsx("span",{className:"font-bold text-ink",children:i.unit})]})]})]})]}),_.jsx(bf,{className:"relative",children:_.jsxs("div",{className:"flex flex-col h-full",children:[_.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-zinc-400 mb-4",children:[_.jsx(zN,{size:14})," Active Session"]}),_.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center text-center space-y-2 mb-6",children:[_.jsx("div",{className:"font-mono text-2xl font-bold text-ink break-all",children:t.id||"NO_ACTIVE_SESSION"}),_.jsxs("span",{className:"px-2 py-0.5 bg-emerald-100 text-emerald-800 border border-emerald-200 rounded text-[10px] font-bold uppercase tracking-wider",children:[t.environment.toUpperCase()," ENVIRONMENT"]})]}),_.jsxs("div",{className:"pt-4 border-t-2 border-ink",children:[_.jsx(Vt,{onClick:e,variant:"secondary",className:"w-full justify-center",icon:_.jsx(_f,{size:16}),children:"Rotate Session ID"}),_.jsx("p",{className:"text-[10px] text-zinc-400 mt-2 text-center",children:"Triggers a new handshake with the Supervisor. Local state will be reset."})]})]})})]}),_.jsxs("div",{className:je("p-4 rounded-lg flex items-center justify-between shadow-hard transition-colors duration-300",r==="nominal"?"bg-zinc-900 text-white":r==="degraded"?"bg-amber-900 text-white":"bg-red-900 text-white"),children:[_.jsxs("div",{className:"flex items-center gap-3",children:[r==="nominal"?_.jsx(zS,{size:20,className:"text-emerald-400"}):r==="degraded"?_.jsx(Ro,{size:20,className:"text-amber-400"}):_.jsx(_f,{size:20,className:"text-red-400 animate-spin"}),_.jsxs("div",{children:[_.jsxs("h4",{className:"font-bold text-sm",children:["System Integrity: ",r==="nominal"?"Nominal":r==="degraded"?"Degraded":"Critical Failure"]}),_.jsx("p",{className:"text-xs text-zinc-400 font-mono",children:r==="offline"?"Supervisor Unreachable.":`All worker nodes operational. Latency ${u}ms.`})]})]}),_.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(T=>_.jsx("div",{className:je("w-1 h-8 rounded-full",r==="nominal"?"bg-emerald-500/20":"bg-red-500/20"),children:_.jsx("div",{className:je("w-full rounded-full animate-pulse",r==="nominal"?"bg-emerald-500":"bg-red-500"),style:{height:`${Math.random()*100}%`}})},T))})]})]})},E4=()=>{const{projectSettings:t,updateAgentTier:e}=os(),i=t.agentTiers||[],o=(r,l)=>{const u=Bf.find(d=>d.id===l);u&&e(r,{model:l,provider:u.provider})};return _.jsxs($e.div,{initial:{opacity:0},animate:{opacity:1},className:"flex gap-8 h-full min-h-[500px]",children:[_.jsxs("div",{className:"w-16 flex flex-col items-center py-4 gap-1 border-r-2 border-dashed border-zinc-200",children:[_.jsx("div",{className:"text-[10px] font-bold writing-vertical-rl rotate-180 text-zinc-300 tracking-widest uppercase mb-4",children:"Signal Hierarchy"}),i.map((r,l)=>_.jsxs(bo.Fragment,{children:[_.jsx("div",{className:je("w-3 h-12 rounded-full transition-all duration-500",r.model.includes("gpt-4")||r.model.includes("opus")?"bg-purple-500 shadow-[0_0_10px_rgba(168,85,247,0.5)]":r.model.includes("gemini")?"bg-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)]":"bg-zinc-300")}),l<i.length-1&&_.jsx("div",{className:"w-px h-8 bg-zinc-200"})]},r.id))]}),_.jsxs("div",{className:"flex-1 space-y-6",children:[_.jsxs("div",{className:"flex justify-between items-end border-b-2 border-ink pb-4",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-serif font-black text-2xl",children:"Intelligence Map"}),_.jsx("p",{className:"text-sm text-zinc-500 font-mono",children:"Configure the cognitive load for each architectural tier."})]}),_.jsxs("div",{className:"text-right",children:[_.jsx("div",{className:"text-xs font-bold uppercase text-zinc-400",children:"Total Est. Cost"}),_.jsxs("div",{className:"font-mono text-xl font-bold",children:["$0.042",_.jsx("span",{className:"text-zinc-400 text-sm",children:"/run"})]})]})]}),_.jsx("div",{className:"space-y-4",children:i.map(r=>_.jsx(A4,{tier:r,onModelChange:l=>o(r.id,l)},r.id))})]})]})},A4=({tier:t,onModelChange:e})=>{const i=Bf.find(o=>o.id===t.model);return _.jsxs("div",{className:"bg-white border border-zinc-200 p-4 rounded-lg flex items-center gap-6 hover:shadow-md transition-shadow group",children:[_.jsx("div",{className:je("w-12 h-12 rounded-lg flex items-center justify-center border-2 shadow-sm shrink-0",t.id==="tier_0"?"bg-zinc-900 border-zinc-900 text-white":"bg-white border-zinc-200 text-zinc-500"),children:t.id==="tier_0"?_.jsx(sN,{size:24}):t.id==="tier_1"?_.jsx(VS,{size:24}):t.id==="tier_2"?_.jsx(bh,{size:24}):_.jsx(ou,{size:24})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx("h4",{className:"font-bold text-sm uppercase tracking-wider",children:t.name}),_.jsx("span",{className:"text-[10px] bg-zinc-100 px-2 py-0.5 rounded text-zinc-500 font-mono",children:t.id})]}),_.jsx("p",{className:"text-xs text-zinc-400 truncate",children:t.description}),_.jsxs("div",{className:"flex gap-1 mt-2 flex-wrap",children:[t.agents.map(o=>_.jsx("span",{className:"text-[10px] border border-zinc-200 px-1.5 py-0.5 rounded text-zinc-500 font-mono uppercase bg-zinc-50",children:o},o)),t.agents.length===0&&_.jsx("span",{className:"text-[10px] text-zinc-300 italic",children:"Orchestrator"})]})]}),_.jsx("div",{className:"w-64",children:_.jsx(NM,{options:Bf.map(o=>({label:`${o.name} (${o.costPer1k}/1k)`,value:o.id})),value:t.model,onChange:o=>e(o.target.value)})}),_.jsxs("div",{className:"w-24 text-right",children:[_.jsx("div",{className:"text-[10px] font-bold uppercase text-zinc-400",children:"Context"}),_.jsx("div",{className:"font-mono text-xs font-bold",children:i?.contextWindow})]})]})},C4=()=>{const{artefacts:t,wipeProjectData:e,projectSettings:i}=os(),[o,r]=bo.useState(!1);return _.jsxs($e.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col h-full gap-6",children:[_.jsxs("div",{className:"bg-zinc-50 border-2 border-ink p-4 rounded-lg flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 bg-white border-2 border-ink rounded flex items-center justify-center",children:_.jsx(MS,{size:24})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-lg",children:"Project Data (L3 Persistence)"}),_.jsx("p",{className:"text-xs text-zinc-500 font-mono",children:"Managed via Cloudflare D1 & R2"})]})]}),_.jsx(Vt,{variant:"danger",icon:_.jsx(US,{size:16}),onClick:()=>r(!0),children:"Wipe All Data"})]}),_.jsxs("div",{className:"flex-1 border-2 border-ink rounded-lg flex flex-col overflow-hidden bg-white",children:[_.jsxs("div",{className:"bg-zinc-900 text-zinc-400 px-4 py-2 text-xs font-mono border-b border-zinc-800 flex justify-between",children:[_.jsxs("span",{children:["root/projects/",i.id,"/artifacts/"]}),_.jsxs("span",{children:[t.length," objects"]})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:t.length===0?_.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-zinc-400 opacity-50",children:[_.jsx(ru,{size:48,className:"mb-4"}),_.jsx("p",{children:"No artifacts in remote storage"})]}):_.jsx("div",{className:"grid grid-cols-1 gap-1",children:t.map(l=>_.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-zinc-50 rounded group cursor-default",children:[_.jsx("div",{className:je("w-8 h-8 flex items-center justify-center rounded",l.type==="code"?"bg-blue-100 text-blue-600":l.type==="schema"?"bg-amber-100 text-amber-600":"bg-zinc-100 text-zinc-500"),children:l.type==="code"?_.jsx(Th,{size:16}):l.type==="schema"?_.jsx(RS,{size:16}):_.jsx(Jl,{size:16})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsxs("div",{className:"font-mono text-sm truncate",children:[l.label.replace(/\s+/g,"_").toLowerCase(),".",l.type==="code"?"tsx":"md"]}),_.jsxs("div",{className:"text-[10px] text-zinc-400 uppercase",children:[l.sourceStageId,"  12KB"]})]}),_.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-2 hover:bg-zinc-200 rounded text-zinc-500 transition-opacity",children:_.jsx(na,{size:14})})]},l.id))})})]}),o&&_.jsx("div",{className:"fixed inset-0 z-[300] bg-black/50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white border-2 border-ink p-6 max-w-md w-full shadow-2xl rounded-lg",children:[_.jsx("h3",{className:"font-serif font-black text-2xl mb-2 text-red-600",children:"CONFIRM WIPE"}),_.jsx("p",{className:"text-zinc-600 mb-6 text-sm",children:"This action will permanently delete all artifacts from R2 and drop all rows from D1 for this project ID. This cannot be undone."}),_.jsxs("div",{className:"flex justify-end gap-3",children:[_.jsx(Vt,{variant:"secondary",onClick:()=>r(!1),children:"Cancel"}),_.jsx(Vt,{variant:"danger",onClick:()=>{e(),r(!1)},children:"Yes, Delete Everything"})]})]})})]})},w4=({onClose:t})=>{const[e,i]=ye.useState("profile"),{userProfile:o}=os();return _.jsxs("div",{className:"flex flex-col h-full bg-white relative",children:[_.jsxs("div",{className:"bg-zinc-50 border-b-2 border-ink",children:[_.jsx(_4,{}),_.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[_.jsxs("h1",{className:"font-serif font-black text-2xl flex items-center gap-3",children:["System Configuration",_.jsxs("span",{className:"text-zinc-400 font-sans text-lg font-medium hidden sm:inline-block",children:["/ ",o.name]})]}),_.jsx("button",{onClick:t,className:"p-2 hover:bg-zinc-200 rounded-full transition-colors",children:_.jsx(au,{size:20})})]}),_.jsx("div",{className:"px-6",children:_.jsx(RM,{activeTab:e,onChange:i,tabs:[{id:"profile",label:"Identity & Session",icon:_.jsx(LS,{size:16})},{id:"intelligence",label:"Models & Intelligence",icon:_.jsx(ou,{size:16})},{id:"export",label:"Data Management",icon:_.jsx(MS,{size:16})}],className:"border-none"})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-surface/30",children:_.jsx(Ti,{mode:"wait",children:_.jsxs($e.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},className:"h-full",children:[e==="profile"&&_.jsx(b4,{}),e==="intelligence"&&_.jsx(E4,{}),e==="export"&&_.jsx(C4,{})]},e)})})]})};function Dl(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Zd={exports:{}};var Fx;function N4(){return Fx||(Fx=1,(function(t,e){(function(i){t.exports=i()})(function(){return(function i(o,r,l){function u(h,g){if(!r[h]){if(!o[h]){var x=typeof Dl=="function"&&Dl;if(!g&&x)return x(h,!0);if(d)return d(h,!0);var S=new Error("Cannot find module '"+h+"'");throw S.code="MODULE_NOT_FOUND",S}var T=r[h]={exports:{}};o[h][0].call(T.exports,function(C){var b=o[h][1][C];return u(b||C)},T,T.exports,i,o,r,l)}return r[h].exports}for(var d=typeof Dl=="function"&&Dl,p=0;p<l.length;p++)u(l[p]);return u})({1:[function(i,o,r){var l=i("./utils"),u=i("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(p){for(var h,g,x,S,T,C,b,A=[],w=0,M=p.length,k=M,P=l.getTypeOf(p)!=="string";w<p.length;)k=M-w,x=P?(h=p[w++],g=w<M?p[w++]:0,w<M?p[w++]:0):(h=p.charCodeAt(w++),g=w<M?p.charCodeAt(w++):0,w<M?p.charCodeAt(w++):0),S=h>>2,T=(3&h)<<4|g>>4,C=1<k?(15&g)<<2|x>>6:64,b=2<k?63&x:64,A.push(d.charAt(S)+d.charAt(T)+d.charAt(C)+d.charAt(b));return A.join("")},r.decode=function(p){var h,g,x,S,T,C,b=0,A=0,w="data:";if(p.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var M,k=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===d.charAt(64)&&k--,p.charAt(p.length-2)===d.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(M=u.uint8array?new Uint8Array(0|k):new Array(0|k);b<p.length;)h=d.indexOf(p.charAt(b++))<<2|(S=d.indexOf(p.charAt(b++)))>>4,g=(15&S)<<4|(T=d.indexOf(p.charAt(b++)))>>2,x=(3&T)<<6|(C=d.indexOf(p.charAt(b++))),M[A++]=h,T!==64&&(M[A++]=g),C!==64&&(M[A++]=x);return M}},{"./support":30,"./utils":32}],2:[function(i,o,r){var l=i("./external"),u=i("./stream/DataWorker"),d=i("./stream/Crc32Probe"),p=i("./stream/DataLengthProbe");function h(g,x,S,T,C){this.compressedSize=g,this.uncompressedSize=x,this.crc32=S,this.compression=T,this.compressedContent=C}h.prototype={getContentWorker:function(){var g=new u(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),x=this;return g.on("end",function(){if(this.streamInfo.data_length!==x.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new u(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(g,x,S){return g.pipe(new d).pipe(new p("uncompressedSize")).pipe(x.compressWorker(S)).pipe(new p("compressedSize")).withStreamInfo("compression",x)},o.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,o,r){var l=i("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},r.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,o,r){var l=i("./utils"),u=(function(){for(var d,p=[],h=0;h<256;h++){d=h;for(var g=0;g<8;g++)d=1&d?3988292384^d>>>1:d>>>1;p[h]=d}return p})();o.exports=function(d,p){return d!==void 0&&d.length?l.getTypeOf(d)!=="string"?(function(h,g,x,S){var T=u,C=S+x;h^=-1;for(var b=S;b<C;b++)h=h>>>8^T[255&(h^g[b])];return-1^h})(0|p,d,d.length,0):(function(h,g,x,S){var T=u,C=S+x;h^=-1;for(var b=S;b<C;b++)h=h>>>8^T[255&(h^g.charCodeAt(b))];return-1^h})(0|p,d,d.length,0):0}},{"./utils":32}],5:[function(i,o,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(i,o,r){var l=null;l=typeof Promise<"u"?Promise:i("lie"),o.exports={Promise:l}},{lie:37}],7:[function(i,o,r){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=i("pako"),d=i("./utils"),p=i("./stream/GenericWorker"),h=l?"uint8array":"array";function g(x,S){p.call(this,"FlateWorker/"+x),this._pako=null,this._pakoAction=x,this._pakoOptions=S,this.meta={}}r.magic="\b\0",d.inherits(g,p),g.prototype.processChunk=function(x){this.meta=x.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(h,x.data),!1)},g.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var x=this;this._pako.onData=function(S){x.push({data:S,meta:x.meta})}},r.compressWorker=function(x){return new g("Deflate",x)},r.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,o,r){function l(T,C){var b,A="";for(b=0;b<C;b++)A+=String.fromCharCode(255&T),T>>>=8;return A}function u(T,C,b,A,w,M){var k,P,z=T.file,q=T.compression,O=M!==h.utf8encode,G=d.transformTo("string",M(z.name)),F=d.transformTo("string",h.utf8encode(z.name)),ie=z.comment,ve=d.transformTo("string",M(ie)),B=d.transformTo("string",h.utf8encode(ie)),$=F.length!==z.name.length,R=B.length!==ie.length,oe="",J="",Y="",ee=z.dir,ae=z.date,Se={crc32:0,compressedSize:0,uncompressedSize:0};C&&!b||(Se.crc32=T.crc32,Se.compressedSize=T.compressedSize,Se.uncompressedSize=T.uncompressedSize);var D=0;C&&(D|=8),O||!$&&!R||(D|=2048);var L=0,se=0;ee&&(L|=16),w==="UNIX"?(se=798,L|=(function(ue,Ae){var Ee=ue;return ue||(Ee=Ae?16893:33204),(65535&Ee)<<16})(z.unixPermissions,ee)):(se=20,L|=(function(ue){return 63&(ue||0)})(z.dosPermissions)),k=ae.getUTCHours(),k<<=6,k|=ae.getUTCMinutes(),k<<=5,k|=ae.getUTCSeconds()/2,P=ae.getUTCFullYear()-1980,P<<=4,P|=ae.getUTCMonth()+1,P<<=5,P|=ae.getUTCDate(),$&&(J=l(1,1)+l(g(G),4)+F,oe+="up"+l(J.length,2)+J),R&&(Y=l(1,1)+l(g(ve),4)+B,oe+="uc"+l(Y.length,2)+Y);var ne="";return ne+=`
\0`,ne+=l(D,2),ne+=q.magic,ne+=l(k,2),ne+=l(P,2),ne+=l(Se.crc32,4),ne+=l(Se.compressedSize,4),ne+=l(Se.uncompressedSize,4),ne+=l(G.length,2),ne+=l(oe.length,2),{fileRecord:x.LOCAL_FILE_HEADER+ne+G+oe,dirRecord:x.CENTRAL_FILE_HEADER+l(se,2)+ne+l(ve.length,2)+"\0\0\0\0"+l(L,4)+l(A,4)+G+oe+ve}}var d=i("../utils"),p=i("../stream/GenericWorker"),h=i("../utf8"),g=i("../crc32"),x=i("../signature");function S(T,C,b,A){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=C,this.zipPlatform=b,this.encodeFileName=A,this.streamFiles=T,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(S,p),S.prototype.push=function(T){var C=T.meta.percent||0,b=this.entriesCount,A=this._sources.length;this.accumulate?this.contentBuffer.push(T):(this.bytesWritten+=T.data.length,p.prototype.push.call(this,{data:T.data,meta:{currentFile:this.currentFile,percent:b?(C+100*(b-A-1))/b:100}}))},S.prototype.openedSource=function(T){this.currentSourceOffset=this.bytesWritten,this.currentFile=T.file.name;var C=this.streamFiles&&!T.file.dir;if(C){var b=u(T,C,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(T){this.accumulate=!1;var C=this.streamFiles&&!T.file.dir,b=u(T,C,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),C)this.push({data:(function(A){return x.DATA_DESCRIPTOR+l(A.crc32,4)+l(A.compressedSize,4)+l(A.uncompressedSize,4)})(T),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var T=this.bytesWritten,C=0;C<this.dirRecords.length;C++)this.push({data:this.dirRecords[C],meta:{percent:100}});var b=this.bytesWritten-T,A=(function(w,M,k,P,z){var q=d.transformTo("string",z(P));return x.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(w,2)+l(w,2)+l(M,4)+l(k,4)+l(q.length,2)+q})(this.dirRecords.length,b,T,this.zipComment,this.encodeFileName);this.push({data:A,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(T){this._sources.push(T);var C=this;return T.on("data",function(b){C.processChunk(b)}),T.on("end",function(){C.closedSource(C.previous.streamInfo),C._sources.length?C.prepareNextSource():C.end()}),T.on("error",function(b){C.error(b)}),this},S.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(T){var C=this._sources;if(!p.prototype.error.call(this,T))return!1;for(var b=0;b<C.length;b++)try{C[b].error(T)}catch{}return!0},S.prototype.lock=function(){p.prototype.lock.call(this);for(var T=this._sources,C=0;C<T.length;C++)T[C].lock()},o.exports=S},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,o,r){var l=i("../compressions"),u=i("./ZipFileWorker");r.generateWorker=function(d,p,h){var g=new u(p.streamFiles,h,p.platform,p.encodeFileName),x=0;try{d.forEach(function(S,T){x++;var C=(function(M,k){var P=M||k,z=l[P];if(!z)throw new Error(P+" is not a valid compression method !");return z})(T.options.compression,p.compression),b=T.options.compressionOptions||p.compressionOptions||{},A=T.dir,w=T.date;T._compressWorker(C,b).withStreamInfo("file",{name:S,dir:A,date:w,comment:T.comment||"",unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions}).pipe(g)}),g.entriesCount=x}catch(S){g.error(S)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,o,r){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new l;for(var d in this)typeof this[d]!="function"&&(u[d]=this[d]);return u}}(l.prototype=i("./object")).loadAsync=i("./load"),l.support=i("./support"),l.defaults=i("./defaults"),l.version="3.10.1",l.loadAsync=function(u,d){return new l().loadAsync(u,d)},l.external=i("./external"),o.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,o,r){var l=i("./utils"),u=i("./external"),d=i("./utf8"),p=i("./zipEntries"),h=i("./stream/Crc32Probe"),g=i("./nodejsUtils");function x(S){return new u.Promise(function(T,C){var b=S.decompressed.getContentWorker().pipe(new h);b.on("error",function(A){C(A)}).on("end",function(){b.streamInfo.crc32!==S.decompressed.crc32?C(new Error("Corrupted zip : CRC32 mismatch")):T()}).resume()})}o.exports=function(S,T){var C=this;return T=l.extend(T||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),g.isNode&&g.isStream(S)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",S,!0,T.optimizedBinaryString,T.base64).then(function(b){var A=new p(T);return A.load(b),A}).then(function(b){var A=[u.Promise.resolve(b)],w=b.files;if(T.checkCRC32)for(var M=0;M<w.length;M++)A.push(x(w[M]));return u.Promise.all(A)}).then(function(b){for(var A=b.shift(),w=A.files,M=0;M<w.length;M++){var k=w[M],P=k.fileNameStr,z=l.resolve(k.fileNameStr);C.file(z,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:T.createFolders}),k.dir||(C.file(z).unsafeOriginalName=P)}return A.zipComment.length&&(C.comment=A.zipComment),C})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,o,r){var l=i("../utils"),u=i("../stream/GenericWorker");function d(p,h){u.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(h)}l.inherits(d,u),d.prototype._bindStream=function(p){var h=this;(this._stream=p).pause(),p.on("data",function(g){h.push({data:g,meta:{percent:0}})}).on("error",function(g){h.isPaused?this.generatedError=g:h.error(g)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},d.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,o,r){var l=i("readable-stream").Readable;function u(d,p,h){l.call(this,p),this._helper=d;var g=this;d.on("data",function(x,S){g.push(x)||g._helper.pause(),h&&h(S)}).on("error",function(x){g.emit("error",x)}).on("end",function(){g.push(null)})}i("../utils").inherits(u,l),u.prototype._read=function(){this._helper.resume()},o.exports=u},{"../utils":32,"readable-stream":16}],14:[function(i,o,r){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,u);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,u)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var u=new Buffer(l);return u.fill(0),u},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(i,o,r){function l(z,q,O){var G,F=d.getTypeOf(q),ie=d.extend(O||{},g);ie.date=ie.date||new Date,ie.compression!==null&&(ie.compression=ie.compression.toUpperCase()),typeof ie.unixPermissions=="string"&&(ie.unixPermissions=parseInt(ie.unixPermissions,8)),ie.unixPermissions&&16384&ie.unixPermissions&&(ie.dir=!0),ie.dosPermissions&&16&ie.dosPermissions&&(ie.dir=!0),ie.dir&&(z=w(z)),ie.createFolders&&(G=A(z))&&M.call(this,G,!0);var ve=F==="string"&&ie.binary===!1&&ie.base64===!1;O&&O.binary!==void 0||(ie.binary=!ve),(q instanceof x&&q.uncompressedSize===0||ie.dir||!q||q.length===0)&&(ie.base64=!1,ie.binary=!0,q="",ie.compression="STORE",F="string");var B=null;B=q instanceof x||q instanceof p?q:C.isNode&&C.isStream(q)?new b(z,q):d.prepareContent(z,q,ie.binary,ie.optimizedBinaryString,ie.base64);var $=new S(z,B,ie);this.files[z]=$}var u=i("./utf8"),d=i("./utils"),p=i("./stream/GenericWorker"),h=i("./stream/StreamHelper"),g=i("./defaults"),x=i("./compressedObject"),S=i("./zipObject"),T=i("./generate"),C=i("./nodejsUtils"),b=i("./nodejs/NodejsStreamInputAdapter"),A=function(z){z.slice(-1)==="/"&&(z=z.substring(0,z.length-1));var q=z.lastIndexOf("/");return 0<q?z.substring(0,q):""},w=function(z){return z.slice(-1)!=="/"&&(z+="/"),z},M=function(z,q){return q=q!==void 0?q:g.createFolders,z=w(z),this.files[z]||l.call(this,z,null,{dir:!0,createFolders:q}),this.files[z]};function k(z){return Object.prototype.toString.call(z)==="[object RegExp]"}var P={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(z){var q,O,G;for(q in this.files)G=this.files[q],(O=q.slice(this.root.length,q.length))&&q.slice(0,this.root.length)===this.root&&z(O,G)},filter:function(z){var q=[];return this.forEach(function(O,G){z(O,G)&&q.push(G)}),q},file:function(z,q,O){if(arguments.length!==1)return z=this.root+z,l.call(this,z,q,O),this;if(k(z)){var G=z;return this.filter(function(ie,ve){return!ve.dir&&G.test(ie)})}var F=this.files[this.root+z];return F&&!F.dir?F:null},folder:function(z){if(!z)return this;if(k(z))return this.filter(function(F,ie){return ie.dir&&z.test(F)});var q=this.root+z,O=M.call(this,q),G=this.clone();return G.root=O.name,G},remove:function(z){z=this.root+z;var q=this.files[z];if(q||(z.slice(-1)!=="/"&&(z+="/"),q=this.files[z]),q&&!q.dir)delete this.files[z];else for(var O=this.filter(function(F,ie){return ie.name.slice(0,z.length)===z}),G=0;G<O.length;G++)delete this.files[O[G].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(z){var q,O={};try{if((O=d.extend(z||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");d.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var G=O.comment||this.comment||"";q=T.generateWorker(this,O,G)}catch(F){(q=new p("error")).error(F)}return new h(q,O.type||"string",O.mimeType)},generateAsync:function(z,q){return this.generateInternalStream(z).accumulate(q)},generateNodeStream:function(z,q){return(z=z||{}).type||(z.type="nodebuffer"),this.generateInternalStream(z).toNodejsStream(q)}};o.exports=P},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,o,r){o.exports=i("stream")},{stream:void 0}],17:[function(i,o,r){var l=i("./DataReader");function u(d){l.call(this,d);for(var p=0;p<this.data.length;p++)d[p]=255&d[p]}i("../utils").inherits(u,l),u.prototype.byteAt=function(d){return this.data[this.zero+d]},u.prototype.lastIndexOfSignature=function(d){for(var p=d.charCodeAt(0),h=d.charCodeAt(1),g=d.charCodeAt(2),x=d.charCodeAt(3),S=this.length-4;0<=S;--S)if(this.data[S]===p&&this.data[S+1]===h&&this.data[S+2]===g&&this.data[S+3]===x)return S-this.zero;return-1},u.prototype.readAndCheckSignature=function(d){var p=d.charCodeAt(0),h=d.charCodeAt(1),g=d.charCodeAt(2),x=d.charCodeAt(3),S=this.readData(4);return p===S[0]&&h===S[1]&&g===S[2]&&x===S[3]},u.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},o.exports=u},{"../utils":32,"./DataReader":18}],18:[function(i,o,r){var l=i("../utils");function u(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var p,h=0;for(this.checkOffset(d),p=this.index+d-1;p>=this.index;p--)h=(h<<8)+this.byteAt(p);return this.index+=d,h},readString:function(d){return l.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},o.exports=u},{"../utils":32}],19:[function(i,o,r){var l=i("./Uint8ArrayReader");function u(d){l.call(this,d)}i("../utils").inherits(u,l),u.prototype.readData=function(d){this.checkOffset(d);var p=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},o.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,o,r){var l=i("./DataReader");function u(d){l.call(this,d)}i("../utils").inherits(u,l),u.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},u.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},u.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},u.prototype.readData=function(d){this.checkOffset(d);var p=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},o.exports=u},{"../utils":32,"./DataReader":18}],21:[function(i,o,r){var l=i("./ArrayReader");function u(d){l.call(this,d)}i("../utils").inherits(u,l),u.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},o.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(i,o,r){var l=i("../utils"),u=i("../support"),d=i("./ArrayReader"),p=i("./StringReader"),h=i("./NodeBufferReader"),g=i("./Uint8ArrayReader");o.exports=function(x){var S=l.getTypeOf(x);return l.checkSupport(S),S!=="string"||u.uint8array?S==="nodebuffer"?new h(x):u.uint8array?new g(l.transformTo("uint8array",x)):new d(l.transformTo("array",x)):new p(x)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,o,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,o,r){var l=i("./GenericWorker"),u=i("../utils");function d(p){l.call(this,"ConvertWorker to "+p),this.destType=p}u.inherits(d,l),d.prototype.processChunk=function(p){this.push({data:u.transformTo(this.destType,p.data),meta:p.meta})},o.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(i,o,r){var l=i("./GenericWorker"),u=i("../crc32");function d(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("../utils").inherits(d,l),d.prototype.processChunk=function(p){this.streamInfo.crc32=u(p.data,this.streamInfo.crc32||0),this.push(p)},o.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,o,r){var l=i("../utils"),u=i("./GenericWorker");function d(p){u.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}l.inherits(d,u),d.prototype.processChunk=function(p){if(p){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+p.data.length}u.prototype.processChunk.call(this,p)},o.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(i,o,r){var l=i("../utils"),u=i("./GenericWorker");function d(p){u.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(g){h.dataIsReady=!0,h.data=g,h.max=g&&g.length||0,h.type=l.getTypeOf(g),h.isPaused||h._tickAndRepeat()},function(g){h.error(g)})}l.inherits(d,u),d.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,h);break;case"uint8array":p=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":p=this.data.slice(this.index,h)}return this.index=h,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(i,o,r){function l(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,d){return this._listeners[u].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,d){if(this._listeners[u])for(var p=0;p<this._listeners[u].length;p++)this._listeners[u][p].call(this,d)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var d=this;return u.on("data",function(p){d.processChunk(p)}),u.on("end",function(){d.end()}),u.on("error",function(p){d.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,d){return this.extraStreamInfo[u]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},o.exports=l},{}],29:[function(i,o,r){var l=i("../utils"),u=i("./ConvertWorker"),d=i("./GenericWorker"),p=i("../base64"),h=i("../support"),g=i("../external"),x=null;if(h.nodestream)try{x=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function S(C,b){return new g.Promise(function(A,w){var M=[],k=C._internalType,P=C._outputType,z=C._mimeType;C.on("data",function(q,O){M.push(q),b&&b(O)}).on("error",function(q){M=[],w(q)}).on("end",function(){try{var q=(function(O,G,F){switch(O){case"blob":return l.newBlob(l.transformTo("arraybuffer",G),F);case"base64":return p.encode(G);default:return l.transformTo(O,G)}})(P,(function(O,G){var F,ie=0,ve=null,B=0;for(F=0;F<G.length;F++)B+=G[F].length;switch(O){case"string":return G.join("");case"array":return Array.prototype.concat.apply([],G);case"uint8array":for(ve=new Uint8Array(B),F=0;F<G.length;F++)ve.set(G[F],ie),ie+=G[F].length;return ve;case"nodebuffer":return Buffer.concat(G);default:throw new Error("concat : unsupported type '"+O+"'")}})(k,M),z);A(q)}catch(O){w(O)}M=[]}).resume()})}function T(C,b,A){var w=b;switch(b){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=b,this._mimeType=A,l.checkSupport(w),this._worker=C.pipe(new u(w)),C.lock()}catch(M){this._worker=new d("error"),this._worker.error(M)}}T.prototype={accumulate:function(C){return S(this,C)},on:function(C,b){var A=this;return C==="data"?this._worker.on(C,function(w){b.call(A,w.data,w.meta)}):this._worker.on(C,function(){l.delay(b,arguments,A)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(C){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new x(this,{objectMode:this._outputType!=="nodebuffer"},C)}},o.exports=T},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,o,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var l=new ArrayBuffer(0);try{r.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(l),r.blob=u.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!i("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(i,o,r){for(var l=i("./utils"),u=i("./support"),d=i("./nodejsUtils"),p=i("./stream/GenericWorker"),h=new Array(256),g=0;g<256;g++)h[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;h[254]=h[254]=1;function x(){p.call(this,"utf-8 decode"),this.leftOver=null}function S(){p.call(this,"utf-8 encode")}r.utf8encode=function(T){return u.nodebuffer?d.newBufferFrom(T,"utf-8"):(function(C){var b,A,w,M,k,P=C.length,z=0;for(M=0;M<P;M++)(64512&(A=C.charCodeAt(M)))==55296&&M+1<P&&(64512&(w=C.charCodeAt(M+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),M++),z+=A<128?1:A<2048?2:A<65536?3:4;for(b=u.uint8array?new Uint8Array(z):new Array(z),M=k=0;k<z;M++)(64512&(A=C.charCodeAt(M)))==55296&&M+1<P&&(64512&(w=C.charCodeAt(M+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),M++),A<128?b[k++]=A:(A<2048?b[k++]=192|A>>>6:(A<65536?b[k++]=224|A>>>12:(b[k++]=240|A>>>18,b[k++]=128|A>>>12&63),b[k++]=128|A>>>6&63),b[k++]=128|63&A);return b})(T)},r.utf8decode=function(T){return u.nodebuffer?l.transformTo("nodebuffer",T).toString("utf-8"):(function(C){var b,A,w,M,k=C.length,P=new Array(2*k);for(b=A=0;b<k;)if((w=C[b++])<128)P[A++]=w;else if(4<(M=h[w]))P[A++]=65533,b+=M-1;else{for(w&=M===2?31:M===3?15:7;1<M&&b<k;)w=w<<6|63&C[b++],M--;1<M?P[A++]=65533:w<65536?P[A++]=w:(w-=65536,P[A++]=55296|w>>10&1023,P[A++]=56320|1023&w)}return P.length!==A&&(P.subarray?P=P.subarray(0,A):P.length=A),l.applyFromCharCode(P)})(T=l.transformTo(u.uint8array?"uint8array":"array",T))},l.inherits(x,p),x.prototype.processChunk=function(T){var C=l.transformTo(u.uint8array?"uint8array":"array",T.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var b=C;(C=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),C.set(b,this.leftOver.length)}else C=this.leftOver.concat(C);this.leftOver=null}var A=(function(M,k){var P;for((k=k||M.length)>M.length&&(k=M.length),P=k-1;0<=P&&(192&M[P])==128;)P--;return P<0||P===0?k:P+h[M[P]]>k?P:k})(C),w=C;A!==C.length&&(u.uint8array?(w=C.subarray(0,A),this.leftOver=C.subarray(A,C.length)):(w=C.slice(0,A),this.leftOver=C.slice(A,C.length))),this.push({data:r.utf8decode(w),meta:T.meta})},x.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=x,l.inherits(S,p),S.prototype.processChunk=function(T){this.push({data:r.utf8encode(T.data),meta:T.meta})},r.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,o,r){var l=i("./support"),u=i("./base64"),d=i("./nodejsUtils"),p=i("./external");function h(b){return b}function g(b,A){for(var w=0;w<b.length;++w)A[w]=255&b.charCodeAt(w);return A}i("setimmediate"),r.newBlob=function(b,A){r.checkSupport("blob");try{return new Blob([b],{type:A})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(b),w.getBlob(A)}catch{throw new Error("Bug : can't construct the Blob.")}}};var x={stringifyByChunk:function(b,A,w){var M=[],k=0,P=b.length;if(P<=w)return String.fromCharCode.apply(null,b);for(;k<P;)A==="array"||A==="nodebuffer"?M.push(String.fromCharCode.apply(null,b.slice(k,Math.min(k+w,P)))):M.push(String.fromCharCode.apply(null,b.subarray(k,Math.min(k+w,P)))),k+=w;return M.join("")},stringifyByChar:function(b){for(var A="",w=0;w<b.length;w++)A+=String.fromCharCode(b[w]);return A},applyCanBeUsed:{uint8array:(function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}})()}};function S(b){var A=65536,w=r.getTypeOf(b),M=!0;if(w==="uint8array"?M=x.applyCanBeUsed.uint8array:w==="nodebuffer"&&(M=x.applyCanBeUsed.nodebuffer),M)for(;1<A;)try{return x.stringifyByChunk(b,w,A)}catch{A=Math.floor(A/2)}return x.stringifyByChar(b)}function T(b,A){for(var w=0;w<b.length;w++)A[w]=b[w];return A}r.applyFromCharCode=S;var C={};C.string={string:h,array:function(b){return g(b,new Array(b.length))},arraybuffer:function(b){return C.string.uint8array(b).buffer},uint8array:function(b){return g(b,new Uint8Array(b.length))},nodebuffer:function(b){return g(b,d.allocBuffer(b.length))}},C.array={string:S,array:h,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return d.newBufferFrom(b)}},C.arraybuffer={string:function(b){return S(new Uint8Array(b))},array:function(b){return T(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:h,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return d.newBufferFrom(new Uint8Array(b))}},C.uint8array={string:S,array:function(b){return T(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:h,nodebuffer:function(b){return d.newBufferFrom(b)}},C.nodebuffer={string:S,array:function(b){return T(b,new Array(b.length))},arraybuffer:function(b){return C.nodebuffer.uint8array(b).buffer},uint8array:function(b){return T(b,new Uint8Array(b.length))},nodebuffer:h},r.transformTo=function(b,A){if(A=A||"",!b)return A;r.checkSupport(b);var w=r.getTypeOf(A);return C[w][b](A)},r.resolve=function(b){for(var A=b.split("/"),w=[],M=0;M<A.length;M++){var k=A[M];k==="."||k===""&&M!==0&&M!==A.length-1||(k===".."?w.pop():w.push(k))}return w.join("/")},r.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":l.nodebuffer&&d.isBuffer(b)?"nodebuffer":l.uint8array&&b instanceof Uint8Array?"uint8array":l.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(b){if(!l[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(b){var A,w,M="";for(w=0;w<(b||"").length;w++)M+="\\x"+((A=b.charCodeAt(w))<16?"0":"")+A.toString(16).toUpperCase();return M},r.delay=function(b,A,w){setImmediate(function(){b.apply(w||null,A||[])})},r.inherits=function(b,A){function w(){}w.prototype=A.prototype,b.prototype=new w},r.extend=function(){var b,A,w={};for(b=0;b<arguments.length;b++)for(A in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],A)&&w[A]===void 0&&(w[A]=arguments[b][A]);return w},r.prepareContent=function(b,A,w,M,k){return p.Promise.resolve(A).then(function(P){return l.blob&&(P instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(P))!==-1)&&typeof FileReader<"u"?new p.Promise(function(z,q){var O=new FileReader;O.onload=function(G){z(G.target.result)},O.onerror=function(G){q(G.target.error)},O.readAsArrayBuffer(P)}):P}).then(function(P){var z=r.getTypeOf(P);return z?(z==="arraybuffer"?P=r.transformTo("uint8array",P):z==="string"&&(k?P=u.decode(P):w&&M!==!0&&(P=(function(q){return g(q,l.uint8array?new Uint8Array(q.length):new Array(q.length))})(P))),P):p.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,o,r){var l=i("./reader/readerFor"),u=i("./utils"),d=i("./signature"),p=i("./zipEntry"),h=i("./support");function g(x){this.files=[],this.loadOptions=x}g.prototype={checkSignature:function(x){if(!this.reader.readAndCheckSignature(x)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(S)+", expected "+u.pretty(x)+")")}},isSignature:function(x,S){var T=this.reader.index;this.reader.setIndex(x);var C=this.reader.readString(4)===S;return this.reader.setIndex(T),C},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var x=this.reader.readData(this.zipCommentLength),S=h.uint8array?"uint8array":"array",T=u.transformTo(S,x);this.zipComment=this.loadOptions.decodeFileName(T)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var x,S,T,C=this.zip64EndOfCentralSize-44;0<C;)x=this.reader.readInt(2),S=this.reader.readInt(4),T=this.reader.readData(S),this.zip64ExtensibleData[x]={id:x,length:S,value:T}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var x,S;for(x=0;x<this.files.length;x++)S=this.files[x],this.reader.setIndex(S.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var x;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(x=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(x);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var x=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(x<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(x);var S=x;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(x=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(x),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var T=this.centralDirOffset+this.centralDirSize;this.zip64&&(T+=20,T+=12+this.zip64EndOfCentralSize);var C=S-T;if(0<C)this.isSignature(S,d.CENTRAL_FILE_HEADER)||(this.reader.zero=C);else if(C<0)throw new Error("Corrupted zip: missing "+Math.abs(C)+" bytes.")},prepareReader:function(x){this.reader=l(x)},load:function(x){this.prepareReader(x),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,o,r){var l=i("./reader/readerFor"),u=i("./utils"),d=i("./compressedObject"),p=i("./crc32"),h=i("./utf8"),g=i("./compressions"),x=i("./support");function S(T,C){this.options=T,this.loadOptions=C}S.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(T){var C,b;if(T.skip(22),this.fileNameLength=T.readInt(2),b=T.readInt(2),this.fileName=T.readData(this.fileNameLength),T.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((C=(function(A){for(var w in g)if(Object.prototype.hasOwnProperty.call(g,w)&&g[w].magic===A)return g[w];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,C,T.readData(this.compressedSize))},readCentralPart:function(T){this.versionMadeBy=T.readInt(2),T.skip(2),this.bitFlag=T.readInt(2),this.compressionMethod=T.readString(2),this.date=T.readDate(),this.crc32=T.readInt(4),this.compressedSize=T.readInt(4),this.uncompressedSize=T.readInt(4);var C=T.readInt(2);if(this.extraFieldsLength=T.readInt(2),this.fileCommentLength=T.readInt(2),this.diskNumberStart=T.readInt(2),this.internalFileAttributes=T.readInt(2),this.externalFileAttributes=T.readInt(4),this.localHeaderOffset=T.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");T.skip(C),this.readExtraFields(T),this.parseZIP64ExtraField(T),this.fileComment=T.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var T=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),T==0&&(this.dosPermissions=63&this.externalFileAttributes),T==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var T=l(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=T.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=T.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=T.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=T.readInt(4))}},readExtraFields:function(T){var C,b,A,w=T.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});T.index+4<w;)C=T.readInt(2),b=T.readInt(2),A=T.readData(b),this.extraFields[C]={id:C,length:b,value:A};T.setIndex(w)},handleUTF8:function(){var T=x.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var C=this.findExtraFieldUnicodePath();if(C!==null)this.fileNameStr=C;else{var b=u.transformTo(T,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var A=this.findExtraFieldUnicodeComment();if(A!==null)this.fileCommentStr=A;else{var w=u.transformTo(T,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var T=this.extraFields[28789];if(T){var C=l(T.value);return C.readInt(1)!==1||p(this.fileName)!==C.readInt(4)?null:h.utf8decode(C.readData(T.length-5))}return null},findExtraFieldUnicodeComment:function(){var T=this.extraFields[25461];if(T){var C=l(T.value);return C.readInt(1)!==1||p(this.fileComment)!==C.readInt(4)?null:h.utf8decode(C.readData(T.length-5))}return null}},o.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,o,r){function l(C,b,A){this.name=C,this.dir=A.dir,this.date=A.date,this.comment=A.comment,this.unixPermissions=A.unixPermissions,this.dosPermissions=A.dosPermissions,this._data=b,this._dataBinary=A.binary,this.options={compression:A.compression,compressionOptions:A.compressionOptions}}var u=i("./stream/StreamHelper"),d=i("./stream/DataWorker"),p=i("./utf8"),h=i("./compressedObject"),g=i("./stream/GenericWorker");l.prototype={internalStream:function(C){var b=null,A="string";try{if(!C)throw new Error("No output type specified.");var w=(A=C.toLowerCase())==="string"||A==="text";A!=="binarystring"&&A!=="text"||(A="string"),b=this._decompressWorker();var M=!this._dataBinary;M&&!w&&(b=b.pipe(new p.Utf8EncodeWorker)),!M&&w&&(b=b.pipe(new p.Utf8DecodeWorker))}catch(k){(b=new g("error")).error(k)}return new u(b,A,"")},async:function(C,b){return this.internalStream(C).accumulate(b)},nodeStream:function(C,b){return this.internalStream(C||"nodebuffer").toNodejsStream(b)},_compressWorker:function(C,b){if(this._data instanceof h&&this._data.compression.magic===C.magic)return this._data.getCompressedWorker();var A=this._decompressWorker();return this._dataBinary||(A=A.pipe(new p.Utf8EncodeWorker)),h.createWorkerFrom(A,C,b)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof g?this._data:new d(this._data)}};for(var x=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],S=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},T=0;T<x.length;T++)l.prototype[x[T]]=S;o.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,o,r){(function(l){var u,d,p=l.MutationObserver||l.WebKitMutationObserver;if(p){var h=0,g=new p(C),x=l.document.createTextNode("");g.observe(x,{characterData:!0}),u=function(){x.data=h=++h%2}}else if(l.setImmediate||l.MessageChannel===void 0)u="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var b=l.document.createElement("script");b.onreadystatechange=function(){C(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},l.document.documentElement.appendChild(b)}:function(){setTimeout(C,0)};else{var S=new l.MessageChannel;S.port1.onmessage=C,u=function(){S.port2.postMessage(0)}}var T=[];function C(){var b,A;d=!0;for(var w=T.length;w;){for(A=T,T=[],b=-1;++b<w;)A[b]();w=T.length}d=!1}o.exports=function(b){T.push(b)!==1||d||u()}}).call(this,typeof Sl<"u"?Sl:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(i,o,r){var l=i("immediate");function u(){}var d={},p=["REJECTED"],h=["FULFILLED"],g=["PENDING"];function x(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,w!==u&&b(this,w)}function S(w,M,k){this.promise=w,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function T(w,M,k){l(function(){var P;try{P=M(k)}catch(z){return d.reject(w,z)}P===w?d.reject(w,new TypeError("Cannot resolve promise with itself")):d.resolve(w,P)})}function C(w){var M=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof M=="function")return function(){M.apply(w,arguments)}}function b(w,M){var k=!1;function P(O){k||(k=!0,d.reject(w,O))}function z(O){k||(k=!0,d.resolve(w,O))}var q=A(function(){M(z,P)});q.status==="error"&&P(q.value)}function A(w,M){var k={};try{k.value=w(M),k.status="success"}catch(P){k.status="error",k.value=P}return k}(o.exports=x).prototype.finally=function(w){if(typeof w!="function")return this;var M=this.constructor;return this.then(function(k){return M.resolve(w()).then(function(){return k})},function(k){return M.resolve(w()).then(function(){throw k})})},x.prototype.catch=function(w){return this.then(null,w)},x.prototype.then=function(w,M){if(typeof w!="function"&&this.state===h||typeof M!="function"&&this.state===p)return this;var k=new this.constructor(u);return this.state!==g?T(k,this.state===h?w:M,this.outcome):this.queue.push(new S(k,w,M)),k},S.prototype.callFulfilled=function(w){d.resolve(this.promise,w)},S.prototype.otherCallFulfilled=function(w){T(this.promise,this.onFulfilled,w)},S.prototype.callRejected=function(w){d.reject(this.promise,w)},S.prototype.otherCallRejected=function(w){T(this.promise,this.onRejected,w)},d.resolve=function(w,M){var k=A(C,M);if(k.status==="error")return d.reject(w,k.value);var P=k.value;if(P)b(w,P);else{w.state=h,w.outcome=M;for(var z=-1,q=w.queue.length;++z<q;)w.queue[z].callFulfilled(M)}return w},d.reject=function(w,M){w.state=p,w.outcome=M;for(var k=-1,P=w.queue.length;++k<P;)w.queue[k].callRejected(M);return w},x.resolve=function(w){return w instanceof this?w:d.resolve(new this(u),w)},x.reject=function(w){var M=new this(u);return d.reject(M,w)},x.all=function(w){var M=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=w.length,P=!1;if(!k)return this.resolve([]);for(var z=new Array(k),q=0,O=-1,G=new this(u);++O<k;)F(w[O],O);return G;function F(ie,ve){M.resolve(ie).then(function(B){z[ve]=B,++q!==k||P||(P=!0,d.resolve(G,z))},function(B){P||(P=!0,d.reject(G,B))})}},x.race=function(w){var M=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=w.length,P=!1;if(!k)return this.resolve([]);for(var z=-1,q=new this(u);++z<k;)O=w[z],M.resolve(O).then(function(G){P||(P=!0,d.resolve(q,G))},function(G){P||(P=!0,d.reject(q,G))});var O;return q}},{immediate:36}],38:[function(i,o,r){var l={};(0,i("./lib/utils/common").assign)(l,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),o.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,o,r){var l=i("./zlib/deflate"),u=i("./utils/common"),d=i("./utils/strings"),p=i("./zlib/messages"),h=i("./zlib/zstream"),g=Object.prototype.toString,x=0,S=-1,T=0,C=8;function b(w){if(!(this instanceof b))return new b(w);this.options=u.assign({level:S,method:C,chunkSize:16384,windowBits:15,memLevel:8,strategy:T,to:""},w||{});var M=this.options;M.raw&&0<M.windowBits?M.windowBits=-M.windowBits:M.gzip&&0<M.windowBits&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var k=l.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(k!==x)throw new Error(p[k]);if(M.header&&l.deflateSetHeader(this.strm,M.header),M.dictionary){var P;if(P=typeof M.dictionary=="string"?d.string2buf(M.dictionary):g.call(M.dictionary)==="[object ArrayBuffer]"?new Uint8Array(M.dictionary):M.dictionary,(k=l.deflateSetDictionary(this.strm,P))!==x)throw new Error(p[k]);this._dict_set=!0}}function A(w,M){var k=new b(M);if(k.push(w,!0),k.err)throw k.msg||p[k.err];return k.result}b.prototype.push=function(w,M){var k,P,z=this.strm,q=this.options.chunkSize;if(this.ended)return!1;P=M===~~M?M:M===!0?4:0,typeof w=="string"?z.input=d.string2buf(w):g.call(w)==="[object ArrayBuffer]"?z.input=new Uint8Array(w):z.input=w,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new u.Buf8(q),z.next_out=0,z.avail_out=q),(k=l.deflate(z,P))!==1&&k!==x)return this.onEnd(k),!(this.ended=!0);z.avail_out!==0&&(z.avail_in!==0||P!==4&&P!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(u.shrinkBuf(z.output,z.next_out))):this.onData(u.shrinkBuf(z.output,z.next_out)))}while((0<z.avail_in||z.avail_out===0)&&k!==1);return P===4?(k=l.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===x):P!==2||(this.onEnd(x),!(z.avail_out=0))},b.prototype.onData=function(w){this.chunks.push(w)},b.prototype.onEnd=function(w){w===x&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},r.Deflate=b,r.deflate=A,r.deflateRaw=function(w,M){return(M=M||{}).raw=!0,A(w,M)},r.gzip=function(w,M){return(M=M||{}).gzip=!0,A(w,M)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,o,r){var l=i("./zlib/inflate"),u=i("./utils/common"),d=i("./utils/strings"),p=i("./zlib/constants"),h=i("./zlib/messages"),g=i("./zlib/zstream"),x=i("./zlib/gzheader"),S=Object.prototype.toString;function T(b){if(!(this instanceof T))return new T(b);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},b||{});var A=this.options;A.raw&&0<=A.windowBits&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),!(0<=A.windowBits&&A.windowBits<16)||b&&b.windowBits||(A.windowBits+=32),15<A.windowBits&&A.windowBits<48&&(15&A.windowBits)==0&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var w=l.inflateInit2(this.strm,A.windowBits);if(w!==p.Z_OK)throw new Error(h[w]);this.header=new x,l.inflateGetHeader(this.strm,this.header)}function C(b,A){var w=new T(A);if(w.push(b,!0),w.err)throw w.msg||h[w.err];return w.result}T.prototype.push=function(b,A){var w,M,k,P,z,q,O=this.strm,G=this.options.chunkSize,F=this.options.dictionary,ie=!1;if(this.ended)return!1;M=A===~~A?A:A===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof b=="string"?O.input=d.binstring2buf(b):S.call(b)==="[object ArrayBuffer]"?O.input=new Uint8Array(b):O.input=b,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new u.Buf8(G),O.next_out=0,O.avail_out=G),(w=l.inflate(O,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&F&&(q=typeof F=="string"?d.string2buf(F):S.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,w=l.inflateSetDictionary(this.strm,q)),w===p.Z_BUF_ERROR&&ie===!0&&(w=p.Z_OK,ie=!1),w!==p.Z_STREAM_END&&w!==p.Z_OK)return this.onEnd(w),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&w!==p.Z_STREAM_END&&(O.avail_in!==0||M!==p.Z_FINISH&&M!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=d.utf8border(O.output,O.next_out),P=O.next_out-k,z=d.buf2string(O.output,k),O.next_out=P,O.avail_out=G-P,P&&u.arraySet(O.output,O.output,k,P,0),this.onData(z)):this.onData(u.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(ie=!0)}while((0<O.avail_in||O.avail_out===0)&&w!==p.Z_STREAM_END);return w===p.Z_STREAM_END&&(M=p.Z_FINISH),M===p.Z_FINISH?(w=l.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===p.Z_OK):M!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(O.avail_out=0))},T.prototype.onData=function(b){this.chunks.push(b)},T.prototype.onEnd=function(b){b===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},r.Inflate=T,r.inflate=C,r.inflateRaw=function(b,A){return(A=A||{}).raw=!0,C(b,A)},r.ungzip=C},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,o,r){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(p){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var g=h.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var x in g)g.hasOwnProperty(x)&&(p[x]=g[x])}}return p},r.shrinkBuf=function(p,h){return p.length===h?p:p.subarray?p.subarray(0,h):(p.length=h,p)};var u={arraySet:function(p,h,g,x,S){if(h.subarray&&p.subarray)p.set(h.subarray(g,g+x),S);else for(var T=0;T<x;T++)p[S+T]=h[g+T]},flattenChunks:function(p){var h,g,x,S,T,C;for(h=x=0,g=p.length;h<g;h++)x+=p[h].length;for(C=new Uint8Array(x),h=S=0,g=p.length;h<g;h++)T=p[h],C.set(T,S),S+=T.length;return C}},d={arraySet:function(p,h,g,x,S){for(var T=0;T<x;T++)p[S+T]=h[g+T]},flattenChunks:function(p){return[].concat.apply([],p)}};r.setTyped=function(p){p?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,u)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,d))},r.setTyped(l)},{}],42:[function(i,o,r){var l=i("./common"),u=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var p=new l.Buf8(256),h=0;h<256;h++)p[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function g(x,S){if(S<65537&&(x.subarray&&d||!x.subarray&&u))return String.fromCharCode.apply(null,l.shrinkBuf(x,S));for(var T="",C=0;C<S;C++)T+=String.fromCharCode(x[C]);return T}p[254]=p[254]=1,r.string2buf=function(x){var S,T,C,b,A,w=x.length,M=0;for(b=0;b<w;b++)(64512&(T=x.charCodeAt(b)))==55296&&b+1<w&&(64512&(C=x.charCodeAt(b+1)))==56320&&(T=65536+(T-55296<<10)+(C-56320),b++),M+=T<128?1:T<2048?2:T<65536?3:4;for(S=new l.Buf8(M),b=A=0;A<M;b++)(64512&(T=x.charCodeAt(b)))==55296&&b+1<w&&(64512&(C=x.charCodeAt(b+1)))==56320&&(T=65536+(T-55296<<10)+(C-56320),b++),T<128?S[A++]=T:(T<2048?S[A++]=192|T>>>6:(T<65536?S[A++]=224|T>>>12:(S[A++]=240|T>>>18,S[A++]=128|T>>>12&63),S[A++]=128|T>>>6&63),S[A++]=128|63&T);return S},r.buf2binstring=function(x){return g(x,x.length)},r.binstring2buf=function(x){for(var S=new l.Buf8(x.length),T=0,C=S.length;T<C;T++)S[T]=x.charCodeAt(T);return S},r.buf2string=function(x,S){var T,C,b,A,w=S||x.length,M=new Array(2*w);for(T=C=0;T<w;)if((b=x[T++])<128)M[C++]=b;else if(4<(A=p[b]))M[C++]=65533,T+=A-1;else{for(b&=A===2?31:A===3?15:7;1<A&&T<w;)b=b<<6|63&x[T++],A--;1<A?M[C++]=65533:b<65536?M[C++]=b:(b-=65536,M[C++]=55296|b>>10&1023,M[C++]=56320|1023&b)}return g(M,C)},r.utf8border=function(x,S){var T;for((S=S||x.length)>x.length&&(S=x.length),T=S-1;0<=T&&(192&x[T])==128;)T--;return T<0||T===0?S:T+p[x[T]]>S?T:S}},{"./common":41}],43:[function(i,o,r){o.exports=function(l,u,d,p){for(var h=65535&l|0,g=l>>>16&65535|0,x=0;d!==0;){for(d-=x=2e3<d?2e3:d;g=g+(h=h+u[p++]|0)|0,--x;);h%=65521,g%=65521}return h|g<<16|0}},{}],44:[function(i,o,r){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,o,r){var l=(function(){for(var u,d=[],p=0;p<256;p++){u=p;for(var h=0;h<8;h++)u=1&u?3988292384^u>>>1:u>>>1;d[p]=u}return d})();o.exports=function(u,d,p,h){var g=l,x=h+p;u^=-1;for(var S=h;S<x;S++)u=u>>>8^g[255&(u^d[S])];return-1^u}},{}],46:[function(i,o,r){var l,u=i("../utils/common"),d=i("./trees"),p=i("./adler32"),h=i("./crc32"),g=i("./messages"),x=0,S=4,T=0,C=-2,b=-1,A=4,w=2,M=8,k=9,P=286,z=30,q=19,O=2*P+1,G=15,F=3,ie=258,ve=ie+F+1,B=42,$=113,R=1,oe=2,J=3,Y=4;function ee(N,de){return N.msg=g[de],de}function ae(N){return(N<<1)-(4<N?9:0)}function Se(N){for(var de=N.length;0<=--de;)N[de]=0}function D(N){var de=N.state,le=de.pending;le>N.avail_out&&(le=N.avail_out),le!==0&&(u.arraySet(N.output,de.pending_buf,de.pending_out,le,N.next_out),N.next_out+=le,de.pending_out+=le,N.total_out+=le,N.avail_out-=le,de.pending-=le,de.pending===0&&(de.pending_out=0))}function L(N,de){d._tr_flush_block(N,0<=N.block_start?N.block_start:-1,N.strstart-N.block_start,de),N.block_start=N.strstart,D(N.strm)}function se(N,de){N.pending_buf[N.pending++]=de}function ne(N,de){N.pending_buf[N.pending++]=de>>>8&255,N.pending_buf[N.pending++]=255&de}function ue(N,de){var le,V,U=N.max_chain_length,K=N.strstart,pe=N.prev_length,me=N.nice_match,Q=N.strstart>N.w_size-ve?N.strstart-(N.w_size-ve):0,xe=N.window,Te=N.w_mask,_e=N.prev,ke=N.strstart+ie,tt=xe[K+pe-1],Oe=xe[K+pe];N.prev_length>=N.good_match&&(U>>=2),me>N.lookahead&&(me=N.lookahead);do if(xe[(le=de)+pe]===Oe&&xe[le+pe-1]===tt&&xe[le]===xe[K]&&xe[++le]===xe[K+1]){K+=2,le++;do;while(xe[++K]===xe[++le]&&xe[++K]===xe[++le]&&xe[++K]===xe[++le]&&xe[++K]===xe[++le]&&xe[++K]===xe[++le]&&xe[++K]===xe[++le]&&xe[++K]===xe[++le]&&xe[++K]===xe[++le]&&K<ke);if(V=ie-(ke-K),K=ke-ie,pe<V){if(N.match_start=de,me<=(pe=V))break;tt=xe[K+pe-1],Oe=xe[K+pe]}}while((de=_e[de&Te])>Q&&--U!=0);return pe<=N.lookahead?pe:N.lookahead}function Ae(N){var de,le,V,U,K,pe,me,Q,xe,Te,_e=N.w_size;do{if(U=N.window_size-N.lookahead-N.strstart,N.strstart>=_e+(_e-ve)){for(u.arraySet(N.window,N.window,_e,_e,0),N.match_start-=_e,N.strstart-=_e,N.block_start-=_e,de=le=N.hash_size;V=N.head[--de],N.head[de]=_e<=V?V-_e:0,--le;);for(de=le=_e;V=N.prev[--de],N.prev[de]=_e<=V?V-_e:0,--le;);U+=_e}if(N.strm.avail_in===0)break;if(pe=N.strm,me=N.window,Q=N.strstart+N.lookahead,xe=U,Te=void 0,Te=pe.avail_in,xe<Te&&(Te=xe),le=Te===0?0:(pe.avail_in-=Te,u.arraySet(me,pe.input,pe.next_in,Te,Q),pe.state.wrap===1?pe.adler=p(pe.adler,me,Te,Q):pe.state.wrap===2&&(pe.adler=h(pe.adler,me,Te,Q)),pe.next_in+=Te,pe.total_in+=Te,Te),N.lookahead+=le,N.lookahead+N.insert>=F)for(K=N.strstart-N.insert,N.ins_h=N.window[K],N.ins_h=(N.ins_h<<N.hash_shift^N.window[K+1])&N.hash_mask;N.insert&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[K+F-1])&N.hash_mask,N.prev[K&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=K,K++,N.insert--,!(N.lookahead+N.insert<F)););}while(N.lookahead<ve&&N.strm.avail_in!==0)}function Ee(N,de){for(var le,V;;){if(N.lookahead<ve){if(Ae(N),N.lookahead<ve&&de===x)return R;if(N.lookahead===0)break}if(le=0,N.lookahead>=F&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+F-1])&N.hash_mask,le=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),le!==0&&N.strstart-le<=N.w_size-ve&&(N.match_length=ue(N,le)),N.match_length>=F)if(V=d._tr_tally(N,N.strstart-N.match_start,N.match_length-F),N.lookahead-=N.match_length,N.match_length<=N.max_lazy_match&&N.lookahead>=F){for(N.match_length--;N.strstart++,N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+F-1])&N.hash_mask,le=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart,--N.match_length!=0;);N.strstart++}else N.strstart+=N.match_length,N.match_length=0,N.ins_h=N.window[N.strstart],N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+1])&N.hash_mask;else V=d._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++;if(V&&(L(N,!1),N.strm.avail_out===0))return R}return N.insert=N.strstart<F-1?N.strstart:F-1,de===S?(L(N,!0),N.strm.avail_out===0?J:Y):N.last_lit&&(L(N,!1),N.strm.avail_out===0)?R:oe}function De(N,de){for(var le,V,U;;){if(N.lookahead<ve){if(Ae(N),N.lookahead<ve&&de===x)return R;if(N.lookahead===0)break}if(le=0,N.lookahead>=F&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+F-1])&N.hash_mask,le=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),N.prev_length=N.match_length,N.prev_match=N.match_start,N.match_length=F-1,le!==0&&N.prev_length<N.max_lazy_match&&N.strstart-le<=N.w_size-ve&&(N.match_length=ue(N,le),N.match_length<=5&&(N.strategy===1||N.match_length===F&&4096<N.strstart-N.match_start)&&(N.match_length=F-1)),N.prev_length>=F&&N.match_length<=N.prev_length){for(U=N.strstart+N.lookahead-F,V=d._tr_tally(N,N.strstart-1-N.prev_match,N.prev_length-F),N.lookahead-=N.prev_length-1,N.prev_length-=2;++N.strstart<=U&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+F-1])&N.hash_mask,le=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),--N.prev_length!=0;);if(N.match_available=0,N.match_length=F-1,N.strstart++,V&&(L(N,!1),N.strm.avail_out===0))return R}else if(N.match_available){if((V=d._tr_tally(N,0,N.window[N.strstart-1]))&&L(N,!1),N.strstart++,N.lookahead--,N.strm.avail_out===0)return R}else N.match_available=1,N.strstart++,N.lookahead--}return N.match_available&&(V=d._tr_tally(N,0,N.window[N.strstart-1]),N.match_available=0),N.insert=N.strstart<F-1?N.strstart:F-1,de===S?(L(N,!0),N.strm.avail_out===0?J:Y):N.last_lit&&(L(N,!1),N.strm.avail_out===0)?R:oe}function Ie(N,de,le,V,U){this.good_length=N,this.max_lazy=de,this.nice_length=le,this.max_chain=V,this.func=U}function Xe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*O),this.dyn_dtree=new u.Buf16(2*(2*z+1)),this.bl_tree=new u.Buf16(2*(2*q+1)),Se(this.dyn_ltree),Se(this.dyn_dtree),Se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(G+1),this.heap=new u.Buf16(2*P+1),Se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*P+1),Se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ze(N){var de;return N&&N.state?(N.total_in=N.total_out=0,N.data_type=w,(de=N.state).pending=0,de.pending_out=0,de.wrap<0&&(de.wrap=-de.wrap),de.status=de.wrap?B:$,N.adler=de.wrap===2?0:1,de.last_flush=x,d._tr_init(de),T):ee(N,C)}function Tt(N){var de=Ze(N);return de===T&&(function(le){le.window_size=2*le.w_size,Se(le.head),le.max_lazy_match=l[le.level].max_lazy,le.good_match=l[le.level].good_length,le.nice_match=l[le.level].nice_length,le.max_chain_length=l[le.level].max_chain,le.strstart=0,le.block_start=0,le.lookahead=0,le.insert=0,le.match_length=le.prev_length=F-1,le.match_available=0,le.ins_h=0})(N.state),de}function Jt(N,de,le,V,U,K){if(!N)return C;var pe=1;if(de===b&&(de=6),V<0?(pe=0,V=-V):15<V&&(pe=2,V-=16),U<1||k<U||le!==M||V<8||15<V||de<0||9<de||K<0||A<K)return ee(N,C);V===8&&(V=9);var me=new Xe;return(N.state=me).strm=N,me.wrap=pe,me.gzhead=null,me.w_bits=V,me.w_size=1<<me.w_bits,me.w_mask=me.w_size-1,me.hash_bits=U+7,me.hash_size=1<<me.hash_bits,me.hash_mask=me.hash_size-1,me.hash_shift=~~((me.hash_bits+F-1)/F),me.window=new u.Buf8(2*me.w_size),me.head=new u.Buf16(me.hash_size),me.prev=new u.Buf16(me.w_size),me.lit_bufsize=1<<U+6,me.pending_buf_size=4*me.lit_bufsize,me.pending_buf=new u.Buf8(me.pending_buf_size),me.d_buf=1*me.lit_bufsize,me.l_buf=3*me.lit_bufsize,me.level=de,me.strategy=K,me.method=le,Tt(N)}l=[new Ie(0,0,0,0,function(N,de){var le=65535;for(le>N.pending_buf_size-5&&(le=N.pending_buf_size-5);;){if(N.lookahead<=1){if(Ae(N),N.lookahead===0&&de===x)return R;if(N.lookahead===0)break}N.strstart+=N.lookahead,N.lookahead=0;var V=N.block_start+le;if((N.strstart===0||N.strstart>=V)&&(N.lookahead=N.strstart-V,N.strstart=V,L(N,!1),N.strm.avail_out===0)||N.strstart-N.block_start>=N.w_size-ve&&(L(N,!1),N.strm.avail_out===0))return R}return N.insert=0,de===S?(L(N,!0),N.strm.avail_out===0?J:Y):(N.strstart>N.block_start&&(L(N,!1),N.strm.avail_out),R)}),new Ie(4,4,8,4,Ee),new Ie(4,5,16,8,Ee),new Ie(4,6,32,32,Ee),new Ie(4,4,16,16,De),new Ie(8,16,32,32,De),new Ie(8,16,128,128,De),new Ie(8,32,128,256,De),new Ie(32,128,258,1024,De),new Ie(32,258,258,4096,De)],r.deflateInit=function(N,de){return Jt(N,de,M,15,8,0)},r.deflateInit2=Jt,r.deflateReset=Tt,r.deflateResetKeep=Ze,r.deflateSetHeader=function(N,de){return N&&N.state?N.state.wrap!==2?C:(N.state.gzhead=de,T):C},r.deflate=function(N,de){var le,V,U,K;if(!N||!N.state||5<de||de<0)return N?ee(N,C):C;if(V=N.state,!N.output||!N.input&&N.avail_in!==0||V.status===666&&de!==S)return ee(N,N.avail_out===0?-5:C);if(V.strm=N,le=V.last_flush,V.last_flush=de,V.status===B)if(V.wrap===2)N.adler=0,se(V,31),se(V,139),se(V,8),V.gzhead?(se(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),se(V,255&V.gzhead.time),se(V,V.gzhead.time>>8&255),se(V,V.gzhead.time>>16&255),se(V,V.gzhead.time>>24&255),se(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),se(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(se(V,255&V.gzhead.extra.length),se(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(N.adler=h(N.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(se(V,0),se(V,0),se(V,0),se(V,0),se(V,0),se(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),se(V,3),V.status=$);else{var pe=M+(V.w_bits-8<<4)<<8;pe|=(2<=V.strategy||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(pe|=32),pe+=31-pe%31,V.status=$,ne(V,pe),V.strstart!==0&&(ne(V,N.adler>>>16),ne(V,65535&N.adler)),N.adler=1}if(V.status===69)if(V.gzhead.extra){for(U=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>U&&(N.adler=h(N.adler,V.pending_buf,V.pending-U,U)),D(N),U=V.pending,V.pending!==V.pending_buf_size));)se(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>U&&(N.adler=h(N.adler,V.pending_buf,V.pending-U,U)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){U=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>U&&(N.adler=h(N.adler,V.pending_buf,V.pending-U,U)),D(N),U=V.pending,V.pending===V.pending_buf_size)){K=1;break}K=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,se(V,K)}while(K!==0);V.gzhead.hcrc&&V.pending>U&&(N.adler=h(N.adler,V.pending_buf,V.pending-U,U)),K===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){U=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>U&&(N.adler=h(N.adler,V.pending_buf,V.pending-U,U)),D(N),U=V.pending,V.pending===V.pending_buf_size)){K=1;break}K=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,se(V,K)}while(K!==0);V.gzhead.hcrc&&V.pending>U&&(N.adler=h(N.adler,V.pending_buf,V.pending-U,U)),K===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&D(N),V.pending+2<=V.pending_buf_size&&(se(V,255&N.adler),se(V,N.adler>>8&255),N.adler=0,V.status=$)):V.status=$),V.pending!==0){if(D(N),N.avail_out===0)return V.last_flush=-1,T}else if(N.avail_in===0&&ae(de)<=ae(le)&&de!==S)return ee(N,-5);if(V.status===666&&N.avail_in!==0)return ee(N,-5);if(N.avail_in!==0||V.lookahead!==0||de!==x&&V.status!==666){var me=V.strategy===2?(function(Q,xe){for(var Te;;){if(Q.lookahead===0&&(Ae(Q),Q.lookahead===0)){if(xe===x)return R;break}if(Q.match_length=0,Te=d._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++,Te&&(L(Q,!1),Q.strm.avail_out===0))return R}return Q.insert=0,xe===S?(L(Q,!0),Q.strm.avail_out===0?J:Y):Q.last_lit&&(L(Q,!1),Q.strm.avail_out===0)?R:oe})(V,de):V.strategy===3?(function(Q,xe){for(var Te,_e,ke,tt,Oe=Q.window;;){if(Q.lookahead<=ie){if(Ae(Q),Q.lookahead<=ie&&xe===x)return R;if(Q.lookahead===0)break}if(Q.match_length=0,Q.lookahead>=F&&0<Q.strstart&&(_e=Oe[ke=Q.strstart-1])===Oe[++ke]&&_e===Oe[++ke]&&_e===Oe[++ke]){tt=Q.strstart+ie;do;while(_e===Oe[++ke]&&_e===Oe[++ke]&&_e===Oe[++ke]&&_e===Oe[++ke]&&_e===Oe[++ke]&&_e===Oe[++ke]&&_e===Oe[++ke]&&_e===Oe[++ke]&&ke<tt);Q.match_length=ie-(tt-ke),Q.match_length>Q.lookahead&&(Q.match_length=Q.lookahead)}if(Q.match_length>=F?(Te=d._tr_tally(Q,1,Q.match_length-F),Q.lookahead-=Q.match_length,Q.strstart+=Q.match_length,Q.match_length=0):(Te=d._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++),Te&&(L(Q,!1),Q.strm.avail_out===0))return R}return Q.insert=0,xe===S?(L(Q,!0),Q.strm.avail_out===0?J:Y):Q.last_lit&&(L(Q,!1),Q.strm.avail_out===0)?R:oe})(V,de):l[V.level].func(V,de);if(me!==J&&me!==Y||(V.status=666),me===R||me===J)return N.avail_out===0&&(V.last_flush=-1),T;if(me===oe&&(de===1?d._tr_align(V):de!==5&&(d._tr_stored_block(V,0,0,!1),de===3&&(Se(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),D(N),N.avail_out===0))return V.last_flush=-1,T}return de!==S?T:V.wrap<=0?1:(V.wrap===2?(se(V,255&N.adler),se(V,N.adler>>8&255),se(V,N.adler>>16&255),se(V,N.adler>>24&255),se(V,255&N.total_in),se(V,N.total_in>>8&255),se(V,N.total_in>>16&255),se(V,N.total_in>>24&255)):(ne(V,N.adler>>>16),ne(V,65535&N.adler)),D(N),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?T:1)},r.deflateEnd=function(N){var de;return N&&N.state?(de=N.state.status)!==B&&de!==69&&de!==73&&de!==91&&de!==103&&de!==$&&de!==666?ee(N,C):(N.state=null,de===$?ee(N,-3):T):C},r.deflateSetDictionary=function(N,de){var le,V,U,K,pe,me,Q,xe,Te=de.length;if(!N||!N.state||(K=(le=N.state).wrap)===2||K===1&&le.status!==B||le.lookahead)return C;for(K===1&&(N.adler=p(N.adler,de,Te,0)),le.wrap=0,Te>=le.w_size&&(K===0&&(Se(le.head),le.strstart=0,le.block_start=0,le.insert=0),xe=new u.Buf8(le.w_size),u.arraySet(xe,de,Te-le.w_size,le.w_size,0),de=xe,Te=le.w_size),pe=N.avail_in,me=N.next_in,Q=N.input,N.avail_in=Te,N.next_in=0,N.input=de,Ae(le);le.lookahead>=F;){for(V=le.strstart,U=le.lookahead-(F-1);le.ins_h=(le.ins_h<<le.hash_shift^le.window[V+F-1])&le.hash_mask,le.prev[V&le.w_mask]=le.head[le.ins_h],le.head[le.ins_h]=V,V++,--U;);le.strstart=V,le.lookahead=F-1,Ae(le)}return le.strstart+=le.lookahead,le.block_start=le.strstart,le.insert=le.lookahead,le.lookahead=0,le.match_length=le.prev_length=F-1,le.match_available=0,N.next_in=me,N.input=Q,N.avail_in=pe,le.wrap=K,T},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,o,r){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,o,r){o.exports=function(l,u){var d,p,h,g,x,S,T,C,b,A,w,M,k,P,z,q,O,G,F,ie,ve,B,$,R,oe;d=l.state,p=l.next_in,R=l.input,h=p+(l.avail_in-5),g=l.next_out,oe=l.output,x=g-(u-l.avail_out),S=g+(l.avail_out-257),T=d.dmax,C=d.wsize,b=d.whave,A=d.wnext,w=d.window,M=d.hold,k=d.bits,P=d.lencode,z=d.distcode,q=(1<<d.lenbits)-1,O=(1<<d.distbits)-1;e:do{k<15&&(M+=R[p++]<<k,k+=8,M+=R[p++]<<k,k+=8),G=P[M&q];t:for(;;){if(M>>>=F=G>>>24,k-=F,(F=G>>>16&255)===0)oe[g++]=65535&G;else{if(!(16&F)){if((64&F)==0){G=P[(65535&G)+(M&(1<<F)-1)];continue t}if(32&F){d.mode=12;break e}l.msg="invalid literal/length code",d.mode=30;break e}ie=65535&G,(F&=15)&&(k<F&&(M+=R[p++]<<k,k+=8),ie+=M&(1<<F)-1,M>>>=F,k-=F),k<15&&(M+=R[p++]<<k,k+=8,M+=R[p++]<<k,k+=8),G=z[M&O];n:for(;;){if(M>>>=F=G>>>24,k-=F,!(16&(F=G>>>16&255))){if((64&F)==0){G=z[(65535&G)+(M&(1<<F)-1)];continue n}l.msg="invalid distance code",d.mode=30;break e}if(ve=65535&G,k<(F&=15)&&(M+=R[p++]<<k,(k+=8)<F&&(M+=R[p++]<<k,k+=8)),T<(ve+=M&(1<<F)-1)){l.msg="invalid distance too far back",d.mode=30;break e}if(M>>>=F,k-=F,(F=g-x)<ve){if(b<(F=ve-F)&&d.sane){l.msg="invalid distance too far back",d.mode=30;break e}if($=w,(B=0)===A){if(B+=C-F,F<ie){for(ie-=F;oe[g++]=w[B++],--F;);B=g-ve,$=oe}}else if(A<F){if(B+=C+A-F,(F-=A)<ie){for(ie-=F;oe[g++]=w[B++],--F;);if(B=0,A<ie){for(ie-=F=A;oe[g++]=w[B++],--F;);B=g-ve,$=oe}}}else if(B+=A-F,F<ie){for(ie-=F;oe[g++]=w[B++],--F;);B=g-ve,$=oe}for(;2<ie;)oe[g++]=$[B++],oe[g++]=$[B++],oe[g++]=$[B++],ie-=3;ie&&(oe[g++]=$[B++],1<ie&&(oe[g++]=$[B++]))}else{for(B=g-ve;oe[g++]=oe[B++],oe[g++]=oe[B++],oe[g++]=oe[B++],2<(ie-=3););ie&&(oe[g++]=oe[B++],1<ie&&(oe[g++]=oe[B++]))}break}}break}}while(p<h&&g<S);p-=ie=k>>3,M&=(1<<(k-=ie<<3))-1,l.next_in=p,l.next_out=g,l.avail_in=p<h?h-p+5:5-(p-h),l.avail_out=g<S?S-g+257:257-(g-S),d.hold=M,d.bits=k}},{}],49:[function(i,o,r){var l=i("../utils/common"),u=i("./adler32"),d=i("./crc32"),p=i("./inffast"),h=i("./inftrees"),g=1,x=2,S=0,T=-2,C=1,b=852,A=592;function w(B){return(B>>>24&255)+(B>>>8&65280)+((65280&B)<<8)+((255&B)<<24)}function M(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(B){var $;return B&&B.state?($=B.state,B.total_in=B.total_out=$.total=0,B.msg="",$.wrap&&(B.adler=1&$.wrap),$.mode=C,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new l.Buf32(b),$.distcode=$.distdyn=new l.Buf32(A),$.sane=1,$.back=-1,S):T}function P(B){var $;return B&&B.state?(($=B.state).wsize=0,$.whave=0,$.wnext=0,k(B)):T}function z(B,$){var R,oe;return B&&B.state?(oe=B.state,$<0?(R=0,$=-$):(R=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?T:(oe.window!==null&&oe.wbits!==$&&(oe.window=null),oe.wrap=R,oe.wbits=$,P(B))):T}function q(B,$){var R,oe;return B?(oe=new M,(B.state=oe).window=null,(R=z(B,$))!==S&&(B.state=null),R):T}var O,G,F=!0;function ie(B){if(F){var $;for(O=new l.Buf32(512),G=new l.Buf32(32),$=0;$<144;)B.lens[$++]=8;for(;$<256;)B.lens[$++]=9;for(;$<280;)B.lens[$++]=7;for(;$<288;)B.lens[$++]=8;for(h(g,B.lens,0,288,O,0,B.work,{bits:9}),$=0;$<32;)B.lens[$++]=5;h(x,B.lens,0,32,G,0,B.work,{bits:5}),F=!1}B.lencode=O,B.lenbits=9,B.distcode=G,B.distbits=5}function ve(B,$,R,oe){var J,Y=B.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new l.Buf8(Y.wsize)),oe>=Y.wsize?(l.arraySet(Y.window,$,R-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(oe<(J=Y.wsize-Y.wnext)&&(J=oe),l.arraySet(Y.window,$,R-oe,J,Y.wnext),(oe-=J)?(l.arraySet(Y.window,$,R-oe,oe,0),Y.wnext=oe,Y.whave=Y.wsize):(Y.wnext+=J,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=J))),0}r.inflateReset=P,r.inflateReset2=z,r.inflateResetKeep=k,r.inflateInit=function(B){return q(B,15)},r.inflateInit2=q,r.inflate=function(B,$){var R,oe,J,Y,ee,ae,Se,D,L,se,ne,ue,Ae,Ee,De,Ie,Xe,Ze,Tt,Jt,N,de,le,V,U=0,K=new l.Buf8(4),pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!B||!B.state||!B.output||!B.input&&B.avail_in!==0)return T;(R=B.state).mode===12&&(R.mode=13),ee=B.next_out,J=B.output,Se=B.avail_out,Y=B.next_in,oe=B.input,ae=B.avail_in,D=R.hold,L=R.bits,se=ae,ne=Se,de=S;e:for(;;)switch(R.mode){case C:if(R.wrap===0){R.mode=13;break}for(;L<16;){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}if(2&R.wrap&&D===35615){K[R.check=0]=255&D,K[1]=D>>>8&255,R.check=d(R.check,K,2,0),L=D=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&D)<<8)+(D>>8))%31){B.msg="incorrect header check",R.mode=30;break}if((15&D)!=8){B.msg="unknown compression method",R.mode=30;break}if(L-=4,N=8+(15&(D>>>=4)),R.wbits===0)R.wbits=N;else if(N>R.wbits){B.msg="invalid window size",R.mode=30;break}R.dmax=1<<N,B.adler=R.check=1,R.mode=512&D?10:12,L=D=0;break;case 2:for(;L<16;){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}if(R.flags=D,(255&R.flags)!=8){B.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){B.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=D>>8&1),512&R.flags&&(K[0]=255&D,K[1]=D>>>8&255,R.check=d(R.check,K,2,0)),L=D=0,R.mode=3;case 3:for(;L<32;){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}R.head&&(R.head.time=D),512&R.flags&&(K[0]=255&D,K[1]=D>>>8&255,K[2]=D>>>16&255,K[3]=D>>>24&255,R.check=d(R.check,K,4,0)),L=D=0,R.mode=4;case 4:for(;L<16;){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}R.head&&(R.head.xflags=255&D,R.head.os=D>>8),512&R.flags&&(K[0]=255&D,K[1]=D>>>8&255,R.check=d(R.check,K,2,0)),L=D=0,R.mode=5;case 5:if(1024&R.flags){for(;L<16;){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}R.length=D,R.head&&(R.head.extra_len=D),512&R.flags&&(K[0]=255&D,K[1]=D>>>8&255,R.check=d(R.check,K,2,0)),L=D=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(ae<(ue=R.length)&&(ue=ae),ue&&(R.head&&(N=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),l.arraySet(R.head.extra,oe,Y,ue,N)),512&R.flags&&(R.check=d(R.check,oe,ue,Y)),ae-=ue,Y+=ue,R.length-=ue),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(ae===0)break e;for(ue=0;N=oe[Y+ue++],R.head&&N&&R.length<65536&&(R.head.name+=String.fromCharCode(N)),N&&ue<ae;);if(512&R.flags&&(R.check=d(R.check,oe,ue,Y)),ae-=ue,Y+=ue,N)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(ae===0)break e;for(ue=0;N=oe[Y+ue++],R.head&&N&&R.length<65536&&(R.head.comment+=String.fromCharCode(N)),N&&ue<ae;);if(512&R.flags&&(R.check=d(R.check,oe,ue,Y)),ae-=ue,Y+=ue,N)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;L<16;){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}if(D!==(65535&R.check)){B.msg="header crc mismatch",R.mode=30;break}L=D=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),B.adler=R.check=0,R.mode=12;break;case 10:for(;L<32;){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}B.adler=R.check=w(D),L=D=0,R.mode=11;case 11:if(R.havedict===0)return B.next_out=ee,B.avail_out=Se,B.next_in=Y,B.avail_in=ae,R.hold=D,R.bits=L,2;B.adler=R.check=1,R.mode=12;case 12:if($===5||$===6)break e;case 13:if(R.last){D>>>=7&L,L-=7&L,R.mode=27;break}for(;L<3;){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}switch(R.last=1&D,L-=1,3&(D>>>=1)){case 0:R.mode=14;break;case 1:if(ie(R),R.mode=20,$!==6)break;D>>>=2,L-=2;break e;case 2:R.mode=17;break;case 3:B.msg="invalid block type",R.mode=30}D>>>=2,L-=2;break;case 14:for(D>>>=7&L,L-=7&L;L<32;){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}if((65535&D)!=(D>>>16^65535)){B.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&D,L=D=0,R.mode=15,$===6)break e;case 15:R.mode=16;case 16:if(ue=R.length){if(ae<ue&&(ue=ae),Se<ue&&(ue=Se),ue===0)break e;l.arraySet(J,oe,Y,ue,ee),ae-=ue,Y+=ue,Se-=ue,ee+=ue,R.length-=ue;break}R.mode=12;break;case 17:for(;L<14;){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}if(R.nlen=257+(31&D),D>>>=5,L-=5,R.ndist=1+(31&D),D>>>=5,L-=5,R.ncode=4+(15&D),D>>>=4,L-=4,286<R.nlen||30<R.ndist){B.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;L<3;){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}R.lens[pe[R.have++]]=7&D,D>>>=3,L-=3}for(;R.have<19;)R.lens[pe[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,le={bits:R.lenbits},de=h(0,R.lens,0,19,R.lencode,0,R.work,le),R.lenbits=le.bits,de){B.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;Ie=(U=R.lencode[D&(1<<R.lenbits)-1])>>>16&255,Xe=65535&U,!((De=U>>>24)<=L);){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}if(Xe<16)D>>>=De,L-=De,R.lens[R.have++]=Xe;else{if(Xe===16){for(V=De+2;L<V;){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}if(D>>>=De,L-=De,R.have===0){B.msg="invalid bit length repeat",R.mode=30;break}N=R.lens[R.have-1],ue=3+(3&D),D>>>=2,L-=2}else if(Xe===17){for(V=De+3;L<V;){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}L-=De,N=0,ue=3+(7&(D>>>=De)),D>>>=3,L-=3}else{for(V=De+7;L<V;){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}L-=De,N=0,ue=11+(127&(D>>>=De)),D>>>=7,L-=7}if(R.have+ue>R.nlen+R.ndist){B.msg="invalid bit length repeat",R.mode=30;break}for(;ue--;)R.lens[R.have++]=N}}if(R.mode===30)break;if(R.lens[256]===0){B.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,le={bits:R.lenbits},de=h(g,R.lens,0,R.nlen,R.lencode,0,R.work,le),R.lenbits=le.bits,de){B.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,le={bits:R.distbits},de=h(x,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,le),R.distbits=le.bits,de){B.msg="invalid distances set",R.mode=30;break}if(R.mode=20,$===6)break e;case 20:R.mode=21;case 21:if(6<=ae&&258<=Se){B.next_out=ee,B.avail_out=Se,B.next_in=Y,B.avail_in=ae,R.hold=D,R.bits=L,p(B,ne),ee=B.next_out,J=B.output,Se=B.avail_out,Y=B.next_in,oe=B.input,ae=B.avail_in,D=R.hold,L=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;Ie=(U=R.lencode[D&(1<<R.lenbits)-1])>>>16&255,Xe=65535&U,!((De=U>>>24)<=L);){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}if(Ie&&(240&Ie)==0){for(Ze=De,Tt=Ie,Jt=Xe;Ie=(U=R.lencode[Jt+((D&(1<<Ze+Tt)-1)>>Ze)])>>>16&255,Xe=65535&U,!(Ze+(De=U>>>24)<=L);){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}D>>>=Ze,L-=Ze,R.back+=Ze}if(D>>>=De,L-=De,R.back+=De,R.length=Xe,Ie===0){R.mode=26;break}if(32&Ie){R.back=-1,R.mode=12;break}if(64&Ie){B.msg="invalid literal/length code",R.mode=30;break}R.extra=15&Ie,R.mode=22;case 22:if(R.extra){for(V=R.extra;L<V;){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}R.length+=D&(1<<R.extra)-1,D>>>=R.extra,L-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;Ie=(U=R.distcode[D&(1<<R.distbits)-1])>>>16&255,Xe=65535&U,!((De=U>>>24)<=L);){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}if((240&Ie)==0){for(Ze=De,Tt=Ie,Jt=Xe;Ie=(U=R.distcode[Jt+((D&(1<<Ze+Tt)-1)>>Ze)])>>>16&255,Xe=65535&U,!(Ze+(De=U>>>24)<=L);){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}D>>>=Ze,L-=Ze,R.back+=Ze}if(D>>>=De,L-=De,R.back+=De,64&Ie){B.msg="invalid distance code",R.mode=30;break}R.offset=Xe,R.extra=15&Ie,R.mode=24;case 24:if(R.extra){for(V=R.extra;L<V;){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}R.offset+=D&(1<<R.extra)-1,D>>>=R.extra,L-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){B.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(Se===0)break e;if(ue=ne-Se,R.offset>ue){if((ue=R.offset-ue)>R.whave&&R.sane){B.msg="invalid distance too far back",R.mode=30;break}Ae=ue>R.wnext?(ue-=R.wnext,R.wsize-ue):R.wnext-ue,ue>R.length&&(ue=R.length),Ee=R.window}else Ee=J,Ae=ee-R.offset,ue=R.length;for(Se<ue&&(ue=Se),Se-=ue,R.length-=ue;J[ee++]=Ee[Ae++],--ue;);R.length===0&&(R.mode=21);break;case 26:if(Se===0)break e;J[ee++]=R.length,Se--,R.mode=21;break;case 27:if(R.wrap){for(;L<32;){if(ae===0)break e;ae--,D|=oe[Y++]<<L,L+=8}if(ne-=Se,B.total_out+=ne,R.total+=ne,ne&&(B.adler=R.check=R.flags?d(R.check,J,ne,ee-ne):u(R.check,J,ne,ee-ne)),ne=Se,(R.flags?D:w(D))!==R.check){B.msg="incorrect data check",R.mode=30;break}L=D=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;L<32;){if(ae===0)break e;ae--,D+=oe[Y++]<<L,L+=8}if(D!==(4294967295&R.total)){B.msg="incorrect length check",R.mode=30;break}L=D=0}R.mode=29;case 29:de=1;break e;case 30:de=-3;break e;case 31:return-4;default:return T}return B.next_out=ee,B.avail_out=Se,B.next_in=Y,B.avail_in=ae,R.hold=D,R.bits=L,(R.wsize||ne!==B.avail_out&&R.mode<30&&(R.mode<27||$!==4))&&ve(B,B.output,B.next_out,ne-B.avail_out)?(R.mode=31,-4):(se-=B.avail_in,ne-=B.avail_out,B.total_in+=se,B.total_out+=ne,R.total+=ne,R.wrap&&ne&&(B.adler=R.check=R.flags?d(R.check,J,ne,B.next_out-ne):u(R.check,J,ne,B.next_out-ne)),B.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(se==0&&ne===0||$===4)&&de===S&&(de=-5),de)},r.inflateEnd=function(B){if(!B||!B.state)return T;var $=B.state;return $.window&&($.window=null),B.state=null,S},r.inflateGetHeader=function(B,$){var R;return B&&B.state?(2&(R=B.state).wrap)==0?T:((R.head=$).done=!1,S):T},r.inflateSetDictionary=function(B,$){var R,oe=$.length;return B&&B.state?(R=B.state).wrap!==0&&R.mode!==11?T:R.mode===11&&u(1,$,oe,0)!==R.check?-3:ve(B,$,oe,oe)?(R.mode=31,-4):(R.havedict=1,S):T},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,o,r){var l=i("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(g,x,S,T,C,b,A,w){var M,k,P,z,q,O,G,F,ie,ve=w.bits,B=0,$=0,R=0,oe=0,J=0,Y=0,ee=0,ae=0,Se=0,D=0,L=null,se=0,ne=new l.Buf16(16),ue=new l.Buf16(16),Ae=null,Ee=0;for(B=0;B<=15;B++)ne[B]=0;for($=0;$<T;$++)ne[x[S+$]]++;for(J=ve,oe=15;1<=oe&&ne[oe]===0;oe--);if(oe<J&&(J=oe),oe===0)return C[b++]=20971520,C[b++]=20971520,w.bits=1,0;for(R=1;R<oe&&ne[R]===0;R++);for(J<R&&(J=R),B=ae=1;B<=15;B++)if(ae<<=1,(ae-=ne[B])<0)return-1;if(0<ae&&(g===0||oe!==1))return-1;for(ue[1]=0,B=1;B<15;B++)ue[B+1]=ue[B]+ne[B];for($=0;$<T;$++)x[S+$]!==0&&(A[ue[x[S+$]]++]=$);if(O=g===0?(L=Ae=A,19):g===1?(L=u,se-=257,Ae=d,Ee-=257,256):(L=p,Ae=h,-1),B=R,q=b,ee=$=D=0,P=-1,z=(Se=1<<(Y=J))-1,g===1&&852<Se||g===2&&592<Se)return 1;for(;;){for(G=B-ee,ie=A[$]<O?(F=0,A[$]):A[$]>O?(F=Ae[Ee+A[$]],L[se+A[$]]):(F=96,0),M=1<<B-ee,R=k=1<<Y;C[q+(D>>ee)+(k-=M)]=G<<24|F<<16|ie|0,k!==0;);for(M=1<<B-1;D&M;)M>>=1;if(M!==0?(D&=M-1,D+=M):D=0,$++,--ne[B]==0){if(B===oe)break;B=x[S+A[$]]}if(J<B&&(D&z)!==P){for(ee===0&&(ee=J),q+=R,ae=1<<(Y=B-ee);Y+ee<oe&&!((ae-=ne[Y+ee])<=0);)Y++,ae<<=1;if(Se+=1<<Y,g===1&&852<Se||g===2&&592<Se)return 1;C[P=D&z]=J<<24|Y<<16|q-b|0}}return D!==0&&(C[q+D]=B-ee<<24|64<<16|0),w.bits=J,0}},{"../utils/common":41}],51:[function(i,o,r){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,o,r){var l=i("../utils/common"),u=0,d=1;function p(U){for(var K=U.length;0<=--K;)U[K]=0}var h=0,g=29,x=256,S=x+1+g,T=30,C=19,b=2*S+1,A=15,w=16,M=7,k=256,P=16,z=17,q=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],G=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ve=new Array(2*(S+2));p(ve);var B=new Array(2*T);p(B);var $=new Array(512);p($);var R=new Array(256);p(R);var oe=new Array(g);p(oe);var J,Y,ee,ae=new Array(T);function Se(U,K,pe,me,Q){this.static_tree=U,this.extra_bits=K,this.extra_base=pe,this.elems=me,this.max_length=Q,this.has_stree=U&&U.length}function D(U,K){this.dyn_tree=U,this.max_code=0,this.stat_desc=K}function L(U){return U<256?$[U]:$[256+(U>>>7)]}function se(U,K){U.pending_buf[U.pending++]=255&K,U.pending_buf[U.pending++]=K>>>8&255}function ne(U,K,pe){U.bi_valid>w-pe?(U.bi_buf|=K<<U.bi_valid&65535,se(U,U.bi_buf),U.bi_buf=K>>w-U.bi_valid,U.bi_valid+=pe-w):(U.bi_buf|=K<<U.bi_valid&65535,U.bi_valid+=pe)}function ue(U,K,pe){ne(U,pe[2*K],pe[2*K+1])}function Ae(U,K){for(var pe=0;pe|=1&U,U>>>=1,pe<<=1,0<--K;);return pe>>>1}function Ee(U,K,pe){var me,Q,xe=new Array(A+1),Te=0;for(me=1;me<=A;me++)xe[me]=Te=Te+pe[me-1]<<1;for(Q=0;Q<=K;Q++){var _e=U[2*Q+1];_e!==0&&(U[2*Q]=Ae(xe[_e]++,_e))}}function De(U){var K;for(K=0;K<S;K++)U.dyn_ltree[2*K]=0;for(K=0;K<T;K++)U.dyn_dtree[2*K]=0;for(K=0;K<C;K++)U.bl_tree[2*K]=0;U.dyn_ltree[2*k]=1,U.opt_len=U.static_len=0,U.last_lit=U.matches=0}function Ie(U){8<U.bi_valid?se(U,U.bi_buf):0<U.bi_valid&&(U.pending_buf[U.pending++]=U.bi_buf),U.bi_buf=0,U.bi_valid=0}function Xe(U,K,pe,me){var Q=2*K,xe=2*pe;return U[Q]<U[xe]||U[Q]===U[xe]&&me[K]<=me[pe]}function Ze(U,K,pe){for(var me=U.heap[pe],Q=pe<<1;Q<=U.heap_len&&(Q<U.heap_len&&Xe(K,U.heap[Q+1],U.heap[Q],U.depth)&&Q++,!Xe(K,me,U.heap[Q],U.depth));)U.heap[pe]=U.heap[Q],pe=Q,Q<<=1;U.heap[pe]=me}function Tt(U,K,pe){var me,Q,xe,Te,_e=0;if(U.last_lit!==0)for(;me=U.pending_buf[U.d_buf+2*_e]<<8|U.pending_buf[U.d_buf+2*_e+1],Q=U.pending_buf[U.l_buf+_e],_e++,me===0?ue(U,Q,K):(ue(U,(xe=R[Q])+x+1,K),(Te=O[xe])!==0&&ne(U,Q-=oe[xe],Te),ue(U,xe=L(--me),pe),(Te=G[xe])!==0&&ne(U,me-=ae[xe],Te)),_e<U.last_lit;);ue(U,k,K)}function Jt(U,K){var pe,me,Q,xe=K.dyn_tree,Te=K.stat_desc.static_tree,_e=K.stat_desc.has_stree,ke=K.stat_desc.elems,tt=-1;for(U.heap_len=0,U.heap_max=b,pe=0;pe<ke;pe++)xe[2*pe]!==0?(U.heap[++U.heap_len]=tt=pe,U.depth[pe]=0):xe[2*pe+1]=0;for(;U.heap_len<2;)xe[2*(Q=U.heap[++U.heap_len]=tt<2?++tt:0)]=1,U.depth[Q]=0,U.opt_len--,_e&&(U.static_len-=Te[2*Q+1]);for(K.max_code=tt,pe=U.heap_len>>1;1<=pe;pe--)Ze(U,xe,pe);for(Q=ke;pe=U.heap[1],U.heap[1]=U.heap[U.heap_len--],Ze(U,xe,1),me=U.heap[1],U.heap[--U.heap_max]=pe,U.heap[--U.heap_max]=me,xe[2*Q]=xe[2*pe]+xe[2*me],U.depth[Q]=(U.depth[pe]>=U.depth[me]?U.depth[pe]:U.depth[me])+1,xe[2*pe+1]=xe[2*me+1]=Q,U.heap[1]=Q++,Ze(U,xe,1),2<=U.heap_len;);U.heap[--U.heap_max]=U.heap[1],(function(Oe,Kt){var Ln,Bt,Wn,it,bt,sn,ft=Kt.dyn_tree,zs=Kt.max_code,jo=Kt.stat_desc.static_tree,Yo=Kt.stat_desc.has_stree,Qn=Kt.stat_desc.extra_bits,ei=Kt.stat_desc.extra_base,_n=Kt.stat_desc.max_length,on=0;for(it=0;it<=A;it++)Oe.bl_count[it]=0;for(ft[2*Oe.heap[Oe.heap_max]+1]=0,Ln=Oe.heap_max+1;Ln<b;Ln++)_n<(it=ft[2*ft[2*(Bt=Oe.heap[Ln])+1]+1]+1)&&(it=_n,on++),ft[2*Bt+1]=it,zs<Bt||(Oe.bl_count[it]++,bt=0,ei<=Bt&&(bt=Qn[Bt-ei]),sn=ft[2*Bt],Oe.opt_len+=sn*(it+bt),Yo&&(Oe.static_len+=sn*(jo[2*Bt+1]+bt)));if(on!==0){do{for(it=_n-1;Oe.bl_count[it]===0;)it--;Oe.bl_count[it]--,Oe.bl_count[it+1]+=2,Oe.bl_count[_n]--,on-=2}while(0<on);for(it=_n;it!==0;it--)for(Bt=Oe.bl_count[it];Bt!==0;)zs<(Wn=Oe.heap[--Ln])||(ft[2*Wn+1]!==it&&(Oe.opt_len+=(it-ft[2*Wn+1])*ft[2*Wn],ft[2*Wn+1]=it),Bt--)}})(U,K),Ee(xe,tt,U.bl_count)}function N(U,K,pe){var me,Q,xe=-1,Te=K[1],_e=0,ke=7,tt=4;for(Te===0&&(ke=138,tt=3),K[2*(pe+1)+1]=65535,me=0;me<=pe;me++)Q=Te,Te=K[2*(me+1)+1],++_e<ke&&Q===Te||(_e<tt?U.bl_tree[2*Q]+=_e:Q!==0?(Q!==xe&&U.bl_tree[2*Q]++,U.bl_tree[2*P]++):_e<=10?U.bl_tree[2*z]++:U.bl_tree[2*q]++,xe=Q,tt=(_e=0)===Te?(ke=138,3):Q===Te?(ke=6,3):(ke=7,4))}function de(U,K,pe){var me,Q,xe=-1,Te=K[1],_e=0,ke=7,tt=4;for(Te===0&&(ke=138,tt=3),me=0;me<=pe;me++)if(Q=Te,Te=K[2*(me+1)+1],!(++_e<ke&&Q===Te)){if(_e<tt)for(;ue(U,Q,U.bl_tree),--_e!=0;);else Q!==0?(Q!==xe&&(ue(U,Q,U.bl_tree),_e--),ue(U,P,U.bl_tree),ne(U,_e-3,2)):_e<=10?(ue(U,z,U.bl_tree),ne(U,_e-3,3)):(ue(U,q,U.bl_tree),ne(U,_e-11,7));xe=Q,tt=(_e=0)===Te?(ke=138,3):Q===Te?(ke=6,3):(ke=7,4)}}p(ae);var le=!1;function V(U,K,pe,me){ne(U,(h<<1)+(me?1:0),3),(function(Q,xe,Te,_e){Ie(Q),se(Q,Te),se(Q,~Te),l.arraySet(Q.pending_buf,Q.window,xe,Te,Q.pending),Q.pending+=Te})(U,K,pe)}r._tr_init=function(U){le||((function(){var K,pe,me,Q,xe,Te=new Array(A+1);for(Q=me=0;Q<g-1;Q++)for(oe[Q]=me,K=0;K<1<<O[Q];K++)R[me++]=Q;for(R[me-1]=Q,Q=xe=0;Q<16;Q++)for(ae[Q]=xe,K=0;K<1<<G[Q];K++)$[xe++]=Q;for(xe>>=7;Q<T;Q++)for(ae[Q]=xe<<7,K=0;K<1<<G[Q]-7;K++)$[256+xe++]=Q;for(pe=0;pe<=A;pe++)Te[pe]=0;for(K=0;K<=143;)ve[2*K+1]=8,K++,Te[8]++;for(;K<=255;)ve[2*K+1]=9,K++,Te[9]++;for(;K<=279;)ve[2*K+1]=7,K++,Te[7]++;for(;K<=287;)ve[2*K+1]=8,K++,Te[8]++;for(Ee(ve,S+1,Te),K=0;K<T;K++)B[2*K+1]=5,B[2*K]=Ae(K,5);J=new Se(ve,O,x+1,S,A),Y=new Se(B,G,0,T,A),ee=new Se(new Array(0),F,0,C,M)})(),le=!0),U.l_desc=new D(U.dyn_ltree,J),U.d_desc=new D(U.dyn_dtree,Y),U.bl_desc=new D(U.bl_tree,ee),U.bi_buf=0,U.bi_valid=0,De(U)},r._tr_stored_block=V,r._tr_flush_block=function(U,K,pe,me){var Q,xe,Te=0;0<U.level?(U.strm.data_type===2&&(U.strm.data_type=(function(_e){var ke,tt=4093624447;for(ke=0;ke<=31;ke++,tt>>>=1)if(1&tt&&_e.dyn_ltree[2*ke]!==0)return u;if(_e.dyn_ltree[18]!==0||_e.dyn_ltree[20]!==0||_e.dyn_ltree[26]!==0)return d;for(ke=32;ke<x;ke++)if(_e.dyn_ltree[2*ke]!==0)return d;return u})(U)),Jt(U,U.l_desc),Jt(U,U.d_desc),Te=(function(_e){var ke;for(N(_e,_e.dyn_ltree,_e.l_desc.max_code),N(_e,_e.dyn_dtree,_e.d_desc.max_code),Jt(_e,_e.bl_desc),ke=C-1;3<=ke&&_e.bl_tree[2*ie[ke]+1]===0;ke--);return _e.opt_len+=3*(ke+1)+5+5+4,ke})(U),Q=U.opt_len+3+7>>>3,(xe=U.static_len+3+7>>>3)<=Q&&(Q=xe)):Q=xe=pe+5,pe+4<=Q&&K!==-1?V(U,K,pe,me):U.strategy===4||xe===Q?(ne(U,2+(me?1:0),3),Tt(U,ve,B)):(ne(U,4+(me?1:0),3),(function(_e,ke,tt,Oe){var Kt;for(ne(_e,ke-257,5),ne(_e,tt-1,5),ne(_e,Oe-4,4),Kt=0;Kt<Oe;Kt++)ne(_e,_e.bl_tree[2*ie[Kt]+1],3);de(_e,_e.dyn_ltree,ke-1),de(_e,_e.dyn_dtree,tt-1)})(U,U.l_desc.max_code+1,U.d_desc.max_code+1,Te+1),Tt(U,U.dyn_ltree,U.dyn_dtree)),De(U),me&&Ie(U)},r._tr_tally=function(U,K,pe){return U.pending_buf[U.d_buf+2*U.last_lit]=K>>>8&255,U.pending_buf[U.d_buf+2*U.last_lit+1]=255&K,U.pending_buf[U.l_buf+U.last_lit]=255&pe,U.last_lit++,K===0?U.dyn_ltree[2*pe]++:(U.matches++,K--,U.dyn_ltree[2*(R[pe]+x+1)]++,U.dyn_dtree[2*L(K)]++),U.last_lit===U.lit_bufsize-1},r._tr_align=function(U){ne(U,2,3),ue(U,k,ve),(function(K){K.bi_valid===16?(se(K,K.bi_buf),K.bi_buf=0,K.bi_valid=0):8<=K.bi_valid&&(K.pending_buf[K.pending++]=255&K.bi_buf,K.bi_buf>>=8,K.bi_valid-=8)})(U)}},{"../utils/common":41}],53:[function(i,o,r){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,o,r){(function(l){(function(u,d){if(!u.setImmediate){var p,h,g,x,S=1,T={},C=!1,b=u.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(u);A=A&&A.setTimeout?A:u,p={}.toString.call(u.process)==="[object process]"?function(P){process.nextTick(function(){M(P)})}:(function(){if(u.postMessage&&!u.importScripts){var P=!0,z=u.onmessage;return u.onmessage=function(){P=!1},u.postMessage("","*"),u.onmessage=z,P}})()?(x="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",k,!1):u.attachEvent("onmessage",k),function(P){u.postMessage(x+P,"*")}):u.MessageChannel?((g=new MessageChannel).port1.onmessage=function(P){M(P.data)},function(P){g.port2.postMessage(P)}):b&&"onreadystatechange"in b.createElement("script")?(h=b.documentElement,function(P){var z=b.createElement("script");z.onreadystatechange=function(){M(P),z.onreadystatechange=null,h.removeChild(z),z=null},h.appendChild(z)}):function(P){setTimeout(M,0,P)},A.setImmediate=function(P){typeof P!="function"&&(P=new Function(""+P));for(var z=new Array(arguments.length-1),q=0;q<z.length;q++)z[q]=arguments[q+1];var O={callback:P,args:z};return T[S]=O,p(S),S++},A.clearImmediate=w}function w(P){delete T[P]}function M(P){if(C)setTimeout(M,0,P);else{var z=T[P];if(z){C=!0;try{(function(q){var O=q.callback,G=q.args;switch(G.length){case 0:O();break;case 1:O(G[0]);break;case 2:O(G[0],G[1]);break;case 3:O(G[0],G[1],G[2]);break;default:O.apply(d,G)}})(z)}finally{w(P),C=!1}}}}function k(P){P.source===u&&typeof P.data=="string"&&P.data.indexOf(x)===0&&M(+P.data.slice(x.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof Sl<"u"?Sl:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Zd)),Zd.exports}var R4=N4();const M4=qx(R4),k4=({isOpen:t,onClose:e})=>{const{projectSettings:i,updateProjectSettings:o,hasUsedFreeTier:r,markFreeTierUsed:l,setToast:u}=os(),[d,p]=ye.useState(i.googleApiKey||""),[h,g]=ye.useState(i.openaiApiKey||""),x=()=>{if(!d&&!h){u({message:"At least one API key is required to proceed.",type:"error"});return}o({googleApiKey:d,openaiApiKey:h}),u({message:"Security Credentials Updated",type:"success"}),e()},S=()=>{l(),u({message:"Trial Project Activated. Please configure keys for your next session.",type:"info"}),e()};return t?_.jsx("div",{className:"fixed inset-0 z-[300] bg-zinc-900/80 backdrop-blur-md flex items-center justify-center p-4",children:_.jsxs($e.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white border-2 border-ink shadow-2xl w-full max-w-lg rounded-lg overflow-hidden flex flex-col",children:[_.jsxs("div",{className:"bg-zinc-50 border-b-2 border-ink p-6",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[_.jsx("div",{className:"p-2 bg-ink text-white rounded-lg",children:_.jsx(zS,{size:24})}),_.jsx("h2",{className:"font-serif font-black text-2xl",children:"Security Clearance"})]}),_.jsx("p",{className:"text-zinc-600 text-sm",children:"To access the autonomous agent network, you must provide your own API credentials. Your keys are stored locally in your browser."})]}),_.jsxs("div",{className:"p-6 space-y-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("label",{className:"text-xs font-bold uppercase text-zinc-500 flex items-center gap-2",children:[_.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"})," Google Gemini API Key"]}),_.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-[10px] text-blue-600 hover:underline flex items-center gap-1",children:["Get Key ",_.jsx(Wy,{size:10})]})]}),_.jsx(ia,{type:"password",placeholder:"AIzaSy...",value:d,onChange:T=>p(T.target.value),className:"font-mono text-xs"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("label",{className:"text-xs font-bold uppercase text-zinc-500 flex items-center gap-2",children:[_.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})," OpenAI API Key"]}),_.jsxs("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noreferrer",className:"text-[10px] text-green-600 hover:underline flex items-center gap-1",children:["Get Key ",_.jsx(Wy,{size:10})]})]}),_.jsx(ia,{type:"password",placeholder:"sk-...",value:h,onChange:T=>g(T.target.value),className:"font-mono text-xs"})]}),!r&&_.jsxs("div",{className:"bg-zinc-50 border border-zinc-200 p-3 rounded flex items-start gap-3",children:[_.jsx("div",{className:"p-1 bg-zinc-200 rounded-full mt-0.5",children:_.jsx(kS,{size:14,className:"text-zinc-500"})}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-sm",children:"One-Time Trial Access"}),_.jsx("p",{className:"text-xs text-zinc-500 mb-2",children:"You can launch one project using the system's demo credits."}),_.jsx("button",{onClick:S,className:"text-xs font-bold text-ink underline decoration-dashed hover:text-accent",children:"Activate Trial Session"})]})]})]}),_.jsxs("div",{className:"p-4 bg-zinc-50 border-t-2 border-ink flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center gap-2 text-zinc-400 text-[10px] uppercase font-bold",children:[_.jsx(JN,{size:12})," Local Encryption"]}),_.jsx(Vt,{onClick:x,icon:_.jsx(Yl,{size:16}),children:"Authenticate"})]})]})}):null},I4={prd:_.jsx(Jl,{size:24}),design:_.jsx(HN,{size:24}),data:_.jsx(ru,{size:24}),logic:_.jsx(lR,{size:24}),api:_.jsx(RS,{size:24}),frontend:_.jsx(bh,{size:24}),deployment:_.jsx(iR,{size:24})},D4=()=>{const{productSeed:t,isSeeded:e,isDecomposing:i,setDecomposing:o,stages:r,artefacts:l,logs:u,commits:d,traces:p,metrics:h,schemas:g,blueprints:x,recentProjects:S,activeStageId:T,selectedArtefact:C,toast:b,processingStepIndex:A,isEnriching:w,isSimulationRunning:M,showPromptGuidance:k,isConsoleOpen:P,activeAgentId:z,isGraphPaused:q,isManualPaused:O,checkpoints:G,currentThinkingStep:F,currentThinkingAgent:ie,interruptPayload:ve,graphStatus:B,activityFeed:$,agentActivity:R,projectSettings:oe,hasUsedFreeTier:J,setProductSeed:Y,seedProject:ee,setActiveStageId:ae,setSelectedArtefact:Se,setToast:D,setShowPromptGuidance:L,setIsConsoleOpen:se,runAgent:ne,startSimulation:ue,stopSimulation:Ae,toggleSimulationPause:Ee,enrichArchitecture:De,handleAgentCommand:Ie,resolveInterrupt:Xe,timeTravel:Ze,deleteBlueprints:Tt,deleteProjects:Jt,addLog:N,loadBlueprint:de}=os(),{isHydrating:le}=S4(),[V,U]=ye.useState(!1),[K,pe]=ye.useState(!1),[me,Q]=ye.useState("llm"),[xe,Te]=ye.useState("board"),[_e,ke]=ye.useState({x:0,y:0,scale:1}),[tt,Oe]=ye.useState(!1),[Kt,Ln]=ye.useState("artifacts"),[Bt,Wn]=ye.useState(!0),it=ye.useRef(null);ye.useEffect(()=>{const ge=!!oe.googleApiKey||!!oe.openaiApiKey;if(!ge&&!J){const Et=setTimeout(()=>pe(!0),1e3);return()=>clearTimeout(Et)}else!ge&&J&&pe(!0)},[oe.googleApiKey,oe.openaiApiKey,J]);const bt=()=>{if(t.trim()){if(t.length<20){L(!0);return}ee(t),Oe(!0)}},sn=ge=>{ae(ge)},ft=()=>ke(ge=>({...ge,scale:Math.min(ge.scale+.1,2)})),zs=()=>ke(ge=>({...ge,scale:Math.max(ge.scale-.1,.5)})),jo=()=>ke({x:0,y:0,scale:1}),Yo=ge=>{ge==="settings"?U(!0):Te(ge)},Qn=ge=>{const Et=ge.type==="code"?"tsx":ge.type==="schema"?"json":"md",dt=new Blob([ge.content],{type:"text/plain"}),It=URL.createObjectURL(dt),Xt=document.createElement("a");Xt.href=It,Xt.download=`${ge.label.replace(/\s+/g,"_")}_${ge.id.substring(0,6)}.${Et}`,Xt.click(),URL.revokeObjectURL(It),D({message:"Download started",type:"success"})},ei=async()=>{if(l.length===0)return;const ge=new M4;l.forEach(Xt=>{const ti=Xt.type==="code"?"tsx":Xt.type==="schema"?"json":"md",ni=`${Xt.sourceStageId}/${Xt.label.replace(/\s+/g,"_")}.${ti}`;ge.file(ni,Xt.content)}),ge.file("README.md",`# Project: ${t}
Generated by Parit Architecture AI.`);const Et=await ge.generateAsync({type:"blob"}),dt=URL.createObjectURL(Et),It=document.createElement("a");It.href=dt,It.download=`Parit_Project_Export_${new Date().toISOString().split("T")[0]}.zip`,It.click(),URL.revokeObjectURL(dt),D({message:"Project Archive Downloaded",type:"success"})},_n=async ge=>{if(console.log(`[Controller] Initiating Agent for stage: ${ge}`),!!r.find(dt=>dt.id===ge)){if(ge!=="prd"&&r.find(It=>It.id==="prd")?.status!=="complete"){D({message:"Cannot run this agent until PRD is complete.",type:"error"});return}switch(ge){case"prd":if(N("Controller","Validating product seed...","system"),!t){D({message:"Product seed is missing.",type:"error"});return}break;case"data":N("Controller","Preparing Schema Validator...","system");break;case"frontend":N("Controller","Loading Design Tokens...","system");break}await ne(ge)}},on=Math.round(r.filter(ge=>ge.status==="complete").length/r.length*100),Ps=r.map(ge=>({label:ge.id.toUpperCase(),value:ge.status==="complete"?"Done":ge.status==="processing"?"Working":ge.status==="idle"?"Ready":ge.status==="awaiting_approval"?"Review":"Locked",status:ge.status==="complete"?"complete":ge.status==="processing"||ge.status==="awaiting_approval"?"active":"pending"})),ut=r.find(ge=>ge.id===T);return _.jsxs(x4,{isCanvasMode:xe==="board",onNavigate:Yo,currentView:xe,projects:S,onDeleteProject:Jt,children:[_.jsx(k4,{isOpen:K,onClose:()=>pe(!1)}),_.jsx(Ti,{children:le&&_.jsxs($e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-white/80 backdrop-blur-sm flex items-center justify-center flex-col gap-4",children:[_.jsx(gN,{size:48,className:"text-accent animate-pulse"}),_.jsx("div",{className:"text-ink font-bold font-serif text-xl",children:"Syncing with Cloud..."})]})}),xe==="board"&&_.jsxs("div",{className:"flex w-full h-full overflow-hidden",children:[_.jsxs("div",{className:"flex-1 relative bg-surface overflow-hidden flex flex-col items-center justify-center",children:[_.jsx("div",{className:"absolute inset-0 dot-matrix-bg opacity-40 pointer-events-none"}),_.jsx(Ti,{children:i&&_.jsx($e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[200]",children:_.jsx(GM,{seed:t,onComplete:()=>o(!1)})})}),e&&Bt&&!i&&_.jsx(kM,{progress:on,stats:Ps,isPlaying:M&&!O,onTogglePlay:()=>{M?Ee():ue()}}),e&&!i&&_.jsxs("div",{className:"fixed top-6 right-6 z-[130] flex gap-2",children:[_.jsx(ov,{icon:Bt?_.jsx(EN,{size:16}):_.jsx(TN,{size:16}),isActive:Bt,onClick:()=>Wn(!Bt),title:"Toggle Stats"}),_.jsx(ov,{icon:_.jsx(ZN,{size:16}),isActive:!!T,onClick:()=>ae(T?null:"prd"),title:"Toggle Metadata Panel"})]}),e&&!i&&_.jsx(MM,{onSend:Ie,onEnrich:De,isEnriching:w}),e&&!i&&_.jsx(IM,{onZoomIn:ft,onZoomOut:zs,onReset:jo,scale:_e.scale}),_.jsx(UM,{agentActivity:R}),_.jsx(PM,{isOpen:B==="interrupted",interruptPayload:ve,onResolve:Xe}),_.jsx(Ti,{children:!e&&!i&&_.jsx($e.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.1,filter:"blur(10px)"},className:"z-10 w-full max-w-2xl px-4",children:_.jsxs(bf,{className:"text-center py-12 px-8",children:[_.jsx("div",{className:"w-16 h-16 bg-ink text-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-hard",children:_.jsx(CS,{size:32})}),_.jsx("h1",{className:"font-serif font-black text-4xl mb-4",children:"What are we building?"}),_.jsx("p",{className:"text-zinc-500 mb-8 max-w-lg mx-auto",children:"Enter your product description. The AI Agents will break it down into a complete architecture specification."}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx(ia,{className:"flex-1",placeholder:"e.g. A marketplace for vintage typewriters...",value:t,onChange:ge=>Y(ge.target.value),onKeyDown:ge=>ge.key==="Enter"&&bt()}),_.jsx(Vt,{onClick:bt,icon:_.jsx(_h,{size:18}),children:"Ignite"})]})]})})}),_.jsx(Ti,{children:e&&!i&&_.jsxs($e.div,{ref:it,className:"absolute inset-0 w-full h-full cursor-grab active:cursor-grabbing origin-center",drag:!0,dragMomentum:!1,onDrag:(ge,Et)=>{ke(dt=>({...dt,x:dt.x+Et.delta.x,y:dt.y+Et.delta.y}))},style:{x:_e.x,y:_e.y,scale:_e.scale},children:[_.jsxs("svg",{className:"absolute -top-[2000px] -left-[2000px] w-[5000px] h-[5000px] pointer-events-none z-0",children:[_.jsxs("defs",{children:[_.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"28",refY:"3.5",orient:"auto",children:_.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#18181b"})}),_.jsx("marker",{id:"arrowhead-reverse",markerWidth:"10",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto",children:_.jsx("polygon",{points:"10 0, 0 3.5, 10 7",fill:"#10b981"})}),_.jsxs("linearGradient",{id:"flow-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[_.jsx("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:"0"}),_.jsx("stop",{offset:"50%",stopColor:"#10b981",stopOpacity:"1"}),_.jsx("stop",{offset:"100%",stopColor:"#10b981",stopOpacity:"0"})]})]}),r.map((ge,Et)=>{if(Et===r.length-1)return null;const dt=r[Et+1],It=2e3,Xt=ge.x+100+It,ti=ge.y+60+It,ni=dt.x+100+It,rs=dt.y+60+It,Jo=ge.status==="complete"&&dt.status!=="locked",Ko=ge.status==="processing"||dt.status==="processing";return _.jsxs("g",{children:[_.jsx("path",{d:`M ${Xt} ${ti} L ${ni} ${rs}`,stroke:ge.status==="complete"?"#18181b":"#e4e4e7",strokeWidth:ge.status==="complete"?"3":"2",strokeDasharray:ge.status==="complete"?"0":"5,5",markerEnd:ge.status==="complete"?"url(#arrowhead)":"",className:"transition-all duration-500"}),Ko&&_.jsx($e.path,{d:`M ${Xt} ${ti} L ${ni} ${rs}`,stroke:"url(#flow-gradient)",strokeWidth:"4",fill:"none",initial:{strokeDasharray:"100 1000",strokeDashoffset:1e3},animate:{strokeDashoffset:0},transition:{duration:1.5,repeat:1/0,ease:"linear"}}),w&&_.jsx($e.path,{d:`M ${Xt} ${ti+10} L ${ni} ${rs+10}`,stroke:"#10b981",strokeWidth:"2",strokeDasharray:"5,5",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},markerStart:"url(#arrowhead-reverse)"}),Jo&&!w&&_.jsx(_.Fragment,{children:_.jsx($e.circle,{r:"4",fill:"#10b981",animate:{offsetDistance:"100%",cx:[Xt,ni],cy:[ti,rs],scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,ease:"linear"}})})]},Et)})]}),r.map(ge=>{const Et=l.find(dt=>dt.sourceStageId===ge.id);return _.jsxs($e.div,{layout:!0,initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.1},className:"absolute",style:{left:ge.x+2e3,top:ge.y+2e3},children:[ge.status==="processing"&&_.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[_.jsx("div",{className:"absolute -inset-2 border-2 border-accent/50 rounded-lg animate-ping opacity-20"}),_.jsx($e.div,{className:"absolute -top-2 -right-2 w-4 h-4 bg-accent rounded-full border-2 border-white z-50 shadow-sm",animate:{y:[0,-5,0]},transition:{duration:1,repeat:1/0}})]}),_.jsxs("div",{onClick:dt=>{dt.stopPropagation(),sn(ge.id)},className:je("w-[220px] bg-white border-2 p-5 flex flex-col gap-3 transition-all relative group rounded-sm",ge.status==="locked"?"border-zinc-200 text-zinc-400 cursor-not-allowed":"border-ink shadow-hard cursor-pointer hover:bg-zinc-50",ge.status==="processing"?"ring-2 ring-accent border-accent":"",ge.status==="awaiting_approval"?"ring-2 ring-amber-500 bg-amber-50":"",ge.status==="complete"?"border-ink":"",T===ge.id?"ring-2 ring-ink ring-offset-2":""),children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsx("div",{className:je("p-2 rounded-md border-2 transition-colors",ge.status==="complete"?"bg-accent border-ink text-ink":ge.status==="locked"?"bg-zinc-50 border-zinc-200":"bg-white border-ink"),children:I4[ge.id]}),ge.status==="complete"&&_.jsx(wl,{variant:"success",children:"DONE"}),ge.status==="processing"&&_.jsx(wl,{variant:"warning",children:"BUSY"}),ge.status==="awaiting_approval"&&_.jsx(wl,{variant:"warning",children:"REVIEW"})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-serif font-bold text-lg leading-tight",children:ge.title}),_.jsx("div",{className:"min-h-[20px] mt-1",children:ge.status==="complete"&&ge.summary?_.jsx("p",{className:"font-mono text-xs font-bold text-ink",children:ge.summary}):ge.status==="locked"?_.jsx("p",{className:"font-mono text-xs text-zinc-400",children:"Waiting for upstream..."}):ge.status==="processing"?_.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[_.jsxs("div",{className:"flex items-center gap-2 text-xs font-mono text-accent font-bold animate-pulse",children:[_.jsx(Eh,{size:12,className:"animate-spin"}),ie||"Agent"," Working..."]}),F&&_.jsx("p",{className:"text-[10px] text-zinc-500 font-mono leading-tight bg-zinc-50 p-1 rounded border border-zinc-100",children:F}),_.jsx("div",{className:"mt-1 opacity-80 scale-95 origin-top-left -ml-1",children:_.jsx(sv,{steps:ge.reasoningSteps,currentStepIndex:A})})]}):ge.status==="awaiting_approval"?_.jsxs("div",{className:"flex items-center gap-1 text-xs font-mono text-amber-600 font-bold animate-pulse",children:[_.jsx(Ro,{size:10})," Approval Required"]}):_.jsx("p",{className:"font-mono text-xs text-zinc-500 italic",children:"To Be Designed"})}),ge.validationStatus&&ge.validationStatus!=="pending"&&_.jsxs("div",{className:je("mt-2 text-[10px] font-bold uppercase flex items-center gap-1",ge.validationStatus==="valid"?"text-emerald-600":"text-red-600"),children:[ge.validationStatus==="valid"?_.jsx(Yl,{size:10}):_.jsx(Ro,{size:10}),ge.validationStatus==="valid"?"VALIDATED":"ISSUES FOUND"]})]}),ge.status==="complete"&&Et&&_.jsx("div",{className:"mt-2 pt-3 border-t-2 border-dashed border-ink/20",children:_.jsxs("button",{onClick:dt=>{dt.stopPropagation(),Se(Et)},className:"w-full flex items-center justify-center gap-2 bg-zinc-100 hover:bg-zinc-200 border border-zinc-300 rounded px-2 py-1 text-xs font-bold transition-colors",children:[_.jsx(Th,{size:12})," View Artifact"]})}),ge.status!=="locked"&&ge.status!=="complete"&&_.jsx("div",{className:"absolute inset-0 bg-ink/5 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center backdrop-blur-[1px]",children:_.jsx("span",{className:"bg-white border-2 border-ink px-2 py-1 text-xs font-bold shadow-sm",children:"OPEN DETAIL"})})]})]},ge.id)})]})}),e&&!i&&_.jsx(HM,{isOpen:tt,onToggle:Oe,activeTab:Kt,onTabChange:Ln,stages:r,artefacts:l,logs:u,commits:d,onDownload:Qn,onDownloadAll:ei,isSimulationRunning:M,isGraphPaused:q,isManualPaused:O,onTogglePause:Ee,onStartSimulation:ue,onStopSimulation:Ae,checkpoints:G,activeAgent:z,onRollback:Ze,interruptPayload:ve,onResolveInterrupt:ge=>Xe(ge==="Approved"?"Approved by user":`Rejected: ${ge}`)})]}),_.jsx(BM,{isOpen:!!T,onToggle:()=>ae(null),title:ut?.title||"Stage Metadata",footer:ut?.status==="locked"?_.jsx("div",{className:"text-center text-xs text-zinc-400 italic",children:"Unlock this stage by completing the previous step."}):ut?.status==="processing"?_.jsx(Vt,{disabled:!0,className:"w-full opacity-100 bg-zinc-100 text-ink border-zinc-300",children:"Processing..."}):ut?.status==="awaiting_approval"?_.jsx(e_,{onApprove:()=>Xe("Approved by User"),onReject:ge=>Xe(`Rejected: ${ge}`)}):_.jsx(Vt,{className:"w-full",onClick:()=>_n(T),icon:_.jsx(VS,{size:18}),children:ut?.status==="complete"?"Regenerate":"Run Agent"}),children:ut&&_.jsxs("div",{className:"space-y-6",children:[_.jsx("div",{className:"flex justify-end",children:_.jsx("button",{onClick:()=>{Oe(!0),Ln("logs")},className:"text-[10px] font-bold uppercase text-zinc-400 hover:text-ink underline decoration-dotted",children:"View Audit Logs"})}),ut.status==="complete"&&_.jsxs("div",{className:"bg-emerald-50 border-2 border-emerald-600 p-4 flex items-start gap-3",children:[_.jsx(Yl,{className:"text-emerald-700 mt-0.5",size:18}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-emerald-900 text-sm",children:"Output Generated"}),_.jsx("p",{className:"text-emerald-800 text-xs",children:"This stage is complete. You can modify the prompt and regenerate if needed."})]})]}),ut.status==="awaiting_approval"&&_.jsxs("div",{className:"bg-amber-50 border-2 border-amber-600 p-4 flex items-start gap-3",children:[_.jsx(Ro,{className:"text-amber-700 mt-0.5",size:18}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-amber-900 text-sm",children:"Supervisor Check"}),_.jsx("p",{className:"text-amber-800 text-xs",children:ve?.message||"The Supervisor Agent has paused execution for human review of the generated logic."})]})]}),ut.validationStatus==="invalid"&&_.jsxs("div",{className:"bg-red-50 border-2 border-red-600 p-4 flex items-start gap-3",children:[_.jsx(Ro,{className:"text-red-700 mt-0.5",size:18}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-red-900 text-sm",children:"Validation Issues"}),_.jsx("ul",{className:"text-red-800 text-xs list-disc pl-4 mt-1",children:ut.validationErrors?.map((ge,Et)=>_.jsx("li",{children:ge},Et))})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase text-zinc-500 tracking-wider",children:"Agent Instructions"}),_.jsx(WS,{className:"font-mono text-xs min-h-[150px] leading-relaxed",value:ut.userPrompt?`${ut.basePrompt}

Input Context: ${ut.userPrompt}`:ut.basePrompt,onChange:ge=>{},disabled:ut.status==="locked"||ut.status==="processing"})]}),ut.status==="processing"&&_.jsxs("div",{className:"border-t-2 border-dashed border-ink/20 pt-4",children:[_.jsx("label",{className:"text-xs font-bold uppercase text-zinc-500 tracking-wider mb-2 block",children:"Agent Reasoning"}),_.jsx(sv,{steps:ut.reasoningSteps,currentStepIndex:A})]}),ut.status==="complete"&&ut.output&&_.jsxs("div",{className:"border-t-2 border-ink pt-4",children:[_.jsxs("label",{className:"text-xs font-bold uppercase text-zinc-500 tracking-wider mb-2 block flex justify-between",children:[_.jsx("span",{children:"Artifact"}),_.jsx("span",{className:"text-zinc-400",children:"MARKDOWN"})]}),_.jsx("div",{className:"bg-zinc-50 border-2 border-ink p-4 font-mono text-sm whitespace-pre-wrap max-h-[300px] overflow-y-auto",children:ut.output})]})]})}),_.jsxs(QS,{isOpen:!!C,onClose:()=>Se(null),title:`Artefact: ${C?.label}`,size:"lg",children:[C&&_.jsxs("div",{className:"grid grid-cols-2 gap-0 h-[600px] border-2 border-ink",children:[_.jsxs("div",{className:"border-r-2 border-ink bg-zinc-50 p-4 font-mono text-sm overflow-y-auto",children:[_.jsx("h4",{className:"font-bold text-xs uppercase mb-4 text-zinc-500",children:"Source Prompt"}),_.jsx("div",{className:"whitespace-pre-wrap text-zinc-600",children:C.promptContext})]}),_.jsxs("div",{className:"p-4 bg-white overflow-y-auto font-mono text-sm",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h4",{className:"font-bold text-xs uppercase text-zinc-500",children:"Generated Output"}),_.jsx(wl,{variant:"info",children:C.type.toUpperCase()})]}),_.jsx("div",{className:"whitespace-pre-wrap text-ink",children:C.content})]})]}),_.jsxs("div",{className:"flex justify-end p-4 border-t-2 border-ink bg-zinc-50 gap-2",children:[_.jsx(Vt,{variant:"secondary",onClick:()=>Se(null),children:"Close"}),_.jsx(Vt,{onClick:()=>C&&Qn(C),icon:_.jsx(na,{size:16}),children:"Download"})]})]}),V&&_.jsx("div",{className:"fixed inset-0 z-[200] bg-white",children:_.jsx(w4,{onClose:()=>U(!1)})})]}),xe==="blueprints"&&_.jsx(LM,{blueprints:x,onLoad:ge=>{de(ge),Te("board")},onDelete:Tt}),xe==="data"&&_.jsx(zM,{schemas:g,projectVersion:"1.0.4"}),xe==="logs"&&_.jsx(VM,{activityFeed:$,commits:d}),xe==="agents"&&_.jsx(DM,{traces:p,metrics:h})]})},z4=mE.createRoot(document.getElementById("root"));z4.render(_.jsx(D4,{}));
